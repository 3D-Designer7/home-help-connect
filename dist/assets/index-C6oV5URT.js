var ig=e=>{throw TypeError(e)};var wd=(e,t,n)=>t.has(e)||ig("Cannot "+n);var z=(e,t,n)=>(wd(e,t,"read from private field"),n?n.call(e):t.get(e)),Ee=(e,t,n)=>t.has(e)?ig("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),he=(e,t,n,r)=>(wd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),yt=(e,t,n)=>(wd(e,t,"access private method"),n);var Nl=(e,t,n,r)=>({set _(s){he(e,t,s,n)},get _(){return z(e,t,r)}});function Y1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var J1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uy={exports:{}},cc={},Fy={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=Symbol.for("react.element"),Q1=Symbol.for("react.portal"),X1=Symbol.for("react.fragment"),eS=Symbol.for("react.strict_mode"),tS=Symbol.for("react.profiler"),nS=Symbol.for("react.provider"),rS=Symbol.for("react.context"),iS=Symbol.for("react.forward_ref"),sS=Symbol.for("react.suspense"),oS=Symbol.for("react.memo"),aS=Symbol.for("react.lazy"),sg=Symbol.iterator;function lS(e){return e===null||typeof e!="object"?null:(e=sg&&e[sg]||e["@@iterator"],typeof e=="function"?e:null)}var Wy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hy=Object.assign,Vy={};function go(e,t,n){this.props=e,this.context=t,this.refs=Vy,this.updater=n||Wy}go.prototype.isReactComponent={};go.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};go.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qy(){}qy.prototype=go.prototype;function $f(e,t,n){this.props=e,this.context=t,this.refs=Vy,this.updater=n||Wy}var Bf=$f.prototype=new qy;Bf.constructor=$f;Hy(Bf,go.prototype);Bf.isPureReactComponent=!0;var og=Array.isArray,Zy=Object.prototype.hasOwnProperty,Uf={current:null},Ky={key:!0,ref:!0,__self:!0,__source:!0};function Gy(e,t,n){var r,s={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Zy.call(t,r)&&!Ky.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var d=Array(u),h=0;h<u;h++)d[h]=arguments[h+2];s.children=d}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:Qa,type:e,key:o,ref:l,props:s,_owner:Uf.current}}function uS(e,t){return{$$typeof:Qa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ff(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qa}function cS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ag=/\/+/g;function xd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cS(""+e.key):t.toString(36)}function du(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Qa:case Q1:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+xd(l,0):r,og(s)?(n="",e!=null&&(n=e.replace(ag,"$&/")+"/"),du(s,t,n,"",function(h){return h})):s!=null&&(Ff(s)&&(s=uS(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(ag,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",og(e))for(var u=0;u<e.length;u++){o=e[u];var d=r+xd(o,u);l+=du(o,t,n,d,s)}else if(d=lS(e),typeof d=="function")for(e=d.call(e),u=0;!(o=e.next()).done;)o=o.value,d=r+xd(o,u++),l+=du(o,t,n,d,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ll(e,t,n){if(e==null)return e;var r=[],s=0;return du(e,r,"","",function(o){return t.call(n,o,s++)}),r}function dS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nt={current:null},hu={transition:null},hS={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:hu,ReactCurrentOwner:Uf};function Yy(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Ll,forEach:function(e,t,n){Ll(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ll(e,function(){t++}),t},toArray:function(e){return Ll(e,function(t){return t})||[]},only:function(e){if(!Ff(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=go;we.Fragment=X1;we.Profiler=tS;we.PureComponent=$f;we.StrictMode=eS;we.Suspense=sS;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hS;we.act=Yy;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Hy({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Uf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)Zy.call(t,d)&&!Ky.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var h=0;h<d;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:Qa,type:e.type,key:s,ref:o,props:r,_owner:l}};we.createContext=function(e){return e={$$typeof:rS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nS,_context:e},e.Consumer=e};we.createElement=Gy;we.createFactory=function(e){var t=Gy.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:iS,render:e}};we.isValidElement=Ff;we.lazy=function(e){return{$$typeof:aS,_payload:{_status:-1,_result:e},_init:dS}};we.memo=function(e,t){return{$$typeof:oS,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=hu.transition;hu.transition={};try{e()}finally{hu.transition=t}};we.unstable_act=Yy;we.useCallback=function(e,t){return Nt.current.useCallback(e,t)};we.useContext=function(e){return Nt.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Nt.current.useDeferredValue(e)};we.useEffect=function(e,t){return Nt.current.useEffect(e,t)};we.useId=function(){return Nt.current.useId()};we.useImperativeHandle=function(e,t,n){return Nt.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return Nt.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Nt.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Nt.current.useMemo(e,t)};we.useReducer=function(e,t,n){return Nt.current.useReducer(e,t,n)};we.useRef=function(e){return Nt.current.useRef(e)};we.useState=function(e){return Nt.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return Nt.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return Nt.current.useTransition()};we.version="18.3.1";Fy.exports=we;var E=Fy.exports;const H=zf(E),Wf=Y1({__proto__:null,default:H},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS=E,pS=Symbol.for("react.element"),mS=Symbol.for("react.fragment"),gS=Object.prototype.hasOwnProperty,vS=fS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yS={key:!0,ref:!0,__self:!0,__source:!0};function Jy(e,t,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)gS.call(t,r)&&!yS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:pS,type:e,key:o,ref:l,props:s,_owner:vS.current}}cc.Fragment=mS;cc.jsx=Jy;cc.jsxs=Jy;Uy.exports=cc;var g=Uy.exports,Qy={exports:{}},Jt={},Xy={exports:{}},e_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,U){var B=I.length;I.push(U);e:for(;0<B;){var Y=B-1>>>1,G=I[Y];if(0<s(G,U))I[Y]=U,I[B]=G,B=Y;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var U=I[0],B=I.pop();if(B!==U){I[0]=B;e:for(var Y=0,G=I.length,re=G>>>1;Y<re;){var te=2*(Y+1)-1,ae=I[te],ie=te+1,ge=I[ie];if(0>s(ae,B))ie<G&&0>s(ge,ae)?(I[Y]=ge,I[ie]=B,Y=ie):(I[Y]=ae,I[te]=B,Y=te);else if(ie<G&&0>s(ge,B))I[Y]=ge,I[ie]=B,Y=ie;else break e}}return U}function s(I,U){var B=I.sortIndex-U.sortIndex;return B!==0?B:I.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,y=null,m=3,v=!1,k=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(I){for(var U=n(h);U!==null;){if(U.callback===null)r(h);else if(U.startTime<=I)r(h),U.sortIndex=U.expirationTime,t(d,U);else break;U=n(h)}}function C(I){if(w=!1,x(I),!k)if(n(d)!==null)k=!0,X(R);else{var U=n(h);U!==null&&ue(C,U.startTime-I)}}function R(I,U){k=!1,w&&(w=!1,b($),$=-1),v=!0;var B=m;try{for(x(U),y=n(d);y!==null&&(!(y.expirationTime>U)||I&&!Q());){var Y=y.callback;if(typeof Y=="function"){y.callback=null,m=y.priorityLevel;var G=Y(y.expirationTime<=U);U=e.unstable_now(),typeof G=="function"?y.callback=G:y===n(d)&&r(d),x(U)}else r(d);y=n(d)}if(y!==null)var re=!0;else{var te=n(h);te!==null&&ue(C,te.startTime-U),re=!1}return re}finally{y=null,m=B,v=!1}}var N=!1,A=null,$=-1,D=5,V=-1;function Q(){return!(e.unstable_now()-V<D)}function Z(){if(A!==null){var I=e.unstable_now();V=I;var U=!0;try{U=A(!0,I)}finally{U?me():(N=!1,A=null)}}else N=!1}var me;if(typeof S=="function")me=function(){S(Z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ye=q.port2;q.port1.onmessage=Z,me=function(){ye.postMessage(null)}}else me=function(){P(Z,0)};function X(I){A=I,N||(N=!0,me())}function ue(I,U){$=P(function(){I(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,X(R))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var B=m;m=U;try{return I()}finally{m=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,U){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=m;m=I;try{return U()}finally{m=B}},e.unstable_scheduleCallback=function(I,U,B){var Y=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,I){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,I={id:p++,callback:U,priorityLevel:I,startTime:B,expirationTime:G,sortIndex:-1},B>Y?(I.sortIndex=B,t(h,I),n(d)===null&&I===n(h)&&(w?(b($),$=-1):w=!0,ue(C,B-Y))):(I.sortIndex=G,t(d,I),k||v||(k=!0,X(R))),I},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(I){var U=m;return function(){var B=m;m=U;try{return I.apply(this,arguments)}finally{m=B}}}})(e_);Xy.exports=e_;var _S=Xy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wS=E,Yt=_S;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t_=new Set,_a={};function Xi(e,t){so(e,t),so(e+"Capture",t)}function so(e,t){for(_a[e]=t,e=0;e<t.length;e++)t_.add(t[e])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=Object.prototype.hasOwnProperty,xS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lg={},ug={};function bS(e){return gh.call(ug,e)?!0:gh.call(lg,e)?!1:xS.test(e)?ug[e]=!0:(lg[e]=!0,!1)}function SS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ES(e,t,n,r){if(t===null||typeof t>"u"||SS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,n,r,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hf=/[\-:]([a-z])/g;function Vf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hf,Vf);mt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hf,Vf);mt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hf,Vf);mt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qf(e,t,n,r){var s=mt.hasOwnProperty(t)?mt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ES(t,n,s,r)&&(n=null),r||s===null?bS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Or=wS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Al=Symbol.for("react.element"),Cs=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),n_=Symbol.for("react.provider"),r_=Symbol.for("react.context"),Kf=Symbol.for("react.forward_ref"),yh=Symbol.for("react.suspense"),_h=Symbol.for("react.suspense_list"),Gf=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),i_=Symbol.for("react.offscreen"),cg=Symbol.iterator;function Ho(e){return e===null||typeof e!="object"?null:(e=cg&&e[cg]||e["@@iterator"],typeof e=="function"?e:null)}var We=Object.assign,bd;function ta(e){if(bd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);bd=t&&t[1]||""}return`
`+bd+e}var Sd=!1;function Ed(e,t){if(!e||Sd)return"";Sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,u=o.length-1;1<=l&&0<=u&&s[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(s[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||s[l]!==o[u]){var d=`
`+s[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{Sd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ta(e):""}function kS(e){switch(e.tag){case 5:return ta(e.type);case 16:return ta("Lazy");case 13:return ta("Suspense");case 19:return ta("SuspenseList");case 0:case 2:case 15:return e=Ed(e.type,!1),e;case 11:return e=Ed(e.type.render,!1),e;case 1:return e=Ed(e.type,!0),e;default:return""}}function wh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case Cs:return"Portal";case vh:return"Profiler";case Zf:return"StrictMode";case yh:return"Suspense";case _h:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case r_:return(e.displayName||"Context")+".Consumer";case n_:return(e._context.displayName||"Context")+".Provider";case Kf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gf:return t=e.displayName||null,t!==null?t:wh(e.type)||"Memo";case Br:t=e._payload,e=e._init;try{return wh(e(t))}catch{}}return null}function PS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wh(t);case 8:return t===Zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ui(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function s_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TS(e){var t=s_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jl(e){e._valueTracker||(e._valueTracker=TS(e))}function o_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=s_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xh(e,t){var n=t.checked;return We({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ui(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function a_(e,t){t=t.checked,t!=null&&qf(e,"checked",t,!1)}function bh(e,t){a_(e,t);var n=ui(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sh(e,t.type,ui(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sh(e,t,n){(t!=="number"||Cu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var na=Array.isArray;function Us(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ui(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Eh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return We({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(na(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ui(n)}}function l_(e,t){var n=ui(t.value),r=ui(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function pg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function u_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?u_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Il,c_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Il=Il||document.createElement("div"),Il.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Il.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CS=["Webkit","ms","Moz","O"];Object.keys(oa).forEach(function(e){CS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oa[t]=oa[e]})});function d_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||oa.hasOwnProperty(e)&&oa[e]?(""+t).trim():t+"px"}function h_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=d_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var OS=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ph(e,t){if(t){if(OS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Th(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=null;function Yf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oh=null,Fs=null,Ws=null;function mg(e){if(e=tl(e)){if(typeof Oh!="function")throw Error(W(280));var t=e.stateNode;t&&(t=mc(t),Oh(e.stateNode,e.type,t))}}function f_(e){Fs?Ws?Ws.push(e):Ws=[e]:Fs=e}function p_(){if(Fs){var e=Fs,t=Ws;if(Ws=Fs=null,mg(e),t)for(e=0;e<t.length;e++)mg(t[e])}}function m_(e,t){return e(t)}function g_(){}var kd=!1;function v_(e,t,n){if(kd)return e(t,n);kd=!0;try{return m_(e,t,n)}finally{kd=!1,(Fs!==null||Ws!==null)&&(g_(),p_())}}function xa(e,t){var n=e.stateNode;if(n===null)return null;var r=mc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Rh=!1;if(br)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){Rh=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{Rh=!1}function RS(e,t,n,r,s,o,l,u,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var aa=!1,Ou=null,Ru=!1,Nh=null,NS={onError:function(e){aa=!0,Ou=e}};function LS(e,t,n,r,s,o,l,u,d){aa=!1,Ou=null,RS.apply(NS,arguments)}function AS(e,t,n,r,s,o,l,u,d){if(LS.apply(this,arguments),aa){if(aa){var h=Ou;aa=!1,Ou=null}else throw Error(W(198));Ru||(Ru=!0,Nh=h)}}function es(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function y_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gg(e){if(es(e)!==e)throw Error(W(188))}function jS(e){var t=e.alternate;if(!t){if(t=es(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return gg(s),e;if(o===r)return gg(s),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,u=s.child;u;){if(u===n){l=!0,n=s,r=o;break}if(u===r){l=!0,r=s,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,r=s;break}if(u===r){l=!0,r=o,n=s;break}u=u.sibling}if(!l)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function __(e){return e=jS(e),e!==null?w_(e):null}function w_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=w_(e);if(t!==null)return t;e=e.sibling}return null}var x_=Yt.unstable_scheduleCallback,vg=Yt.unstable_cancelCallback,IS=Yt.unstable_shouldYield,MS=Yt.unstable_requestPaint,Ge=Yt.unstable_now,DS=Yt.unstable_getCurrentPriorityLevel,Jf=Yt.unstable_ImmediatePriority,b_=Yt.unstable_UserBlockingPriority,Nu=Yt.unstable_NormalPriority,zS=Yt.unstable_LowPriority,S_=Yt.unstable_IdlePriority,dc=null,Xn=null;function $S(e){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(dc,e,void 0,(e.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:FS,BS=Math.log,US=Math.LN2;function FS(e){return e>>>=0,e===0?32:31-(BS(e)/US|0)|0}var Ml=64,Dl=4194304;function ra(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~s;u!==0?r=ra(u):(o&=l,o!==0&&(r=ra(o)))}else l=n&~s,l!==0?r=ra(l):o!==0&&(r=ra(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Cn(t),s=1<<n,r|=e[n],t&=~s;return r}function WS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Cn(o),u=1<<l,d=s[l];d===-1?(!(u&n)||u&r)&&(s[l]=WS(u,t)):d<=t&&(e.expiredLanes|=u),o&=~u}}function Lh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function E_(){var e=Ml;return Ml<<=1,!(Ml&4194240)&&(Ml=64),e}function Pd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cn(t),e[t]=n}function VS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Cn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Qf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Cn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Pe=0;function k_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var P_,Xf,T_,C_,O_,Ah=!1,zl=[],ei=null,ti=null,ni=null,ba=new Map,Sa=new Map,Wr=[],qS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yg(e,t){switch(e){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(t.pointerId)}}function qo(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=tl(t),t!==null&&Xf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ZS(e,t,n,r,s){switch(t){case"focusin":return ei=qo(ei,e,t,n,r,s),!0;case"dragenter":return ti=qo(ti,e,t,n,r,s),!0;case"mouseover":return ni=qo(ni,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return ba.set(o,qo(ba.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Sa.set(o,qo(Sa.get(o)||null,e,t,n,r,s)),!0}return!1}function R_(e){var t=ji(e.target);if(t!==null){var n=es(t);if(n!==null){if(t=n.tag,t===13){if(t=y_(n),t!==null){e.blockedOn=t,O_(e.priority,function(){T_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ch=r,n.target.dispatchEvent(r),Ch=null}else return t=tl(n),t!==null&&Xf(t),e.blockedOn=n,!1;t.shift()}return!0}function _g(e,t,n){fu(e)&&n.delete(t)}function KS(){Ah=!1,ei!==null&&fu(ei)&&(ei=null),ti!==null&&fu(ti)&&(ti=null),ni!==null&&fu(ni)&&(ni=null),ba.forEach(_g),Sa.forEach(_g)}function Zo(e,t){e.blockedOn===t&&(e.blockedOn=null,Ah||(Ah=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,KS)))}function Ea(e){function t(s){return Zo(s,e)}if(0<zl.length){Zo(zl[0],e);for(var n=1;n<zl.length;n++){var r=zl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ei!==null&&Zo(ei,e),ti!==null&&Zo(ti,e),ni!==null&&Zo(ni,e),ba.forEach(t),Sa.forEach(t),n=0;n<Wr.length;n++)r=Wr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wr.length&&(n=Wr[0],n.blockedOn===null);)R_(n),n.blockedOn===null&&Wr.shift()}var Hs=Or.ReactCurrentBatchConfig,Au=!0;function GS(e,t,n,r){var s=Pe,o=Hs.transition;Hs.transition=null;try{Pe=1,ep(e,t,n,r)}finally{Pe=s,Hs.transition=o}}function YS(e,t,n,r){var s=Pe,o=Hs.transition;Hs.transition=null;try{Pe=4,ep(e,t,n,r)}finally{Pe=s,Hs.transition=o}}function ep(e,t,n,r){if(Au){var s=jh(e,t,n,r);if(s===null)Md(e,t,r,ju,n),yg(e,r);else if(ZS(s,e,t,n,r))r.stopPropagation();else if(yg(e,r),t&4&&-1<qS.indexOf(e)){for(;s!==null;){var o=tl(s);if(o!==null&&P_(o),o=jh(e,t,n,r),o===null&&Md(e,t,r,ju,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Md(e,t,r,null,n)}}var ju=null;function jh(e,t,n,r){if(ju=null,e=Yf(r),e=ji(e),e!==null)if(t=es(e),t===null)e=null;else if(n=t.tag,n===13){if(e=y_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ju=e,null}function N_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DS()){case Jf:return 1;case b_:return 4;case Nu:case zS:return 16;case S_:return 536870912;default:return 16}default:return 16}}var Jr=null,tp=null,pu=null;function L_(){if(pu)return pu;var e,t=tp,n=t.length,r,s="value"in Jr?Jr.value:Jr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[o-r];r++);return pu=s.slice(e,1<r?1-r:void 0)}function mu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $l(){return!0}function wg(){return!1}function Qt(e){function t(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$l:wg,this.isPropagationStopped=wg,this}return We(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),t}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},np=Qt(vo),el=We({},vo,{view:0,detail:0}),JS=Qt(el),Td,Cd,Ko,hc=We({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ko&&(Ko&&e.type==="mousemove"?(Td=e.screenX-Ko.screenX,Cd=e.screenY-Ko.screenY):Cd=Td=0,Ko=e),Td)},movementY:function(e){return"movementY"in e?e.movementY:Cd}}),xg=Qt(hc),QS=We({},hc,{dataTransfer:0}),XS=Qt(QS),eE=We({},el,{relatedTarget:0}),Od=Qt(eE),tE=We({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),nE=Qt(tE),rE=We({},vo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iE=Qt(rE),sE=We({},vo,{data:0}),bg=Qt(sE),oE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lE[e])?!!t[e]:!1}function rp(){return uE}var cE=We({},el,{key:function(e){if(e.key){var t=oE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?aE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rp,charCode:function(e){return e.type==="keypress"?mu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dE=Qt(cE),hE=We({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sg=Qt(hE),fE=We({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rp}),pE=Qt(fE),mE=We({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),gE=Qt(mE),vE=We({},hc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yE=Qt(vE),_E=[9,13,27,32],ip=br&&"CompositionEvent"in window,la=null;br&&"documentMode"in document&&(la=document.documentMode);var wE=br&&"TextEvent"in window&&!la,A_=br&&(!ip||la&&8<la&&11>=la),Eg=" ",kg=!1;function j_(e,t){switch(e){case"keyup":return _E.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rs=!1;function xE(e,t){switch(e){case"compositionend":return I_(t);case"keypress":return t.which!==32?null:(kg=!0,Eg);case"textInput":return e=t.data,e===Eg&&kg?null:e;default:return null}}function bE(e,t){if(Rs)return e==="compositionend"||!ip&&j_(e,t)?(e=L_(),pu=tp=Jr=null,Rs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return A_&&t.locale!=="ko"?null:t.data;default:return null}}var SE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SE[e.type]:t==="textarea"}function M_(e,t,n,r){f_(r),t=Iu(t,"onChange"),0<t.length&&(n=new np("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ua=null,ka=null;function EE(e){Z_(e,0)}function fc(e){var t=As(e);if(o_(t))return e}function kE(e,t){if(e==="change")return t}var D_=!1;if(br){var Rd;if(br){var Nd="oninput"in document;if(!Nd){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Nd=typeof Tg.oninput=="function"}Rd=Nd}else Rd=!1;D_=Rd&&(!document.documentMode||9<document.documentMode)}function Cg(){ua&&(ua.detachEvent("onpropertychange",z_),ka=ua=null)}function z_(e){if(e.propertyName==="value"&&fc(ka)){var t=[];M_(t,ka,e,Yf(e)),v_(EE,t)}}function PE(e,t,n){e==="focusin"?(Cg(),ua=t,ka=n,ua.attachEvent("onpropertychange",z_)):e==="focusout"&&Cg()}function TE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fc(ka)}function CE(e,t){if(e==="click")return fc(t)}function OE(e,t){if(e==="input"||e==="change")return fc(t)}function RE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rn=typeof Object.is=="function"?Object.is:RE;function Pa(e,t){if(Rn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gh.call(t,s)||!Rn(e[s],t[s]))return!1}return!0}function Og(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rg(e,t){var n=Og(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Og(n)}}function $_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B_(){for(var e=window,t=Cu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cu(e.document)}return t}function sp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NE(e){var t=B_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$_(n.ownerDocument.documentElement,n)){if(r!==null&&sp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Rg(n,o);var l=Rg(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LE=br&&"documentMode"in document&&11>=document.documentMode,Ns=null,Ih=null,ca=null,Mh=!1;function Ng(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mh||Ns==null||Ns!==Cu(r)||(r=Ns,"selectionStart"in r&&sp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ca&&Pa(ca,r)||(ca=r,r=Iu(Ih,"onSelect"),0<r.length&&(t=new np("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ns)))}function Bl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ls={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},Ld={},U_={};br&&(U_=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function pc(e){if(Ld[e])return Ld[e];if(!Ls[e])return e;var t=Ls[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in U_)return Ld[e]=t[n];return e}var F_=pc("animationend"),W_=pc("animationiteration"),H_=pc("animationstart"),V_=pc("transitionend"),q_=new Map,Lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(e,t){q_.set(e,t),Xi(t,[e])}for(var Ad=0;Ad<Lg.length;Ad++){var jd=Lg[Ad],AE=jd.toLowerCase(),jE=jd[0].toUpperCase()+jd.slice(1);fi(AE,"on"+jE)}fi(F_,"onAnimationEnd");fi(W_,"onAnimationIteration");fi(H_,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(V_,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function Ag(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,AS(r,t,void 0,e),e.currentTarget=null}function Z_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,h=u.currentTarget;if(u=u.listener,d!==o&&s.isPropagationStopped())break e;Ag(s,u,h),o=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,h=u.currentTarget,u=u.listener,d!==o&&s.isPropagationStopped())break e;Ag(s,u,h),o=d}}}if(Ru)throw e=Nh,Ru=!1,Nh=null,e}function je(e,t){var n=t[Uh];n===void 0&&(n=t[Uh]=new Set);var r=e+"__bubble";n.has(r)||(K_(t,e,2,!1),n.add(r))}function Id(e,t,n){var r=0;t&&(r|=4),K_(n,e,r,t)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function Ta(e){if(!e[Ul]){e[Ul]=!0,t_.forEach(function(n){n!=="selectionchange"&&(IE.has(n)||Id(n,!1,e),Id(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ul]||(t[Ul]=!0,Id("selectionchange",!1,t))}}function K_(e,t,n,r){switch(N_(t)){case 1:var s=GS;break;case 4:s=YS;break;default:s=ep}n=s.bind(null,t,n,e),s=void 0,!Rh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Md(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;u!==null;){if(l=ji(u),l===null)return;if(d=l.tag,d===5||d===6){r=o=l;continue e}u=u.parentNode}}r=r.return}v_(function(){var h=o,p=Yf(n),y=[];e:{var m=q_.get(e);if(m!==void 0){var v=np,k=e;switch(e){case"keypress":if(mu(n)===0)break e;case"keydown":case"keyup":v=dE;break;case"focusin":k="focus",v=Od;break;case"focusout":k="blur",v=Od;break;case"beforeblur":case"afterblur":v=Od;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=XS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=pE;break;case F_:case W_:case H_:v=nE;break;case V_:v=gE;break;case"scroll":v=JS;break;case"wheel":v=yE;break;case"copy":case"cut":case"paste":v=iE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Sg}var w=(t&4)!==0,P=!w&&e==="scroll",b=w?m!==null?m+"Capture":null:m;w=[];for(var S=h,x;S!==null;){x=S;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,b!==null&&(C=xa(S,b),C!=null&&w.push(Ca(S,C,x)))),P)break;S=S.return}0<w.length&&(m=new v(m,k,null,n,p),y.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==Ch&&(k=n.relatedTarget||n.fromElement)&&(ji(k)||k[Sr]))break e;if((v||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,v?(k=n.relatedTarget||n.toElement,v=h,k=k?ji(k):null,k!==null&&(P=es(k),k!==P||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=h),v!==k)){if(w=xg,C="onMouseLeave",b="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(w=Sg,C="onPointerLeave",b="onPointerEnter",S="pointer"),P=v==null?m:As(v),x=k==null?m:As(k),m=new w(C,S+"leave",v,n,p),m.target=P,m.relatedTarget=x,C=null,ji(p)===h&&(w=new w(b,S+"enter",k,n,p),w.target=x,w.relatedTarget=P,C=w),P=C,v&&k)t:{for(w=v,b=k,S=0,x=w;x;x=ms(x))S++;for(x=0,C=b;C;C=ms(C))x++;for(;0<S-x;)w=ms(w),S--;for(;0<x-S;)b=ms(b),x--;for(;S--;){if(w===b||b!==null&&w===b.alternate)break t;w=ms(w),b=ms(b)}w=null}else w=null;v!==null&&jg(y,m,v,w,!1),k!==null&&P!==null&&jg(y,P,k,w,!0)}}e:{if(m=h?As(h):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var R=kE;else if(Pg(m))if(D_)R=OE;else{R=TE;var N=PE}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=CE);if(R&&(R=R(e,h))){M_(y,R,n,p);break e}N&&N(e,m,h),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Sh(m,"number",m.value)}switch(N=h?As(h):window,e){case"focusin":(Pg(N)||N.contentEditable==="true")&&(Ns=N,Ih=h,ca=null);break;case"focusout":ca=Ih=Ns=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Ng(y,n,p);break;case"selectionchange":if(LE)break;case"keydown":case"keyup":Ng(y,n,p)}var A;if(ip)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Rs?j_(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(A_&&n.locale!=="ko"&&(Rs||$!=="onCompositionStart"?$==="onCompositionEnd"&&Rs&&(A=L_()):(Jr=p,tp="value"in Jr?Jr.value:Jr.textContent,Rs=!0)),N=Iu(h,$),0<N.length&&($=new bg($,e,null,n,p),y.push({event:$,listeners:N}),A?$.data=A:(A=I_(n),A!==null&&($.data=A)))),(A=wE?xE(e,n):bE(e,n))&&(h=Iu(h,"onBeforeInput"),0<h.length&&(p=new bg("onBeforeInput","beforeinput",null,n,p),y.push({event:p,listeners:h}),p.data=A))}Z_(y,t)})}function Ca(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Iu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=xa(e,n),o!=null&&r.unshift(Ca(e,o,s)),o=xa(e,t),o!=null&&r.push(Ca(e,o,s))),e=e.return}return r}function ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jg(e,t,n,r,s){for(var o=t._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,h=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&h!==null&&(u=h,s?(d=xa(n,o),d!=null&&l.unshift(Ca(n,d,u))):s||(d=xa(n,o),d!=null&&l.push(Ca(n,d,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var ME=/\r\n?/g,DE=/\u0000|\uFFFD/g;function Ig(e){return(typeof e=="string"?e:""+e).replace(ME,`
`).replace(DE,"")}function Fl(e,t,n){if(t=Ig(t),Ig(e)!==t&&n)throw Error(W(425))}function Mu(){}var Dh=null,zh=null;function $h(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bh=typeof setTimeout=="function"?setTimeout:void 0,zE=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,$E=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(e){return Mg.resolve(null).then(e).catch(BE)}:Bh;function BE(e){setTimeout(function(){throw e})}function Dd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ea(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ea(t)}function ri(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var yo=Math.random().toString(36).slice(2),Yn="__reactFiber$"+yo,Oa="__reactProps$"+yo,Sr="__reactContainer$"+yo,Uh="__reactEvents$"+yo,UE="__reactListeners$"+yo,FE="__reactHandles$"+yo;function ji(e){var t=e[Yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sr]||n[Yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dg(e);e!==null;){if(n=e[Yn])return n;e=Dg(e)}return t}e=n,n=e.parentNode}return null}function tl(e){return e=e[Yn]||e[Sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function As(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function mc(e){return e[Oa]||null}var Fh=[],js=-1;function pi(e){return{current:e}}function De(e){0>js||(e.current=Fh[js],Fh[js]=null,js--)}function Le(e,t){js++,Fh[js]=e.current,e.current=t}var ci={},St=pi(ci),Dt=pi(!1),qi=ci;function oo(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function zt(e){return e=e.childContextTypes,e!=null}function Du(){De(Dt),De(St)}function zg(e,t,n){if(St.current!==ci)throw Error(W(168));Le(St,t),Le(Dt,n)}function G_(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(W(108,PS(e)||"Unknown",s));return We({},n,r)}function zu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,qi=St.current,Le(St,e),Le(Dt,Dt.current),!0}function $g(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=G_(e,t,qi),r.__reactInternalMemoizedMergedChildContext=e,De(Dt),De(St),Le(St,e)):De(Dt),Le(Dt,n)}var vr=null,gc=!1,zd=!1;function Y_(e){vr===null?vr=[e]:vr.push(e)}function WE(e){gc=!0,Y_(e)}function mi(){if(!zd&&vr!==null){zd=!0;var e=0,t=Pe;try{var n=vr;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vr=null,gc=!1}catch(s){throw vr!==null&&(vr=vr.slice(e+1)),x_(Jf,mi),s}finally{Pe=t,zd=!1}}return null}var Is=[],Ms=0,$u=null,Bu=0,an=[],ln=0,Zi=null,_r=1,wr="";function Oi(e,t){Is[Ms++]=Bu,Is[Ms++]=$u,$u=e,Bu=t}function J_(e,t,n){an[ln++]=_r,an[ln++]=wr,an[ln++]=Zi,Zi=e;var r=_r;e=wr;var s=32-Cn(r)-1;r&=~(1<<s),n+=1;var o=32-Cn(t)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,_r=1<<32-Cn(t)+s|n<<s|r,wr=o+e}else _r=1<<o|n<<s|r,wr=e}function op(e){e.return!==null&&(Oi(e,1),J_(e,1,0))}function ap(e){for(;e===$u;)$u=Is[--Ms],Is[Ms]=null,Bu=Is[--Ms],Is[Ms]=null;for(;e===Zi;)Zi=an[--ln],an[ln]=null,wr=an[--ln],an[ln]=null,_r=an[--ln],an[ln]=null}var Kt=null,Zt=null,ze=!1,Tn=null;function Q_(e,t){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kt=e,Zt=ri(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kt=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zi!==null?{id:_r,overflow:wr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Kt=e,Zt=null,!0):!1;default:return!1}}function Wh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hh(e){if(ze){var t=Zt;if(t){var n=t;if(!Bg(e,t)){if(Wh(e))throw Error(W(418));t=ri(n.nextSibling);var r=Kt;t&&Bg(e,t)?Q_(r,n):(e.flags=e.flags&-4097|2,ze=!1,Kt=e)}}else{if(Wh(e))throw Error(W(418));e.flags=e.flags&-4097|2,ze=!1,Kt=e}}}function Ug(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kt=e}function Wl(e){if(e!==Kt)return!1;if(!ze)return Ug(e),ze=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$h(e.type,e.memoizedProps)),t&&(t=Zt)){if(Wh(e))throw X_(),Error(W(418));for(;t;)Q_(e,t),t=ri(t.nextSibling)}if(Ug(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zt=ri(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=Kt?ri(e.stateNode.nextSibling):null;return!0}function X_(){for(var e=Zt;e;)e=ri(e.nextSibling)}function ao(){Zt=Kt=null,ze=!1}function lp(e){Tn===null?Tn=[e]:Tn.push(e)}var HE=Or.ReactCurrentBatchConfig;function Go(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var u=s.refs;l===null?delete u[o]:u[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Hl(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fg(e){var t=e._init;return t(e._payload)}function ew(e){function t(b,S){if(e){var x=b.deletions;x===null?(b.deletions=[S],b.flags|=16):x.push(S)}}function n(b,S){if(!e)return null;for(;S!==null;)t(b,S),S=S.sibling;return null}function r(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function s(b,S){return b=ai(b,S),b.index=0,b.sibling=null,b}function o(b,S,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<S?(b.flags|=2,S):x):(b.flags|=2,S)):(b.flags|=1048576,S)}function l(b){return e&&b.alternate===null&&(b.flags|=2),b}function u(b,S,x,C){return S===null||S.tag!==6?(S=Vd(x,b.mode,C),S.return=b,S):(S=s(S,x),S.return=b,S)}function d(b,S,x,C){var R=x.type;return R===Os?p(b,S,x.props.children,C,x.key):S!==null&&(S.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Br&&Fg(R)===S.type)?(C=s(S,x.props),C.ref=Go(b,S,x),C.return=b,C):(C=bu(x.type,x.key,x.props,null,b.mode,C),C.ref=Go(b,S,x),C.return=b,C)}function h(b,S,x,C){return S===null||S.tag!==4||S.stateNode.containerInfo!==x.containerInfo||S.stateNode.implementation!==x.implementation?(S=qd(x,b.mode,C),S.return=b,S):(S=s(S,x.children||[]),S.return=b,S)}function p(b,S,x,C,R){return S===null||S.tag!==7?(S=Vi(x,b.mode,C,R),S.return=b,S):(S=s(S,x),S.return=b,S)}function y(b,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Vd(""+S,b.mode,x),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Al:return x=bu(S.type,S.key,S.props,null,b.mode,x),x.ref=Go(b,null,S),x.return=b,x;case Cs:return S=qd(S,b.mode,x),S.return=b,S;case Br:var C=S._init;return y(b,C(S._payload),x)}if(na(S)||Ho(S))return S=Vi(S,b.mode,x,null),S.return=b,S;Hl(b,S)}return null}function m(b,S,x,C){var R=S!==null?S.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:u(b,S,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Al:return x.key===R?d(b,S,x,C):null;case Cs:return x.key===R?h(b,S,x,C):null;case Br:return R=x._init,m(b,S,R(x._payload),C)}if(na(x)||Ho(x))return R!==null?null:p(b,S,x,C,null);Hl(b,x)}return null}function v(b,S,x,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(x)||null,u(S,b,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Al:return b=b.get(C.key===null?x:C.key)||null,d(S,b,C,R);case Cs:return b=b.get(C.key===null?x:C.key)||null,h(S,b,C,R);case Br:var N=C._init;return v(b,S,x,N(C._payload),R)}if(na(C)||Ho(C))return b=b.get(x)||null,p(S,b,C,R,null);Hl(S,C)}return null}function k(b,S,x,C){for(var R=null,N=null,A=S,$=S=0,D=null;A!==null&&$<x.length;$++){A.index>$?(D=A,A=null):D=A.sibling;var V=m(b,A,x[$],C);if(V===null){A===null&&(A=D);break}e&&A&&V.alternate===null&&t(b,A),S=o(V,S,$),N===null?R=V:N.sibling=V,N=V,A=D}if($===x.length)return n(b,A),ze&&Oi(b,$),R;if(A===null){for(;$<x.length;$++)A=y(b,x[$],C),A!==null&&(S=o(A,S,$),N===null?R=A:N.sibling=A,N=A);return ze&&Oi(b,$),R}for(A=r(b,A);$<x.length;$++)D=v(A,b,$,x[$],C),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?$:D.key),S=o(D,S,$),N===null?R=D:N.sibling=D,N=D);return e&&A.forEach(function(Q){return t(b,Q)}),ze&&Oi(b,$),R}function w(b,S,x,C){var R=Ho(x);if(typeof R!="function")throw Error(W(150));if(x=R.call(x),x==null)throw Error(W(151));for(var N=R=null,A=S,$=S=0,D=null,V=x.next();A!==null&&!V.done;$++,V=x.next()){A.index>$?(D=A,A=null):D=A.sibling;var Q=m(b,A,V.value,C);if(Q===null){A===null&&(A=D);break}e&&A&&Q.alternate===null&&t(b,A),S=o(Q,S,$),N===null?R=Q:N.sibling=Q,N=Q,A=D}if(V.done)return n(b,A),ze&&Oi(b,$),R;if(A===null){for(;!V.done;$++,V=x.next())V=y(b,V.value,C),V!==null&&(S=o(V,S,$),N===null?R=V:N.sibling=V,N=V);return ze&&Oi(b,$),R}for(A=r(b,A);!V.done;$++,V=x.next())V=v(A,b,$,V.value,C),V!==null&&(e&&V.alternate!==null&&A.delete(V.key===null?$:V.key),S=o(V,S,$),N===null?R=V:N.sibling=V,N=V);return e&&A.forEach(function(Z){return t(b,Z)}),ze&&Oi(b,$),R}function P(b,S,x,C){if(typeof x=="object"&&x!==null&&x.type===Os&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Al:e:{for(var R=x.key,N=S;N!==null;){if(N.key===R){if(R=x.type,R===Os){if(N.tag===7){n(b,N.sibling),S=s(N,x.props.children),S.return=b,b=S;break e}}else if(N.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Br&&Fg(R)===N.type){n(b,N.sibling),S=s(N,x.props),S.ref=Go(b,N,x),S.return=b,b=S;break e}n(b,N);break}else t(b,N);N=N.sibling}x.type===Os?(S=Vi(x.props.children,b.mode,C,x.key),S.return=b,b=S):(C=bu(x.type,x.key,x.props,null,b.mode,C),C.ref=Go(b,S,x),C.return=b,b=C)}return l(b);case Cs:e:{for(N=x.key;S!==null;){if(S.key===N)if(S.tag===4&&S.stateNode.containerInfo===x.containerInfo&&S.stateNode.implementation===x.implementation){n(b,S.sibling),S=s(S,x.children||[]),S.return=b,b=S;break e}else{n(b,S);break}else t(b,S);S=S.sibling}S=qd(x,b.mode,C),S.return=b,b=S}return l(b);case Br:return N=x._init,P(b,S,N(x._payload),C)}if(na(x))return k(b,S,x,C);if(Ho(x))return w(b,S,x,C);Hl(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,S!==null&&S.tag===6?(n(b,S.sibling),S=s(S,x),S.return=b,b=S):(n(b,S),S=Vd(x,b.mode,C),S.return=b,b=S),l(b)):n(b,S)}return P}var lo=ew(!0),tw=ew(!1),Uu=pi(null),Fu=null,Ds=null,up=null;function cp(){up=Ds=Fu=null}function dp(e){var t=Uu.current;De(Uu),e._currentValue=t}function Vh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vs(e,t){Fu=e,up=Ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mt=!0),e.firstContext=null)}function dn(e){var t=e._currentValue;if(up!==e)if(e={context:e,memoizedValue:t,next:null},Ds===null){if(Fu===null)throw Error(W(308));Ds=e,Fu.dependencies={lanes:0,firstContext:e}}else Ds=Ds.next=e;return t}var Ii=null;function hp(e){Ii===null?Ii=[e]:Ii.push(e)}function nw(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,hp(t)):(n.next=s.next,s.next=n),t.interleaved=n,Er(e,r)}function Er(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ur=!1;function fp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Er(e,n)}return s=r.interleaved,s===null?(t.next=t,hp(r)):(t.next=s.next,s.next=t),r.interleaved=t,Er(e,n)}function gu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qf(e,n)}}function Wg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wu(e,t,n,r){var s=e.updateQueue;Ur=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var d=u,h=d.next;d.next=null,l===null?o=h:l.next=h,l=d;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==l&&(u===null?p.firstBaseUpdate=h:u.next=h,p.lastBaseUpdate=d))}if(o!==null){var y=s.baseState;l=0,p=h=d=null,u=o;do{var m=u.lane,v=u.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var k=e,w=u;switch(m=t,v=n,w.tag){case 1:if(k=w.payload,typeof k=="function"){y=k.call(v,y,m);break e}y=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=w.payload,m=typeof k=="function"?k.call(v,y,m):k,m==null)break e;y=We({},y,m);break e;case 2:Ur=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[u]:m.push(u))}else v={eventTime:v,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(h=p=v,d=y):p=p.next=v,l|=m;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;m=u,u=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(p===null&&(d=y),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Gi|=l,e.lanes=l,e.memoizedState=y}}function Hg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var nl={},er=pi(nl),Ra=pi(nl),Na=pi(nl);function Mi(e){if(e===nl)throw Error(W(174));return e}function pp(e,t){switch(Le(Na,t),Le(Ra,e),Le(er,nl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kh(t,e)}De(er),Le(er,t)}function uo(){De(er),De(Ra),De(Na)}function iw(e){Mi(Na.current);var t=Mi(er.current),n=kh(t,e.type);t!==n&&(Le(Ra,e),Le(er,n))}function mp(e){Ra.current===e&&(De(er),De(Ra))}var Ue=pi(0);function Hu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $d=[];function gp(){for(var e=0;e<$d.length;e++)$d[e]._workInProgressVersionPrimary=null;$d.length=0}var vu=Or.ReactCurrentDispatcher,Bd=Or.ReactCurrentBatchConfig,Ki=0,Fe=null,nt=null,at=null,Vu=!1,da=!1,La=0,VE=0;function _t(){throw Error(W(321))}function vp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rn(e[n],t[n]))return!1;return!0}function yp(e,t,n,r,s,o){if(Ki=o,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vu.current=e===null||e.memoizedState===null?GE:YE,e=n(r,s),da){o=0;do{if(da=!1,La=0,25<=o)throw Error(W(301));o+=1,at=nt=null,t.updateQueue=null,vu.current=JE,e=n(r,s)}while(da)}if(vu.current=qu,t=nt!==null&&nt.next!==null,Ki=0,at=nt=Fe=null,Vu=!1,t)throw Error(W(300));return e}function _p(){var e=La!==0;return La=0,e}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Fe.memoizedState=at=e:at=at.next=e,at}function hn(){if(nt===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=at===null?Fe.memoizedState:at.next;if(t!==null)at=t,nt=e;else{if(e===null)throw Error(W(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},at===null?Fe.memoizedState=at=e:at=at.next=e}return at}function Aa(e,t){return typeof t=="function"?t(e):t}function Ud(e){var t=hn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=nt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var u=l=null,d=null,h=o;do{var p=h.lane;if((Ki&p)===p)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var y={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(u=d=y,l=r):d=d.next=y,Fe.lanes|=p,Gi|=p}h=h.next}while(h!==null&&h!==o);d===null?l=r:d.next=u,Rn(r,t.memoizedState)||(Mt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Fe.lanes|=o,Gi|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fd(e){var t=hn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);Rn(o,t.memoizedState)||(Mt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function sw(){}function ow(e,t){var n=Fe,r=hn(),s=t(),o=!Rn(r.memoizedState,s);if(o&&(r.memoizedState=s,Mt=!0),r=r.queue,wp(uw.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,ja(9,lw.bind(null,n,r,s,t),void 0,null),lt===null)throw Error(W(349));Ki&30||aw(n,t,s)}return s}function aw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lw(e,t,n,r){t.value=n,t.getSnapshot=r,cw(t)&&dw(e)}function uw(e,t,n){return n(function(){cw(t)&&dw(e)})}function cw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rn(e,n)}catch{return!0}}function dw(e){var t=Er(e,1);t!==null&&On(t,e,1,-1)}function Vg(e){var t=qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=KE.bind(null,Fe,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function hw(){return hn().memoizedState}function yu(e,t,n,r){var s=qn();Fe.flags|=e,s.memoizedState=ja(1|t,n,void 0,r===void 0?null:r)}function vc(e,t,n,r){var s=hn();r=r===void 0?null:r;var o=void 0;if(nt!==null){var l=nt.memoizedState;if(o=l.destroy,r!==null&&vp(r,l.deps)){s.memoizedState=ja(t,n,o,r);return}}Fe.flags|=e,s.memoizedState=ja(1|t,n,o,r)}function qg(e,t){return yu(8390656,8,e,t)}function wp(e,t){return vc(2048,8,e,t)}function fw(e,t){return vc(4,2,e,t)}function pw(e,t){return vc(4,4,e,t)}function mw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gw(e,t,n){return n=n!=null?n.concat([e]):null,vc(4,4,mw.bind(null,t,e),n)}function xp(){}function vw(e,t){var n=hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yw(e,t){var n=hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _w(e,t,n){return Ki&21?(Rn(n,t)||(n=E_(),Fe.lanes|=n,Gi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mt=!0),e.memoizedState=n)}function qE(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=Bd.transition;Bd.transition={};try{e(!1),t()}finally{Pe=n,Bd.transition=r}}function ww(){return hn().memoizedState}function ZE(e,t,n){var r=oi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xw(e))bw(t,n);else if(n=nw(e,t,n,r),n!==null){var s=Rt();On(n,e,r,s),Sw(n,t,r)}}function KE(e,t,n){var r=oi(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xw(e))bw(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,u=o(l,n);if(s.hasEagerState=!0,s.eagerState=u,Rn(u,l)){var d=t.interleaved;d===null?(s.next=s,hp(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}n=nw(e,t,s,r),n!==null&&(s=Rt(),On(n,e,r,s),Sw(n,t,r))}}function xw(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function bw(e,t){da=Vu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qf(e,n)}}var qu={readContext:dn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},GE={readContext:dn,useCallback:function(e,t){return qn().memoizedState=[e,t===void 0?null:t],e},useContext:dn,useEffect:qg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yu(4194308,4,mw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yu(4194308,4,e,t)},useInsertionEffect:function(e,t){return yu(4,2,e,t)},useMemo:function(e,t){var n=qn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ZE.bind(null,Fe,e),[r.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:Vg,useDebugValue:xp,useDeferredValue:function(e){return qn().memoizedState=e},useTransition:function(){var e=Vg(!1),t=e[0];return e=qE.bind(null,e[1]),qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Fe,s=qn();if(ze){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),lt===null)throw Error(W(349));Ki&30||aw(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,qg(uw.bind(null,r,o,e),[e]),r.flags|=2048,ja(9,lw.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=qn(),t=lt.identifierPrefix;if(ze){var n=wr,r=_r;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=La++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=VE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YE={readContext:dn,useCallback:vw,useContext:dn,useEffect:wp,useImperativeHandle:gw,useInsertionEffect:fw,useLayoutEffect:pw,useMemo:yw,useReducer:Ud,useRef:hw,useState:function(){return Ud(Aa)},useDebugValue:xp,useDeferredValue:function(e){var t=hn();return _w(t,nt.memoizedState,e)},useTransition:function(){var e=Ud(Aa)[0],t=hn().memoizedState;return[e,t]},useMutableSource:sw,useSyncExternalStore:ow,useId:ww,unstable_isNewReconciler:!1},JE={readContext:dn,useCallback:vw,useContext:dn,useEffect:wp,useImperativeHandle:gw,useInsertionEffect:fw,useLayoutEffect:pw,useMemo:yw,useReducer:Fd,useRef:hw,useState:function(){return Fd(Aa)},useDebugValue:xp,useDeferredValue:function(e){var t=hn();return nt===null?t.memoizedState=e:_w(t,nt.memoizedState,e)},useTransition:function(){var e=Fd(Aa)[0],t=hn().memoizedState;return[e,t]},useMutableSource:sw,useSyncExternalStore:ow,useId:ww,unstable_isNewReconciler:!1};function wn(e,t){if(e&&e.defaultProps){t=We({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:We({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yc={isMounted:function(e){return(e=e._reactInternals)?es(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rt(),s=oi(e),o=xr(r,s);o.payload=t,n!=null&&(o.callback=n),t=ii(e,o,s),t!==null&&(On(t,e,s,r),gu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rt(),s=oi(e),o=xr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ii(e,o,s),t!==null&&(On(t,e,s,r),gu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),r=oi(e),s=xr(n,r);s.tag=2,t!=null&&(s.callback=t),t=ii(e,s,r),t!==null&&(On(t,e,r,n),gu(t,e,r))}};function Zg(e,t,n,r,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!Pa(n,r)||!Pa(s,o):!0}function Ew(e,t,n){var r=!1,s=ci,o=t.contextType;return typeof o=="object"&&o!==null?o=dn(o):(s=zt(t)?qi:St.current,r=t.contextTypes,o=(r=r!=null)?oo(e,s):ci),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Kg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yc.enqueueReplaceState(t,t.state,null)}function Zh(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},fp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=dn(o):(o=zt(t)?qi:St.current,s.context=oo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qh(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yc.enqueueReplaceState(s,s.state,null),Wu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do n+=kS(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Wd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var QE=typeof WeakMap=="function"?WeakMap:Map;function kw(e,t,n){n=xr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,sf=r),Kh(e,t)},n}function Pw(e,t,n){n=xr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Kh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Kh(e,t),typeof r!="function"&&(si===null?si=new Set([this]):si.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Gg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new QE;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=hk.bind(null,e,t,n),t.then(e,e))}function Yg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jg(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xr(-1,1),t.tag=2,ii(n,t,1))),n.lanes|=1),e)}var XE=Or.ReactCurrentOwner,Mt=!1;function Ct(e,t,n,r){t.child=e===null?tw(t,null,n,r):lo(t,e.child,n,r)}function Qg(e,t,n,r,s){n=n.render;var o=t.ref;return Vs(t,s),r=yp(e,t,n,r,o,s),n=_p(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kr(e,t,s)):(ze&&n&&op(t),t.flags|=1,Ct(e,t,r,s),t.child)}function Xg(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Op(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Tw(e,t,o,r,s)):(e=bu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Pa,n(l,r)&&e.ref===t.ref)return kr(e,t,s)}return t.flags|=1,e=ai(o,r),e.ref=t.ref,e.return=t,t.child=e}function Tw(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Pa(o,r)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Mt=!0);else return t.lanes=e.lanes,kr(e,t,s)}return Gh(e,t,n,r,s)}function Cw(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le($s,Ht),Ht|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le($s,Ht),Ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Le($s,Ht),Ht|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Le($s,Ht),Ht|=r;return Ct(e,t,s,n),t.child}function Ow(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gh(e,t,n,r,s){var o=zt(n)?qi:St.current;return o=oo(t,o),Vs(t,s),n=yp(e,t,n,r,o,s),r=_p(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kr(e,t,s)):(ze&&r&&op(t),t.flags|=1,Ct(e,t,n,s),t.child)}function ev(e,t,n,r,s){if(zt(n)){var o=!0;zu(t)}else o=!1;if(Vs(t,s),t.stateNode===null)_u(e,t),Ew(t,n,r),Zh(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=dn(h):(h=zt(n)?qi:St.current,h=oo(t,h));var p=n.getDerivedStateFromProps,y=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";y||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==h)&&Kg(t,l,r,h),Ur=!1;var m=t.memoizedState;l.state=m,Wu(t,r,l,s),d=t.memoizedState,u!==r||m!==d||Dt.current||Ur?(typeof p=="function"&&(qh(t,n,p,r),d=t.memoizedState),(u=Ur||Zg(t,n,u,r,m,d,h))?(y||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=h,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,rw(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:wn(t.type,u),l.props=h,y=t.pendingProps,m=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=dn(d):(d=zt(n)?qi:St.current,d=oo(t,d));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==y||m!==d)&&Kg(t,l,r,d),Ur=!1,m=t.memoizedState,l.state=m,Wu(t,r,l,s);var k=t.memoizedState;u!==y||m!==k||Dt.current||Ur?(typeof v=="function"&&(qh(t,n,v,r),k=t.memoizedState),(h=Ur||Zg(t,n,h,r,m,k,d)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,k,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,k,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),l.props=r,l.state=k,l.context=d,r=h):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Yh(e,t,n,r,o,s)}function Yh(e,t,n,r,s,o){Ow(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&$g(t,n,!1),kr(e,t,o);r=t.stateNode,XE.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=lo(t,e.child,null,o),t.child=lo(t,null,u,o)):Ct(e,t,u,o),t.memoizedState=r.state,s&&$g(t,n,!0),t.child}function Rw(e){var t=e.stateNode;t.pendingContext?zg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zg(e,t.context,!1),pp(e,t.containerInfo)}function tv(e,t,n,r,s){return ao(),lp(s),t.flags|=256,Ct(e,t,n,r),t.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function Qh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nw(e,t,n){var r=t.pendingProps,s=Ue.current,o=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Le(Ue,s&1),e===null)return Hh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=xc(l,r,0,null),e=Vi(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Qh(n),t.memoizedState=Jh,e):bp(t,l));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return ek(e,t,l,r,u,s,n);if(o){o=r.fallback,l=t.mode,s=e.child,u=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=ai(s,d),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=ai(u,o):(o=Vi(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Qh(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Jh,r}return o=e.child,e=o.sibling,r=ai(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bp(e,t){return t=xc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vl(e,t,n,r){return r!==null&&lp(r),lo(t,e.child,null,n),e=bp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ek(e,t,n,r,s,o,l){if(n)return t.flags&256?(t.flags&=-257,r=Wd(Error(W(422))),Vl(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=xc({mode:"visible",children:r.children},s,0,null),o=Vi(o,s,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&lo(t,e.child,null,l),t.child.memoizedState=Qh(l),t.memoizedState=Jh,o);if(!(t.mode&1))return Vl(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(W(419)),r=Wd(o,r,void 0),Vl(e,t,l,r)}if(u=(l&e.childLanes)!==0,Mt||u){if(r=lt,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Er(e,s),On(r,e,s,-1))}return Cp(),r=Wd(Error(W(421))),Vl(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=fk.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Zt=ri(s.nextSibling),Kt=t,ze=!0,Tn=null,e!==null&&(an[ln++]=_r,an[ln++]=wr,an[ln++]=Zi,_r=e.id,wr=e.overflow,Zi=t),t=bp(t,r.children),t.flags|=4096,t)}function nv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vh(e.return,t,n)}function Hd(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Lw(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Ct(e,t,r.children,n),r=Ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nv(e,n,t);else if(e.tag===19)nv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(Ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Hu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Hd(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Hu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Hd(t,!0,n,null,o);break;case"together":Hd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _u(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=ai(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ai(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tk(e,t,n){switch(t.tag){case 3:Rw(t),ao();break;case 5:iw(t);break;case 1:zt(t.type)&&zu(t);break;case 4:pp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Le(Uu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ue,Ue.current&1),t.flags|=128,null):n&t.child.childLanes?Nw(e,t,n):(Le(Ue,Ue.current&1),e=kr(e,t,n),e!==null?e.sibling:null);Le(Ue,Ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Lw(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Ue,Ue.current),r)break;return null;case 22:case 23:return t.lanes=0,Cw(e,t,n)}return kr(e,t,n)}var Aw,Xh,jw,Iw;Aw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xh=function(){};jw=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Mi(er.current);var o=null;switch(n){case"input":s=xh(e,s),r=xh(e,r),o=[];break;case"select":s=We({},s,{value:void 0}),r=We({},r,{value:void 0}),o=[];break;case"textarea":s=Eh(e,s),r=Eh(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Mu)}Ph(n,r);var l;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var u=s[h];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(_a.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var d=r[h];if(u=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==u&&(d!=null||u!=null))if(h==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(o||(o=[]),o.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(o=o||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(_a.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&je("scroll",e),o||u===d||(o=[])):(o=o||[]).push(h,d))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};Iw=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yo(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function nk(e,t,n){var r=t.pendingProps;switch(ap(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return zt(t.type)&&Du(),wt(t),null;case 3:return r=t.stateNode,uo(),De(Dt),De(St),gp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Wl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tn!==null&&(lf(Tn),Tn=null))),Xh(e,t),wt(t),null;case 5:mp(t);var s=Mi(Na.current);if(n=t.type,e!==null&&t.stateNode!=null)jw(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return wt(t),null}if(e=Mi(er.current),Wl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Yn]=t,r[Oa]=o,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<ia.length;s++)je(ia[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":dg(r,o),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},je("invalid",r);break;case"textarea":fg(r,o),je("invalid",r)}Ph(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Fl(r.textContent,u,e),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Fl(r.textContent,u,e),s=["children",""+u]):_a.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&je("scroll",r)}switch(n){case"input":jl(r),hg(r,o,!0);break;case"textarea":jl(r),pg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Mu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=u_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Yn]=t,e[Oa]=r,Aw(e,t,!1,!1),t.stateNode=e;e:{switch(l=Th(n,r),n){case"dialog":je("cancel",e),je("close",e),s=r;break;case"iframe":case"object":case"embed":je("load",e),s=r;break;case"video":case"audio":for(s=0;s<ia.length;s++)je(ia[s],e);s=r;break;case"source":je("error",e),s=r;break;case"img":case"image":case"link":je("error",e),je("load",e),s=r;break;case"details":je("toggle",e),s=r;break;case"input":dg(e,r),s=xh(e,r),je("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=We({},r,{value:void 0}),je("invalid",e);break;case"textarea":fg(e,r),s=Eh(e,r),je("invalid",e);break;default:s=r}Ph(n,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var d=u[o];o==="style"?h_(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&c_(e,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&wa(e,d):typeof d=="number"&&wa(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_a.hasOwnProperty(o)?d!=null&&o==="onScroll"&&je("scroll",e):d!=null&&qf(e,o,d,l))}switch(n){case"input":jl(e),hg(e,r,!1);break;case"textarea":jl(e),pg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ui(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Us(e,!!r.multiple,o,!1):r.defaultValue!=null&&Us(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Mu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)Iw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Mi(Na.current),Mi(er.current),Wl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yn]=t,(o=r.nodeValue!==n)&&(e=Kt,e!==null))switch(e.tag){case 3:Fl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=t,t.stateNode=r}return wt(t),null;case 13:if(De(Ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ze&&Zt!==null&&t.mode&1&&!(t.flags&128))X_(),ao(),t.flags|=98560,o=!1;else if(o=Wl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[Yn]=t}else ao(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),o=!1}else Tn!==null&&(lf(Tn),Tn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?it===0&&(it=3):Cp())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return uo(),Xh(e,t),e===null&&Ta(t.stateNode.containerInfo),wt(t),null;case 10:return dp(t.type._context),wt(t),null;case 17:return zt(t.type)&&Du(),wt(t),null;case 19:if(De(Ue),o=t.memoizedState,o===null)return wt(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Yo(o,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Hu(e),l!==null){for(t.flags|=128,Yo(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(Ue,Ue.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ge()>ho&&(t.flags|=128,r=!0,Yo(o,!1),t.lanes=4194304)}else{if(!r)if(e=Hu(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!ze)return wt(t),null}else 2*Ge()-o.renderingStartTime>ho&&n!==1073741824&&(t.flags|=128,r=!0,Yo(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ge(),t.sibling=null,n=Ue.current,Le(Ue,r?n&1|2:n&1),t):(wt(t),null);case 22:case 23:return Tp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ht&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function rk(e,t){switch(ap(t),t.tag){case 1:return zt(t.type)&&Du(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return uo(),De(Dt),De(St),gp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mp(t),null;case 13:if(De(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ao()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Ue),null;case 4:return uo(),null;case 10:return dp(t.type._context),null;case 22:case 23:return Tp(),null;case 24:return null;default:return null}}var ql=!1,bt=!1,ik=typeof WeakSet=="function"?WeakSet:Set,J=null;function zs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(e,t,r)}else n.current=null}function ef(e,t,n){try{n()}catch(r){Ze(e,t,r)}}var rv=!1;function sk(e,t){if(Dh=Au,e=B_(),sp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,h=0,p=0,y=e,m=null;t:for(;;){for(var v;y!==n||s!==0&&y.nodeType!==3||(u=l+s),y!==o||r!==0&&y.nodeType!==3||(d=l+r),y.nodeType===3&&(l+=y.nodeValue.length),(v=y.firstChild)!==null;)m=y,y=v;for(;;){if(y===e)break t;if(m===n&&++h===s&&(u=l),m===o&&++p===r&&(d=l),(v=y.nextSibling)!==null)break;y=m,m=y.parentNode}y=v}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(zh={focusedElem:e,selectionRange:n},Au=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var w=k.memoizedProps,P=k.memoizedState,b=t.stateNode,S=b.getSnapshotBeforeUpdate(t.elementType===t.type?w:wn(t.type,w),P);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(C){Ze(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return k=rv,rv=!1,k}function ha(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ef(t,n,o)}s=s.next}while(s!==r)}}function _c(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mw(e){var t=e.alternate;t!==null&&(e.alternate=null,Mw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[Oa],delete t[Uh],delete t[UE],delete t[FE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dw(e){return e.tag===5||e.tag===3||e.tag===4}function iv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mu));else if(r!==4&&(e=e.child,e!==null))for(nf(e,t,n),e=e.sibling;e!==null;)nf(e,t,n),e=e.sibling}function rf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rf(e,t,n),e=e.sibling;e!==null;)rf(e,t,n),e=e.sibling}var ht=null,kn=!1;function Ir(e,t,n){for(n=n.child;n!==null;)zw(e,t,n),n=n.sibling}function zw(e,t,n){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(dc,n)}catch{}switch(n.tag){case 5:bt||zs(n,t);case 6:var r=ht,s=kn;ht=null,Ir(e,t,n),ht=r,kn=s,ht!==null&&(kn?(e=ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(kn?(e=ht,n=n.stateNode,e.nodeType===8?Dd(e.parentNode,n):e.nodeType===1&&Dd(e,n),Ea(e)):Dd(ht,n.stateNode));break;case 4:r=ht,s=kn,ht=n.stateNode.containerInfo,kn=!0,Ir(e,t,n),ht=r,kn=s;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&ef(n,t,l),s=s.next}while(s!==r)}Ir(e,t,n);break;case 1:if(!bt&&(zs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ze(n,t,u)}Ir(e,t,n);break;case 21:Ir(e,t,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Ir(e,t,n),bt=r):Ir(e,t,n);break;default:Ir(e,t,n)}}function sv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ik),t.forEach(function(r){var s=pk.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:ht=u.stateNode,kn=!1;break e;case 3:ht=u.stateNode.containerInfo,kn=!0;break e;case 4:ht=u.stateNode.containerInfo,kn=!0;break e}u=u.return}if(ht===null)throw Error(W(160));zw(o,l,s),ht=null,kn=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){Ze(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$w(t,e),t=t.sibling}function $w(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vn(t,e),Vn(e),r&4){try{ha(3,e,e.return),_c(3,e)}catch(w){Ze(e,e.return,w)}try{ha(5,e,e.return)}catch(w){Ze(e,e.return,w)}}break;case 1:vn(t,e),Vn(e),r&512&&n!==null&&zs(n,n.return);break;case 5:if(vn(t,e),Vn(e),r&512&&n!==null&&zs(n,n.return),e.flags&32){var s=e.stateNode;try{wa(s,"")}catch(w){Ze(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&a_(s,o),Th(u,l);var h=Th(u,o);for(l=0;l<d.length;l+=2){var p=d[l],y=d[l+1];p==="style"?h_(s,y):p==="dangerouslySetInnerHTML"?c_(s,y):p==="children"?wa(s,y):qf(s,p,y,h)}switch(u){case"input":bh(s,o);break;case"textarea":l_(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Us(s,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?Us(s,!!o.multiple,o.defaultValue,!0):Us(s,!!o.multiple,o.multiple?[]:"",!1))}s[Oa]=o}catch(w){Ze(e,e.return,w)}}break;case 6:if(vn(t,e),Vn(e),r&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(w){Ze(e,e.return,w)}}break;case 3:if(vn(t,e),Vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ea(t.containerInfo)}catch(w){Ze(e,e.return,w)}break;case 4:vn(t,e),Vn(e);break;case 13:vn(t,e),Vn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(kp=Ge())),r&4&&sv(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(bt=(h=bt)||p,vn(t,e),bt=h):vn(t,e),Vn(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(J=e,p=e.child;p!==null;){for(y=J=p;J!==null;){switch(m=J,v=m.child,m.tag){case 0:case 11:case 14:case 15:ha(4,m,m.return);break;case 1:zs(m,m.return);var k=m.stateNode;if(typeof k.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(w){Ze(r,n,w)}}break;case 5:zs(m,m.return);break;case 22:if(m.memoizedState!==null){av(y);continue}}v!==null?(v.return=m,J=v):av(y)}p=p.sibling}e:for(p=null,y=e;;){if(y.tag===5){if(p===null){p=y;try{s=y.stateNode,h?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=y.stateNode,d=y.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=d_("display",l))}catch(w){Ze(e,e.return,w)}}}else if(y.tag===6){if(p===null)try{y.stateNode.nodeValue=h?"":y.memoizedProps}catch(w){Ze(e,e.return,w)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;p===y&&(p=null),y=y.return}p===y&&(p=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:vn(t,e),Vn(e),r&4&&sv(e);break;case 21:break;default:vn(t,e),Vn(e)}}function Vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dw(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wa(s,""),r.flags&=-33);var o=iv(e);rf(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,u=iv(e);nf(e,u,l);break;default:throw Error(W(161))}}catch(d){Ze(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ok(e,t,n){J=e,Bw(e)}function Bw(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var s=J,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||ql;if(!l){var u=s.alternate,d=u!==null&&u.memoizedState!==null||bt;u=ql;var h=bt;if(ql=l,(bt=d)&&!h)for(J=s;J!==null;)l=J,d=l.child,l.tag===22&&l.memoizedState!==null?lv(s):d!==null?(d.return=l,J=d):lv(s);for(;o!==null;)J=o,Bw(o),o=o.sibling;J=s,ql=u,bt=h}ov(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,J=o):ov(e)}}function ov(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bt||_c(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!bt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:wn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Hg(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hg(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var y=p.dehydrated;y!==null&&Ea(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}bt||t.flags&512&&tf(t)}catch(m){Ze(t,t.return,m)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function av(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function lv(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_c(4,t)}catch(d){Ze(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(d){Ze(t,s,d)}}var o=t.return;try{tf(t)}catch(d){Ze(t,o,d)}break;case 5:var l=t.return;try{tf(t)}catch(d){Ze(t,l,d)}}}catch(d){Ze(t,t.return,d)}if(t===e){J=null;break}var u=t.sibling;if(u!==null){u.return=t.return,J=u;break}J=t.return}}var ak=Math.ceil,Zu=Or.ReactCurrentDispatcher,Sp=Or.ReactCurrentOwner,cn=Or.ReactCurrentBatchConfig,be=0,lt=null,Xe=null,pt=0,Ht=0,$s=pi(0),it=0,Ia=null,Gi=0,wc=0,Ep=0,fa=null,It=null,kp=0,ho=1/0,mr=null,Ku=!1,sf=null,si=null,Zl=!1,Qr=null,Gu=0,pa=0,of=null,wu=-1,xu=0;function Rt(){return be&6?Ge():wu!==-1?wu:wu=Ge()}function oi(e){return e.mode&1?be&2&&pt!==0?pt&-pt:HE.transition!==null?(xu===0&&(xu=E_()),xu):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:N_(e.type)),e):1}function On(e,t,n,r){if(50<pa)throw pa=0,of=null,Error(W(185));Xa(e,n,r),(!(be&2)||e!==lt)&&(e===lt&&(!(be&2)&&(wc|=n),it===4&&Hr(e,pt)),$t(e,r),n===1&&be===0&&!(t.mode&1)&&(ho=Ge()+500,gc&&mi()))}function $t(e,t){var n=e.callbackNode;HS(e,t);var r=Lu(e,e===lt?pt:0);if(r===0)n!==null&&vg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vg(n),t===1)e.tag===0?WE(uv.bind(null,e)):Y_(uv.bind(null,e)),$E(function(){!(be&6)&&mi()}),n=null;else{switch(k_(r)){case 1:n=Jf;break;case 4:n=b_;break;case 16:n=Nu;break;case 536870912:n=S_;break;default:n=Nu}n=Kw(n,Uw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Uw(e,t){if(wu=-1,xu=0,be&6)throw Error(W(327));var n=e.callbackNode;if(qs()&&e.callbackNode!==n)return null;var r=Lu(e,e===lt?pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yu(e,r);else{t=r;var s=be;be|=2;var o=Ww();(lt!==e||pt!==t)&&(mr=null,ho=Ge()+500,Hi(e,t));do try{ck();break}catch(u){Fw(e,u)}while(!0);cp(),Zu.current=o,be=s,Xe!==null?t=0:(lt=null,pt=0,t=it)}if(t!==0){if(t===2&&(s=Lh(e),s!==0&&(r=s,t=af(e,s))),t===1)throw n=Ia,Hi(e,0),Hr(e,r),$t(e,Ge()),n;if(t===6)Hr(e,r);else{if(s=e.current.alternate,!(r&30)&&!lk(s)&&(t=Yu(e,r),t===2&&(o=Lh(e),o!==0&&(r=o,t=af(e,o))),t===1))throw n=Ia,Hi(e,0),Hr(e,r),$t(e,Ge()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Ri(e,It,mr);break;case 3:if(Hr(e,r),(r&130023424)===r&&(t=kp+500-Ge(),10<t)){if(Lu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bh(Ri.bind(null,e,It,mr),t);break}Ri(e,It,mr);break;case 4:if(Hr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-Cn(r);o=1<<l,l=t[l],l>s&&(s=l),r&=~o}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ak(r/1960))-r,10<r){e.timeoutHandle=Bh(Ri.bind(null,e,It,mr),r);break}Ri(e,It,mr);break;case 5:Ri(e,It,mr);break;default:throw Error(W(329))}}}return $t(e,Ge()),e.callbackNode===n?Uw.bind(null,e):null}function af(e,t){var n=fa;return e.current.memoizedState.isDehydrated&&(Hi(e,t).flags|=256),e=Yu(e,t),e!==2&&(t=It,It=n,t!==null&&lf(t)),e}function lf(e){It===null?It=e:It.push.apply(It,e)}function lk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Rn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hr(e,t){for(t&=~Ep,t&=~wc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cn(t),r=1<<n;e[n]=-1,t&=~r}}function uv(e){if(be&6)throw Error(W(327));qs();var t=Lu(e,0);if(!(t&1))return $t(e,Ge()),null;var n=Yu(e,t);if(e.tag!==0&&n===2){var r=Lh(e);r!==0&&(t=r,n=af(e,r))}if(n===1)throw n=Ia,Hi(e,0),Hr(e,t),$t(e,Ge()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ri(e,It,mr),$t(e,Ge()),null}function Pp(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(ho=Ge()+500,gc&&mi())}}function Yi(e){Qr!==null&&Qr.tag===0&&!(be&6)&&qs();var t=be;be|=1;var n=cn.transition,r=Pe;try{if(cn.transition=null,Pe=1,e)return e()}finally{Pe=r,cn.transition=n,be=t,!(be&6)&&mi()}}function Tp(){Ht=$s.current,De($s)}function Hi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zE(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(ap(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Du();break;case 3:uo(),De(Dt),De(St),gp();break;case 5:mp(r);break;case 4:uo();break;case 13:De(Ue);break;case 19:De(Ue);break;case 10:dp(r.type._context);break;case 22:case 23:Tp()}n=n.return}if(lt=e,Xe=e=ai(e.current,null),pt=Ht=t,it=0,Ia=null,Ep=wc=Gi=0,It=fa=null,Ii!==null){for(t=0;t<Ii.length;t++)if(n=Ii[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}Ii=null}return e}function Fw(e,t){do{var n=Xe;try{if(cp(),vu.current=qu,Vu){for(var r=Fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vu=!1}if(Ki=0,at=nt=Fe=null,da=!1,La=0,Sp.current=null,n===null||n.return===null){it=1,Ia=t,Xe=null;break}e:{var o=e,l=n.return,u=n,d=t;if(t=pt,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,p=u,y=p.tag;if(!(p.mode&1)&&(y===0||y===11||y===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Yg(l);if(v!==null){v.flags&=-257,Jg(v,l,u,o,t),v.mode&1&&Gg(o,h,t),t=v,d=h;var k=t.updateQueue;if(k===null){var w=new Set;w.add(d),t.updateQueue=w}else k.add(d);break e}else{if(!(t&1)){Gg(o,h,t),Cp();break e}d=Error(W(426))}}else if(ze&&u.mode&1){var P=Yg(l);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Jg(P,l,u,o,t),lp(co(d,u));break e}}o=d=co(d,u),it!==4&&(it=2),fa===null?fa=[o]:fa.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=kw(o,d,t);Wg(o,b);break e;case 1:u=d;var S=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(si===null||!si.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=Pw(o,u,t);Wg(o,C);break e}}o=o.return}while(o!==null)}Vw(n)}catch(R){t=R,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function Ww(){var e=Zu.current;return Zu.current=qu,e===null?qu:e}function Cp(){(it===0||it===3||it===2)&&(it=4),lt===null||!(Gi&268435455)&&!(wc&268435455)||Hr(lt,pt)}function Yu(e,t){var n=be;be|=2;var r=Ww();(lt!==e||pt!==t)&&(mr=null,Hi(e,t));do try{uk();break}catch(s){Fw(e,s)}while(!0);if(cp(),be=n,Zu.current=r,Xe!==null)throw Error(W(261));return lt=null,pt=0,it}function uk(){for(;Xe!==null;)Hw(Xe)}function ck(){for(;Xe!==null&&!IS();)Hw(Xe)}function Hw(e){var t=Zw(e.alternate,e,Ht);e.memoizedProps=e.pendingProps,t===null?Vw(e):Xe=t,Sp.current=null}function Vw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=rk(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,Xe=null;return}}else if(n=nk(n,t,Ht),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);it===0&&(it=5)}function Ri(e,t,n){var r=Pe,s=cn.transition;try{cn.transition=null,Pe=1,dk(e,t,n,r)}finally{cn.transition=s,Pe=r}return null}function dk(e,t,n,r){do qs();while(Qr!==null);if(be&6)throw Error(W(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(VS(e,o),e===lt&&(Xe=lt=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zl||(Zl=!0,Kw(Nu,function(){return qs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=cn.transition,cn.transition=null;var l=Pe;Pe=1;var u=be;be|=4,Sp.current=null,sk(e,n),$w(n,e),NE(zh),Au=!!Dh,zh=Dh=null,e.current=n,ok(n),MS(),be=u,Pe=l,cn.transition=o}else e.current=n;if(Zl&&(Zl=!1,Qr=e,Gu=s),o=e.pendingLanes,o===0&&(si=null),$S(n.stateNode),$t(e,Ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ku)throw Ku=!1,e=sf,sf=null,e;return Gu&1&&e.tag!==0&&qs(),o=e.pendingLanes,o&1?e===of?pa++:(pa=0,of=e):pa=0,mi(),null}function qs(){if(Qr!==null){var e=k_(Gu),t=cn.transition,n=Pe;try{if(cn.transition=null,Pe=16>e?16:e,Qr===null)var r=!1;else{if(e=Qr,Qr=null,Gu=0,be&6)throw Error(W(331));var s=be;for(be|=4,J=e.current;J!==null;){var o=J,l=o.child;if(J.flags&16){var u=o.deletions;if(u!==null){for(var d=0;d<u.length;d++){var h=u[d];for(J=h;J!==null;){var p=J;switch(p.tag){case 0:case 11:case 15:ha(8,p,o)}var y=p.child;if(y!==null)y.return=p,J=y;else for(;J!==null;){p=J;var m=p.sibling,v=p.return;if(Mw(p),p===h){J=null;break}if(m!==null){m.return=v,J=m;break}J=v}}}var k=o.alternate;if(k!==null){var w=k.child;if(w!==null){k.child=null;do{var P=w.sibling;w.sibling=null,w=P}while(w!==null)}}J=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,J=l;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ha(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,J=b;break e}J=o.return}}var S=e.current;for(J=S;J!==null;){l=J;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,J=x;else e:for(l=S;J!==null;){if(u=J,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:_c(9,u)}}catch(R){Ze(u,u.return,R)}if(u===l){J=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,J=C;break e}J=u.return}}if(be=s,mi(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(dc,e)}catch{}r=!0}return r}finally{Pe=n,cn.transition=t}}return!1}function cv(e,t,n){t=co(n,t),t=kw(e,t,1),e=ii(e,t,1),t=Rt(),e!==null&&(Xa(e,1,t),$t(e,t))}function Ze(e,t,n){if(e.tag===3)cv(e,e,n);else for(;t!==null;){if(t.tag===3){cv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(si===null||!si.has(r))){e=co(n,e),e=Pw(t,e,1),t=ii(t,e,1),e=Rt(),t!==null&&(Xa(t,1,e),$t(t,e));break}}t=t.return}}function hk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,lt===e&&(pt&n)===n&&(it===4||it===3&&(pt&130023424)===pt&&500>Ge()-kp?Hi(e,0):Ep|=n),$t(e,t)}function qw(e,t){t===0&&(e.mode&1?(t=Dl,Dl<<=1,!(Dl&130023424)&&(Dl=4194304)):t=1);var n=Rt();e=Er(e,t),e!==null&&(Xa(e,t,n),$t(e,n))}function fk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qw(e,n)}function pk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),qw(e,n)}var Zw;Zw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dt.current)Mt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Mt=!1,tk(e,t,n);Mt=!!(e.flags&131072)}else Mt=!1,ze&&t.flags&1048576&&J_(t,Bu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_u(e,t),e=t.pendingProps;var s=oo(t,St.current);Vs(t,n),s=yp(null,t,r,e,s,n);var o=_p();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zt(r)?(o=!0,zu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fp(t),s.updater=yc,t.stateNode=s,s._reactInternals=t,Zh(t,r,e,n),t=Yh(null,t,r,!0,o,n)):(t.tag=0,ze&&o&&op(t),Ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_u(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=gk(r),e=wn(r,e),s){case 0:t=Gh(null,t,r,e,n);break e;case 1:t=ev(null,t,r,e,n);break e;case 11:t=Qg(null,t,r,e,n);break e;case 14:t=Xg(null,t,r,wn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),Gh(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),ev(e,t,r,s,n);case 3:e:{if(Rw(t),e===null)throw Error(W(387));r=t.pendingProps,o=t.memoizedState,s=o.element,rw(e,t),Wu(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=co(Error(W(423)),t),t=tv(e,t,r,n,s);break e}else if(r!==s){s=co(Error(W(424)),t),t=tv(e,t,r,n,s);break e}else for(Zt=ri(t.stateNode.containerInfo.firstChild),Kt=t,ze=!0,Tn=null,n=tw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),r===s){t=kr(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 5:return iw(t),e===null&&Hh(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,$h(r,s)?l=null:o!==null&&$h(r,o)&&(t.flags|=32),Ow(e,t),Ct(e,t,l,n),t.child;case 6:return e===null&&Hh(t),null;case 13:return Nw(e,t,n);case 4:return pp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=lo(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),Qg(e,t,r,s,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,Le(Uu,r._currentValue),r._currentValue=l,o!==null)if(Rn(o.value,l)){if(o.children===s.children&&!Dt.current){t=kr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=xr(-1,n&-n),d.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?d.next=d:(d.next=p.next,p.next=d),h.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),Vh(o.return,n,t),u.lanes|=n;break}d=d.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(W(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Vh(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Vs(t,n),s=dn(s),r=r(s),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return r=t.type,s=wn(r,t.pendingProps),s=wn(r.type,s),Xg(e,t,r,s,n);case 15:return Tw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wn(r,s),_u(e,t),t.tag=1,zt(r)?(e=!0,zu(t)):e=!1,Vs(t,n),Ew(t,r,s),Zh(t,r,s,n),Yh(null,t,r,!0,e,n);case 19:return Lw(e,t,n);case 22:return Cw(e,t,n)}throw Error(W(156,t.tag))};function Kw(e,t){return x_(e,t)}function mk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,r){return new mk(e,t,n,r)}function Op(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gk(e){if(typeof e=="function")return Op(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kf)return 11;if(e===Gf)return 14}return 2}function ai(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bu(e,t,n,r,s,o){var l=2;if(r=e,typeof e=="function")Op(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Os:return Vi(n.children,s,o,t);case Zf:l=8,s|=8;break;case vh:return e=un(12,n,t,s|2),e.elementType=vh,e.lanes=o,e;case yh:return e=un(13,n,t,s),e.elementType=yh,e.lanes=o,e;case _h:return e=un(19,n,t,s),e.elementType=_h,e.lanes=o,e;case i_:return xc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case n_:l=10;break e;case r_:l=9;break e;case Kf:l=11;break e;case Gf:l=14;break e;case Br:l=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=un(l,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Vi(e,t,n,r){return e=un(7,e,r,t),e.lanes=n,e}function xc(e,t,n,r){return e=un(22,e,r,t),e.elementType=i_,e.lanes=n,e.stateNode={isHidden:!1},e}function Vd(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function qd(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vk(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pd(0),this.expirationTimes=Pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rp(e,t,n,r,s,o,l,u,d){return e=new vk(e,t,n,u,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=un(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fp(o),e}function yk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Gw(e){if(!e)return ci;e=e._reactInternals;e:{if(es(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(zt(n))return G_(e,n,t)}return t}function Yw(e,t,n,r,s,o,l,u,d){return e=Rp(n,r,!0,e,s,o,l,u,d),e.context=Gw(null),n=e.current,r=Rt(),s=oi(n),o=xr(r,s),o.callback=t??null,ii(n,o,s),e.current.lanes=s,Xa(e,s,r),$t(e,r),e}function bc(e,t,n,r){var s=t.current,o=Rt(),l=oi(s);return n=Gw(n),t.context===null?t.context=n:t.pendingContext=n,t=xr(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ii(s,t,l),e!==null&&(On(e,s,l,o),gu(e,s,l)),l}function Ju(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Np(e,t){dv(e,t),(e=e.alternate)&&dv(e,t)}function _k(){return null}var Jw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lp(e){this._internalRoot=e}Sc.prototype.render=Lp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));bc(e,t,null,null)};Sc.prototype.unmount=Lp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yi(function(){bc(null,e,null,null)}),t[Sr]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var t=C_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wr.length&&t!==0&&t<Wr[n].priority;n++);Wr.splice(n,0,e),n===0&&R_(e)}};function Ap(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ec(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hv(){}function wk(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var h=Ju(l);o.call(h)}}var l=Yw(t,r,e,0,null,!1,!1,"",hv);return e._reactRootContainer=l,e[Sr]=l.current,Ta(e.nodeType===8?e.parentNode:e),Yi(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var h=Ju(d);u.call(h)}}var d=Rp(e,0,!1,null,null,!1,!1,"",hv);return e._reactRootContainer=d,e[Sr]=d.current,Ta(e.nodeType===8?e.parentNode:e),Yi(function(){bc(t,d,n,r)}),d}function kc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var u=s;s=function(){var d=Ju(l);u.call(d)}}bc(t,l,e,s)}else l=wk(n,t,e,s,r);return Ju(l)}P_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ra(t.pendingLanes);n!==0&&(Qf(t,n|1),$t(t,Ge()),!(be&6)&&(ho=Ge()+500,mi()))}break;case 13:Yi(function(){var r=Er(e,1);if(r!==null){var s=Rt();On(r,e,1,s)}}),Np(e,1)}};Xf=function(e){if(e.tag===13){var t=Er(e,134217728);if(t!==null){var n=Rt();On(t,e,134217728,n)}Np(e,134217728)}};T_=function(e){if(e.tag===13){var t=oi(e),n=Er(e,t);if(n!==null){var r=Rt();On(n,e,t,r)}Np(e,t)}};C_=function(){return Pe};O_=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};Oh=function(e,t,n){switch(t){case"input":if(bh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=mc(r);if(!s)throw Error(W(90));o_(r),bh(r,s)}}}break;case"textarea":l_(e,n);break;case"select":t=n.value,t!=null&&Us(e,!!n.multiple,t,!1)}};m_=Pp;g_=Yi;var xk={usingClientEntryPoint:!1,Events:[tl,As,mc,f_,p_,Pp]},Jo={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bk={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=__(e),e===null?null:e.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||_k,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{dc=Kl.inject(bk),Xn=Kl}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xk;Jt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ap(t))throw Error(W(200));return yk(e,t,null,n)};Jt.createRoot=function(e,t){if(!Ap(e))throw Error(W(299));var n=!1,r="",s=Jw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Rp(e,1,!1,null,null,n,!1,r,s),e[Sr]=t.current,Ta(e.nodeType===8?e.parentNode:e),new Lp(t)};Jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=__(t),e=e===null?null:e.stateNode,e};Jt.flushSync=function(e){return Yi(e)};Jt.hydrate=function(e,t,n){if(!Ec(t))throw Error(W(200));return kc(null,e,t,!0,n)};Jt.hydrateRoot=function(e,t,n){if(!Ap(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=Jw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Yw(t,null,e,1,n??null,s,!1,o,l),e[Sr]=t.current,Ta(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Sc(t)};Jt.render=function(e,t,n){if(!Ec(t))throw Error(W(200));return kc(null,e,t,!1,n)};Jt.unmountComponentAtNode=function(e){if(!Ec(e))throw Error(W(40));return e._reactRootContainer?(Yi(function(){kc(null,null,e,!1,function(){e._reactRootContainer=null,e[Sr]=null})}),!0):!1};Jt.unstable_batchedUpdates=Pp;Jt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ec(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return kc(e,t,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function Qw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qw)}catch(e){console.error(e)}}Qw(),Qy.exports=Jt;var rl=Qy.exports;const Xw=zf(rl);var e0,fv=rl;e0=fv.createRoot,fv.hydrateRoot;const Sk=1,Ek=1e6;let Zd=0;function kk(){return Zd=(Zd+1)%Number.MAX_SAFE_INTEGER,Zd.toString()}const Kd=new Map,pv=e=>{if(Kd.has(e))return;const t=setTimeout(()=>{Kd.delete(e),ma({type:"REMOVE_TOAST",toastId:e})},Ek);Kd.set(e,t)},Pk=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Sk)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?pv(n):e.toasts.forEach(r=>{pv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Su=[];let Eu={toasts:[]};function ma(e){Eu=Pk(Eu,e),Su.forEach(t=>{t(Eu)})}function Tk({...e}){const t=kk(),n=s=>ma({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ma({type:"DISMISS_TOAST",toastId:t});return ma({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Ck(){const[e,t]=E.useState(Eu);return E.useEffect(()=>(Su.push(t),()=>{const n=Su.indexOf(t);n>-1&&Su.splice(n,1)}),[e]),{...e,toast:Tk,dismiss:n=>ma({type:"DISMISS_TOAST",toastId:n})}}function Me(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function mv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function t0(...e){return t=>{let n=!1;const r=e.map(s=>{const o=mv(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():mv(e[s],null)}}}}function gt(...e){return E.useCallback(t0(...e),e)}function Ok(e,t){const n=E.createContext(t),r=o=>{const{children:l,...u}=o,d=E.useMemo(()=>u,Object.values(u));return g.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function s(o){const l=E.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function _o(e,t=[]){let n=[];function r(o,l){const u=E.createContext(l),d=n.length;n=[...n,l];const h=y=>{var b;const{scope:m,children:v,...k}=y,w=((b=m==null?void 0:m[e])==null?void 0:b[d])||u,P=E.useMemo(()=>k,Object.values(k));return g.jsx(w.Provider,{value:P,children:v})};h.displayName=o+"Provider";function p(y,m){var w;const v=((w=m==null?void 0:m[e])==null?void 0:w[d])||u,k=E.useContext(v);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[h,p]}const s=()=>{const o=n.map(l=>E.createContext(l));return function(u){const d=(u==null?void 0:u[e])||o;return E.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,Rk(s,...t)]}function Rk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:h})=>{const y=d(o)[`__scope${h}`];return{...u,...y}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function Ma(e){const t=Lk(e),n=E.forwardRef((r,s)=>{const{children:o,...l}=r,u=E.Children.toArray(o),d=u.find(jk);if(d){const h=d.props.children,p=u.map(y=>y===d?E.Children.count(h)>1?E.Children.only(null):E.isValidElement(h)?h.props.children:null:y);return g.jsx(t,{...l,ref:s,children:E.isValidElement(h)?E.cloneElement(h,void 0,p):null})}return g.jsx(t,{...l,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var Nk=Ma("Slot");function Lk(e){const t=E.forwardRef((n,r)=>{const{children:s,...o}=n;if(E.isValidElement(s)){const l=Mk(s),u=Ik(o,s.props);return s.type!==E.Fragment&&(u.ref=r?t0(r,l):l),E.cloneElement(s,u)}return E.Children.count(s)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n0=Symbol("radix.slottable");function Ak(e){const t=({children:n})=>g.jsx(g.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=n0,t}function jk(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n0}function Ik(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Mk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Dk(e){const t=e+"CollectionProvider",[n,r]=_o(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:P,children:b}=w,S=H.useRef(null),x=H.useRef(new Map).current;return g.jsx(s,{scope:P,itemMap:x,collectionRef:S,children:b})};l.displayName=t;const u=e+"CollectionSlot",d=Ma(u),h=H.forwardRef((w,P)=>{const{scope:b,children:S}=w,x=o(u,b),C=gt(P,x.collectionRef);return g.jsx(d,{ref:C,children:S})});h.displayName=u;const p=e+"CollectionItemSlot",y="data-radix-collection-item",m=Ma(p),v=H.forwardRef((w,P)=>{const{scope:b,children:S,...x}=w,C=H.useRef(null),R=gt(P,C),N=o(p,b);return H.useEffect(()=>(N.itemMap.set(C,{ref:C,...x}),()=>void N.itemMap.delete(C))),g.jsx(m,{[y]:"",ref:R,children:S})});v.displayName=p;function k(w){const P=o(e+"CollectionConsumer",w);return H.useCallback(()=>{const S=P.collectionRef.current;if(!S)return[];const x=Array.from(S.querySelectorAll(`[${y}]`));return Array.from(P.itemMap.values()).sort((N,A)=>x.indexOf(N.ref.current)-x.indexOf(A.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:l,Slot:h,ItemSlot:v},k,r]}var zk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=zk.reduce((e,t)=>{const n=Ma(`Primitive.${t}`),r=E.forwardRef((s,o)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(d,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function r0(e,t){e&&rl.flushSync(()=>e.dispatchEvent(t))}function rr(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function $k(e,t=globalThis==null?void 0:globalThis.document){const n=rr(e);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Bk="DismissableLayer",uf="dismissableLayer.update",Uk="dismissableLayer.pointerDownOutside",Fk="dismissableLayer.focusOutside",gv,i0=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pc=E.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...d}=e,h=E.useContext(i0),[p,y]=E.useState(null),m=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=E.useState({}),k=gt(t,A=>y(A)),w=Array.from(h.layers),[P]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(P),S=p?w.indexOf(p):-1,x=h.layersWithOutsidePointerEventsDisabled.size>0,C=S>=b,R=Hk(A=>{const $=A.target,D=[...h.branches].some(V=>V.contains($));!C||D||(s==null||s(A),l==null||l(A),A.defaultPrevented||u==null||u())},m),N=Vk(A=>{const $=A.target;[...h.branches].some(V=>V.contains($))||(o==null||o(A),l==null||l(A),A.defaultPrevented||u==null||u())},m);return $k(A=>{S===h.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&u&&(A.preventDefault(),u()))},m),E.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(gv=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),vv(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=gv)}},[p,m,n,h]),E.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),vv())},[p,h]),E.useEffect(()=>{const A=()=>v({});return document.addEventListener(uf,A),()=>document.removeEventListener(uf,A)},[]),g.jsx($e.div,{...d,ref:k,style:{pointerEvents:x?C?"auto":"none":void 0,...e.style},onFocusCapture:Me(e.onFocusCapture,N.onFocusCapture),onBlurCapture:Me(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Me(e.onPointerDownCapture,R.onPointerDownCapture)})});Pc.displayName=Bk;var Wk="DismissableLayerBranch",s0=E.forwardRef((e,t)=>{const n=E.useContext(i0),r=E.useRef(null),s=gt(t,r);return E.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),g.jsx($e.div,{...e,ref:s})});s0.displayName=Wk;function Hk(e,t=globalThis==null?void 0:globalThis.document){const n=rr(e),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){o0(Uk,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Vk(e,t=globalThis==null?void 0:globalThis.document){const n=rr(e),r=E.useRef(!1);return E.useEffect(()=>{const s=o=>{o.target&&!r.current&&o0(Fk,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vv(){const e=new CustomEvent(uf);document.dispatchEvent(e)}function o0(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?r0(s,o):s.dispatchEvent(o)}var qk=Pc,Zk=s0,Pr=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},Kk="Portal",jp=E.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,o]=E.useState(!1);Pr(()=>o(!0),[]);const l=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?Xw.createPortal(g.jsx($e.div,{...r,ref:t}),l):null});jp.displayName=Kk;function Gk(e,t){return E.useReducer((n,r)=>t[n][r]??n,e)}var wo=e=>{const{present:t,children:n}=e,r=Yk(t),s=typeof n=="function"?n({present:r.isPresent}):E.Children.only(n),o=gt(r.ref,Jk(s));return typeof n=="function"||r.isPresent?E.cloneElement(s,{ref:o}):null};wo.displayName="Presence";function Yk(e){const[t,n]=E.useState(),r=E.useRef(null),s=E.useRef(e),o=E.useRef("none"),l=e?"mounted":"unmounted",[u,d]=Gk(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const h=Gl(r.current);o.current=u==="mounted"?h:"none"},[u]),Pr(()=>{const h=r.current,p=s.current;if(p!==e){const m=o.current,v=Gl(h);e?d("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(p&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Pr(()=>{if(t){let h;const p=t.ownerDocument.defaultView??window,y=v=>{const w=Gl(r.current).includes(v.animationName);if(v.target===t&&w&&(d("ANIMATION_END"),!s.current)){const P=t.style.animationFillMode;t.style.animationFillMode="forwards",h=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=P)})}},m=v=>{v.target===t&&(o.current=Gl(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{p.clearTimeout(h),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Gl(e){return(e==null?void 0:e.animationName)||"none"}function Jk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Qk=Wf[" useInsertionEffect ".trim().toString()]||Pr;function Ip({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,l]=Xk({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:s;{const p=E.useRef(e!==void 0);E.useEffect(()=>{const y=p.current;y!==u&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const h=E.useCallback(p=>{var y;if(u){const m=eP(p)?p(e):p;m!==e&&((y=l.current)==null||y.call(l,m))}else o(p)},[u,e,o,l]);return[d,h]}function Xk({defaultProp:e,onChange:t}){const[n,r]=E.useState(e),s=E.useRef(n),o=E.useRef(t);return Qk(()=>{o.current=t},[t]),E.useEffect(()=>{var l;s.current!==n&&((l=o.current)==null||l.call(o,n),s.current=n)},[n,s]),[n,r,o]}function eP(e){return typeof e=="function"}var tP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nP="VisuallyHidden",Tc=E.forwardRef((e,t)=>g.jsx($e.span,{...e,ref:t,style:{...tP,...e.style}}));Tc.displayName=nP;var rP=Tc,Mp="ToastProvider",[Dp,iP,sP]=Dk("Toast"),[a0,$j]=_o("Toast",[sP]),[oP,Cc]=a0(Mp),l0=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=e,[u,d]=E.useState(null),[h,p]=E.useState(0),y=E.useRef(!1),m=E.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mp}\`. Expected non-empty \`string\`.`),g.jsx(Dp.Provider,{scope:t,children:g.jsx(oP,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:h,viewport:u,onViewportChange:d,onToastAdd:E.useCallback(()=>p(v=>v+1),[]),onToastRemove:E.useCallback(()=>p(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:m,children:l})})};l0.displayName=Mp;var u0="ToastViewport",aP=["F8"],cf="toast.viewportPause",df="toast.viewportResume",c0=E.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=aP,label:s="Notifications ({hotkey})",...o}=e,l=Cc(u0,n),u=iP(n),d=E.useRef(null),h=E.useRef(null),p=E.useRef(null),y=E.useRef(null),m=gt(t,y,l.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=l.toastCount>0;E.useEffect(()=>{const P=b=>{var x;r.length!==0&&r.every(C=>b[C]||b.code===C)&&((x=y.current)==null||x.focus())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[r]),E.useEffect(()=>{const P=d.current,b=y.current;if(k&&P&&b){const S=()=>{if(!l.isClosePausedRef.current){const N=new CustomEvent(cf);b.dispatchEvent(N),l.isClosePausedRef.current=!0}},x=()=>{if(l.isClosePausedRef.current){const N=new CustomEvent(df);b.dispatchEvent(N),l.isClosePausedRef.current=!1}},C=N=>{!P.contains(N.relatedTarget)&&x()},R=()=>{P.contains(document.activeElement)||x()};return P.addEventListener("focusin",S),P.addEventListener("focusout",C),P.addEventListener("pointermove",S),P.addEventListener("pointerleave",R),window.addEventListener("blur",S),window.addEventListener("focus",x),()=>{P.removeEventListener("focusin",S),P.removeEventListener("focusout",C),P.removeEventListener("pointermove",S),P.removeEventListener("pointerleave",R),window.removeEventListener("blur",S),window.removeEventListener("focus",x)}}},[k,l.isClosePausedRef]);const w=E.useCallback(({tabbingDirection:P})=>{const S=u().map(x=>{const C=x.ref.current,R=[C,...wP(C)];return P==="forwards"?R:R.reverse()});return(P==="forwards"?S.reverse():S).flat()},[u]);return E.useEffect(()=>{const P=y.current;if(P){const b=S=>{var R,N,A;const x=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!x){const $=document.activeElement,D=S.shiftKey;if(S.target===P&&D){(R=h.current)==null||R.focus();return}const Z=w({tabbingDirection:D?"backwards":"forwards"}),me=Z.findIndex(q=>q===$);Gd(Z.slice(me+1))?S.preventDefault():D?(N=h.current)==null||N.focus():(A=p.current)==null||A.focus()}};return P.addEventListener("keydown",b),()=>P.removeEventListener("keydown",b)}},[u,w]),g.jsxs(Zk,{ref:d,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&g.jsx(hf,{ref:h,onFocusFromOutsideViewport:()=>{const P=w({tabbingDirection:"forwards"});Gd(P)}}),g.jsx(Dp.Slot,{scope:n,children:g.jsx($e.ol,{tabIndex:-1,...o,ref:m})}),k&&g.jsx(hf,{ref:p,onFocusFromOutsideViewport:()=>{const P=w({tabbingDirection:"backwards"});Gd(P)}})]})});c0.displayName=u0;var d0="ToastFocusProxy",hf=E.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Cc(d0,n);return g.jsx(Tc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:l=>{var h;const u=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(u))&&r()}})});hf.displayName=d0;var il="Toast",lP="toast.swipeStart",uP="toast.swipeMove",cP="toast.swipeCancel",dP="toast.swipeEnd",h0=E.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...l}=e,[u,d]=Ip({prop:r,defaultProp:s??!0,onChange:o,caller:il});return g.jsx(wo,{present:n||u,children:g.jsx(pP,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:rr(e.onPause),onResume:rr(e.onResume),onSwipeStart:Me(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(e.onSwipeMove,h=>{const{x:p,y}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:Me(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(e.onSwipeEnd,h=>{const{x:p,y}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),d(!1)})})})});h0.displayName=il;var[hP,fP]=a0(il,{onClose(){}}),pP=E.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:h,onSwipeStart:p,onSwipeMove:y,onSwipeCancel:m,onSwipeEnd:v,...k}=e,w=Cc(il,n),[P,b]=E.useState(null),S=gt(t,q=>b(q)),x=E.useRef(null),C=E.useRef(null),R=s||w.duration,N=E.useRef(0),A=E.useRef(R),$=E.useRef(0),{onToastAdd:D,onToastRemove:V}=w,Q=rr(()=>{var ye;(P==null?void 0:P.contains(document.activeElement))&&((ye=w.viewport)==null||ye.focus()),l()}),Z=E.useCallback(q=>{!q||q===1/0||(window.clearTimeout($.current),N.current=new Date().getTime(),$.current=window.setTimeout(Q,q))},[Q]);E.useEffect(()=>{const q=w.viewport;if(q){const ye=()=>{Z(A.current),h==null||h()},X=()=>{const ue=new Date().getTime()-N.current;A.current=A.current-ue,window.clearTimeout($.current),d==null||d()};return q.addEventListener(cf,X),q.addEventListener(df,ye),()=>{q.removeEventListener(cf,X),q.removeEventListener(df,ye)}}},[w.viewport,R,d,h,Z]),E.useEffect(()=>{o&&!w.isClosePausedRef.current&&Z(R)},[o,R,w.isClosePausedRef,Z]),E.useEffect(()=>(D(),()=>V()),[D,V]);const me=E.useMemo(()=>P?_0(P):null,[P]);return w.viewport?g.jsxs(g.Fragment,{children:[me&&g.jsx(mP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:me}),g.jsx(hP,{scope:n,onClose:Q,children:rl.createPortal(g.jsx(Dp.ItemSlot,{scope:n,children:g.jsx(qk,{asChild:!0,onEscapeKeyDown:Me(u,()=>{w.isFocusedToastEscapeKeyDownRef.current||Q(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx($e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":w.swipeDirection,...k,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Me(e.onKeyDown,q=>{q.key==="Escape"&&(u==null||u(q.nativeEvent),q.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:Me(e.onPointerDown,q=>{q.button===0&&(x.current={x:q.clientX,y:q.clientY})}),onPointerMove:Me(e.onPointerMove,q=>{if(!x.current)return;const ye=q.clientX-x.current.x,X=q.clientY-x.current.y,ue=!!C.current,I=["left","right"].includes(w.swipeDirection),U=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,B=I?U(0,ye):0,Y=I?0:U(0,X),G=q.pointerType==="touch"?10:2,re={x:B,y:Y},te={originalEvent:q,delta:re};ue?(C.current=re,Yl(uP,y,te,{discrete:!1})):yv(re,w.swipeDirection,G)?(C.current=re,Yl(lP,p,te,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ye)>G||Math.abs(X)>G)&&(x.current=null)}),onPointerUp:Me(e.onPointerUp,q=>{const ye=C.current,X=q.target;if(X.hasPointerCapture(q.pointerId)&&X.releasePointerCapture(q.pointerId),C.current=null,x.current=null,ye){const ue=q.currentTarget,I={originalEvent:q,delta:ye};yv(ye,w.swipeDirection,w.swipeThreshold)?Yl(dP,v,I,{discrete:!0}):Yl(cP,m,I,{discrete:!0}),ue.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),mP=e=>{const{__scopeToast:t,children:n,...r}=e,s=Cc(il,t),[o,l]=E.useState(!1),[u,d]=E.useState(!1);return yP(()=>l(!0)),E.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:g.jsx(jp,{asChild:!0,children:g.jsx(Tc,{...r,children:o&&g.jsxs(g.Fragment,{children:[s.label," ",n]})})})},gP="ToastTitle",f0=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return g.jsx($e.div,{...r,ref:t})});f0.displayName=gP;var vP="ToastDescription",p0=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return g.jsx($e.div,{...r,ref:t})});p0.displayName=vP;var m0="ToastAction",g0=E.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?g.jsx(y0,{altText:n,asChild:!0,children:g.jsx(zp,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${m0}\`. Expected non-empty \`string\`.`),null)});g0.displayName=m0;var v0="ToastClose",zp=E.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=fP(v0,n);return g.jsx(y0,{asChild:!0,children:g.jsx($e.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,s.onClose)})})});zp.displayName=v0;var y0=E.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return g.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function _0(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),_P(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(..._0(r))}}),t}function Yl(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?r0(s,o):s.dispatchEvent(o)}var yv=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function yP(e=()=>{}){const t=rr(e);Pr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function _P(e){return e.nodeType===e.ELEMENT_NODE}function wP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Gd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var xP=l0,w0=c0,x0=h0,b0=f0,S0=p0,E0=g0,k0=zp;function P0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=P0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function T0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=P0(e))&&(r&&(r+=" "),r+=t);return r}const _v=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wv=T0,$p=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return wv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,l=Object.keys(s).map(h=>{const p=n==null?void 0:n[h],y=o==null?void 0:o[h];if(p===null)return null;const m=_v(p)||_v(y);return s[h][m]}),u=n&&Object.entries(n).reduce((h,p)=>{let[y,m]=p;return m===void 0||(h[y]=m),h},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:y,className:m,...v}=p;return Object.entries(v).every(k=>{let[w,P]=k;return Array.isArray(P)?P.includes({...o,...u}[w]):{...o,...u}[w]===P})?[...h,y,m]:h},[]);return wv(e,l,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...u},d)=>E.createElement("svg",{ref:d,...SP,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:C0("lucide",s),...u},[...l.map(([h,p])=>E.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(e,t)=>{const n=E.forwardRef(({className:r,...s},o)=>E.createElement(EP,{ref:o,iconNode:t,className:C0(`lucide-${bP(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=He("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=He("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=He("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=He("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=He("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=He("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=He("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=He("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=He("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=He("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=He("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=He("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=He("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=He("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=He("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=He("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=He("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Hp="-",BP=e=>{const t=FP(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(Hp);return u[0]===""&&u.length!==1&&u.shift(),N0(u,t)||UP(l)},getConflictingClassGroupIds:(l,u)=>{const d=n[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},N0=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?N0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Hp);return(l=t.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},xv=/^\[(.+)\]$/,UP=e=>{if(xv.test(e)){const t=xv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},FP=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return HP(Object.entries(e.classGroups),n).forEach(([o,l])=>{ff(l,r,o,t)}),r},ff=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:bv(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(WP(s)){ff(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,l])=>{ff(l,bv(t,o),n,r)})})},bv=(e,t)=>{let n=e;return t.split(Hp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},WP=e=>e.isThemeGetter,HP=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,u])=>[t+l,u])):o);return[n,s]}):e,VP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){n.has(o)?n.set(o,l):s(o,l)}}},L0="!",qP=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,l=u=>{const d=[];let h=0,p=0,y;for(let P=0;P<u.length;P++){let b=u[P];if(h===0){if(b===s&&(r||u.slice(P,P+o)===t)){d.push(u.slice(p,P)),p=P+o;continue}if(b==="/"){y=P;continue}}b==="["?h++:b==="]"&&h--}const m=d.length===0?u:u.substring(p),v=m.startsWith(L0),k=v?m.substring(1):m,w=y&&y>p?y-p:void 0;return{modifiers:d,hasImportantModifier:v,baseClassName:k,maybePostfixModifierPosition:w}};return n?u=>n({className:u,parseClassName:l}):l},ZP=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},KP=e=>({cache:VP(e.cacheSize),parseClassName:qP(e),...BP(e)}),GP=/\s+/,YP=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],l=e.trim().split(GP);let u="";for(let d=l.length-1;d>=0;d-=1){const h=l[d],{modifiers:p,hasImportantModifier:y,baseClassName:m,maybePostfixModifierPosition:v}=n(h);let k=!!v,w=r(k?m.substring(0,v):m);if(!w){if(!k){u=h+(u.length>0?" "+u:u);continue}if(w=r(m),!w){u=h+(u.length>0?" "+u:u);continue}k=!1}const P=ZP(p).join(":"),b=y?P+L0:P,S=b+w;if(o.includes(S))continue;o.push(S);const x=s(w,k);for(let C=0;C<x.length;++C){const R=x[C];o.push(b+R)}u=h+(u.length>0?" "+u:u)}return u};function JP(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=A0(t))&&(r&&(r+=" "),r+=n);return r}const A0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=A0(e[r]))&&(n&&(n+=" "),n+=t);return n};function QP(e,...t){let n,r,s,o=l;function l(d){const h=t.reduce((p,y)=>y(p),e());return n=KP(h),r=n.cache.get,s=n.cache.set,o=u,u(d)}function u(d){const h=r(d);if(h)return h;const p=YP(d,n);return s(d,p),p}return function(){return o(JP.apply(null,arguments))}}const Ae=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},j0=/^\[(?:([a-z-]+):)?(.+)\]$/i,XP=/^\d+\/\d+$/,eT=new Set(["px","full","screen"]),tT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fr=e=>Zs(e)||eT.has(e)||XP.test(e),Mr=e=>xo(e,"length",fT),Zs=e=>!!e&&!Number.isNaN(Number(e)),Yd=e=>xo(e,"number",Zs),Qo=e=>!!e&&Number.isInteger(Number(e)),oT=e=>e.endsWith("%")&&Zs(e.slice(0,-1)),pe=e=>j0.test(e),Dr=e=>tT.test(e),aT=new Set(["length","size","percentage"]),lT=e=>xo(e,aT,I0),uT=e=>xo(e,"position",I0),cT=new Set(["image","url"]),dT=e=>xo(e,cT,mT),hT=e=>xo(e,"",pT),Xo=()=>!0,xo=(e,t,n)=>{const r=j0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},fT=e=>nT.test(e)&&!rT.test(e),I0=()=>!1,pT=e=>iT.test(e),mT=e=>sT.test(e),gT=()=>{const e=Ae("colors"),t=Ae("spacing"),n=Ae("blur"),r=Ae("brightness"),s=Ae("borderColor"),o=Ae("borderRadius"),l=Ae("borderSpacing"),u=Ae("borderWidth"),d=Ae("contrast"),h=Ae("grayscale"),p=Ae("hueRotate"),y=Ae("invert"),m=Ae("gap"),v=Ae("gradientColorStops"),k=Ae("gradientColorStopPositions"),w=Ae("inset"),P=Ae("margin"),b=Ae("opacity"),S=Ae("padding"),x=Ae("saturate"),C=Ae("scale"),R=Ae("sepia"),N=Ae("skew"),A=Ae("space"),$=Ae("translate"),D=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",pe,t],Z=()=>[pe,t],me=()=>["",fr,Mr],q=()=>["auto",Zs,pe],ye=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",pe],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Zs,pe];return{cacheSize:500,separator:":",theme:{colors:[Xo],spacing:[fr,Mr],blur:["none","",Dr,pe],brightness:Y(),borderColor:[e],borderRadius:["none","","full",Dr,pe],borderSpacing:Z(),borderWidth:me(),contrast:Y(),grayscale:U(),hueRotate:Y(),invert:U(),gap:Z(),gradientColorStops:[e],gradientColorStopPositions:[oT,Mr],inset:Q(),margin:Q(),opacity:Y(),padding:Z(),saturate:Y(),scale:Y(),sepia:U(),skew:Y(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Dr]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ye(),pe]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qo,pe]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Qo,pe]}],"grid-cols":[{"grid-cols":[Xo]}],"col-start-end":[{col:["auto",{span:["full",Qo,pe]},pe]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Xo]}],"row-start-end":[{row:["auto",{span:[Qo,pe]},pe]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,t]}],"min-w":[{"min-w":[pe,t,"min","max","fit"]}],"max-w":[{"max-w":[pe,t,"none","full","min","max","fit","prose",{screen:[Dr]},Dr]}],h:[{h:[pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dr,Mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yd]}],"font-family":[{font:[Xo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",Zs,Yd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fr,Mr]}],"underline-offset":[{"underline-offset":["auto",fr,pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ye(),uT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[fr,pe]}],"outline-w":[{outline:[fr,Mr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[fr,Mr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dr,hT]}],"shadow-color":[{shadow:[Xo]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Dr,pe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[y]}],saturate:[{saturate:[x]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Qo,pe]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fr,Mr,Yd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vT=QP(gT);function st(...e){return vT(T0(e))}const yT=xP,M0=E.forwardRef(({className:e,...t},n)=>g.jsx(w0,{ref:n,className:st("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));M0.displayName=w0.displayName;const _T=$p("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),D0=E.forwardRef(({className:e,variant:t,...n},r)=>g.jsx(x0,{ref:r,className:st(_T({variant:t}),e),...n}));D0.displayName=x0.displayName;const wT=E.forwardRef(({className:e,...t},n)=>g.jsx(E0,{ref:n,className:st("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));wT.displayName=E0.displayName;const z0=E.forwardRef(({className:e,...t},n)=>g.jsx(k0,{ref:n,className:st("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:g.jsx(Wp,{className:"h-4 w-4"})}));z0.displayName=k0.displayName;const $0=E.forwardRef(({className:e,...t},n)=>g.jsx(b0,{ref:n,className:st("text-sm font-semibold",e),...t}));$0.displayName=b0.displayName;const B0=E.forwardRef(({className:e,...t},n)=>g.jsx(S0,{ref:n,className:st("text-sm opacity-90",e),...t}));B0.displayName=S0.displayName;function xT(){const{toasts:e}=Ck();return g.jsxs(yT,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return g.jsxs(D0,{...o,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx($0,{children:n}),r&&g.jsx(B0,{children:r})]}),s,g.jsx(z0,{})]},t)}),g.jsx(M0,{})]})}var Sv=["light","dark"],bT="(prefers-color-scheme: dark)",ST=E.createContext(void 0),ET={setTheme:e=>{},themes:[]},kT=()=>{var e;return(e=E.useContext(ST))!=null?e:ET};E.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:l,attrs:u,nonce:d})=>{let h=o==="system",p=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(k=>`'${k}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,y=s?Sv.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(k,w=!1,P=!0)=>{let b=l?l[k]:k,S=w?k+"|| ''":`'${b}'`,x="";return s&&P&&!w&&Sv.includes(k)&&(x+=`d.style.colorScheme = '${k}';`),n==="class"?w||b?x+=`c.add(${S})`:x+="null":b&&(x+=`d[s](n,${S})`),x},v=e?`!function(){${p}${m(e)}}()`:r?`!function(){try{${p}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${bT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${m(l?"x[e]":"e",!0)}}${h?"":"else{"+m(o,!1,!1)+"}"}${y}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${m(l?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${y}}catch(t){}}();`;return E.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:v}})});var PT=e=>{switch(e){case"success":return OT;case"info":return NT;case"warning":return RT;case"error":return LT;default:return null}},TT=Array(12).fill(0),CT=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},TT.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),OT=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),RT=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),NT=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LT=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),AT=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jT=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},pf=1,IT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:pf++,o=this.toasts.find(u=>u.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:n}),{...u,...e,id:s,dismissible:l,title:n}):u):this.addToast({title:n,...r,dismissible:l,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,l=r.then(async d=>{if(o=["resolve",d],H.isValidElement(d))s=!1,this.create({id:n,type:"default",message:d});else if(DT(d)&&!d.ok){s=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:n,type:"error",message:h,description:p})}else if(t.success!==void 0){s=!1;let h=typeof t.success=="function"?await t.success(d):t.success,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"success",message:h,description:p})}}).catch(async d=>{if(o=["reject",d],t.error!==void 0){s=!1;let h=typeof t.error=="function"?await t.error(d):t.error,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:n,type:"error",message:h,description:p})}}).finally(()=>{var d;s&&(this.dismiss(n),n=void 0),(d=t.finally)==null||d.call(t)}),u=()=>new Promise((d,h)=>l.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||pf++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},jt=new IT,MT=(e,t)=>{let n=(t==null?void 0:t.id)||pf++;return jt.addToast({title:e,...t,id:n}),n},DT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zT=MT,$T=()=>jt.toasts,BT=()=>jt.getActiveToasts(),Re=Object.assign(zT,{success:jt.success,info:jt.info,warning:jt.warning,error:jt.error,custom:jt.custom,message:jt.message,promise:jt.promise,dismiss:jt.dismiss,loading:jt.loading},{getHistory:$T,getToasts:BT});function UT(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}UT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jl(e){return e.label!==void 0}var FT=3,WT="32px",HT="16px",Ev=4e3,VT=356,qT=14,ZT=20,KT=200;function yn(...e){return e.filter(Boolean).join(" ")}function GT(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var YT=e=>{var t,n,r,s,o,l,u,d,h,p,y;let{invert:m,toast:v,unstyled:k,interacting:w,setHeights:P,visibleToasts:b,heights:S,index:x,toasts:C,expanded:R,removeToast:N,defaultRichColors:A,closeButton:$,style:D,cancelButtonStyle:V,actionButtonStyle:Q,className:Z="",descriptionClassName:me="",duration:q,position:ye,gap:X,loadingIcon:ue,expandByDefault:I,classNames:U,icons:B,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:G}=e,[re,te]=H.useState(null),[ae,ie]=H.useState(null),[ge,Et]=H.useState(!1),[fn,pn]=H.useState(!1),[Xt,en]=H.useState(!1),[tn,ns]=H.useState(!1),[rs,yi]=H.useState(!1),[_i,In]=H.useState(0),[Nr,Co]=H.useState(0),or=H.useRef(v.duration||q||Ev),Oo=H.useRef(null),Mn=H.useRef(null),Wc=x===0,Hc=x+1<=b,vt=v.type,ar=v.dismissible!==!1,ll=v.className||"",Vc=v.descriptionClassName||"",wi=H.useMemo(()=>S.findIndex(de=>de.toastId===v.id)||0,[S,v.id]),ul=H.useMemo(()=>{var de;return(de=v.closeButton)!=null?de:$},[v.closeButton,$]),cl=H.useMemo(()=>v.duration||q||Ev,[v.duration,q]),is=H.useRef(0),Dn=H.useRef(0),Ro=H.useRef(0),Lr=H.useRef(null),[xi,qc]=ye.split("-"),dl=H.useMemo(()=>S.reduce((de,ke,Te)=>Te>=wi?de:de+ke.height,0),[S,wi]),No=jT(),hl=v.invert||m,ss=vt==="loading";Dn.current=H.useMemo(()=>wi*X+dl,[wi,dl]),H.useEffect(()=>{or.current=cl},[cl]),H.useEffect(()=>{Et(!0)},[]),H.useEffect(()=>{let de=Mn.current;if(de){let ke=de.getBoundingClientRect().height;return Co(ke),P(Te=>[{toastId:v.id,height:ke,position:v.position},...Te]),()=>P(Te=>Te.filter(Bt=>Bt.toastId!==v.id))}},[P,v.id]),H.useLayoutEffect(()=>{if(!ge)return;let de=Mn.current,ke=de.style.height;de.style.height="auto";let Te=de.getBoundingClientRect().height;de.style.height=ke,Co(Te),P(Bt=>Bt.find(kt=>kt.toastId===v.id)?Bt.map(kt=>kt.toastId===v.id?{...kt,height:Te}:kt):[{toastId:v.id,height:Te,position:v.position},...Bt])},[ge,v.title,v.description,P,v.id]);let zn=H.useCallback(()=>{pn(!0),In(Dn.current),P(de=>de.filter(ke=>ke.toastId!==v.id)),setTimeout(()=>{N(v)},KT)},[v,N,P,Dn]);H.useEffect(()=>{if(v.promise&&vt==="loading"||v.duration===1/0||v.type==="loading")return;let de;return R||w||G&&No?(()=>{if(Ro.current<is.current){let ke=new Date().getTime()-is.current;or.current=or.current-ke}Ro.current=new Date().getTime()})():or.current!==1/0&&(is.current=new Date().getTime(),de=setTimeout(()=>{var ke;(ke=v.onAutoClose)==null||ke.call(v,v),zn()},or.current)),()=>clearTimeout(de)},[R,w,v,vt,G,No,zn]),H.useEffect(()=>{v.delete&&zn()},[zn,v.delete]);function Zc(){var de,ke,Te;return B!=null&&B.loading?H.createElement("div",{className:yn(U==null?void 0:U.loader,(de=v==null?void 0:v.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":vt==="loading"},B.loading):ue?H.createElement("div",{className:yn(U==null?void 0:U.loader,(ke=v==null?void 0:v.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":vt==="loading"},ue):H.createElement(CT,{className:yn(U==null?void 0:U.loader,(Te=v==null?void 0:v.classNames)==null?void 0:Te.loader),visible:vt==="loading"})}return H.createElement("li",{tabIndex:0,ref:Mn,className:yn(Z,ll,U==null?void 0:U.toast,(t=v==null?void 0:v.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[vt],(n=v==null?void 0:v.classNames)==null?void 0:n[vt]),"data-sonner-toast":"","data-rich-colors":(r=v.richColors)!=null?r:A,"data-styled":!(v.jsx||v.unstyled||k),"data-mounted":ge,"data-promise":!!v.promise,"data-swiped":rs,"data-removed":fn,"data-visible":Hc,"data-y-position":xi,"data-x-position":qc,"data-index":x,"data-front":Wc,"data-swiping":Xt,"data-dismissible":ar,"data-type":vt,"data-invert":hl,"data-swipe-out":tn,"data-swipe-direction":ae,"data-expanded":!!(R||I&&ge),style:{"--index":x,"--toasts-before":x,"--z-index":C.length-x,"--offset":`${fn?_i:Dn.current}px`,"--initial-height":I?"auto":`${Nr}px`,...D,...v.style},onDragEnd:()=>{en(!1),te(null),Lr.current=null},onPointerDown:de=>{ss||!ar||(Oo.current=new Date,In(Dn.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(en(!0),Lr.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,ke,Te,Bt;if(tn||!ar)return;Lr.current=null;let kt=Number(((de=Mn.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),$n=Number(((ke=Mn.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lr=new Date().getTime()-((Te=Oo.current)==null?void 0:Te.getTime()),Ut=re==="x"?kt:$n,Bn=Math.abs(Ut)/lr;if(Math.abs(Ut)>=ZT||Bn>.11){In(Dn.current),(Bt=v.onDismiss)==null||Bt.call(v,v),ie(re==="x"?kt>0?"right":"left":$n>0?"down":"up"),zn(),ns(!0),yi(!1);return}en(!1),te(null)},onPointerMove:de=>{var ke,Te,Bt,kt;if(!Lr.current||!ar||((ke=window.getSelection())==null?void 0:ke.toString().length)>0)return;let $n=de.clientY-Lr.current.y,lr=de.clientX-Lr.current.x,Ut=(Te=e.swipeDirections)!=null?Te:GT(ye);!re&&(Math.abs(lr)>1||Math.abs($n)>1)&&te(Math.abs(lr)>Math.abs($n)?"x":"y");let Bn={x:0,y:0};re==="y"?(Ut.includes("top")||Ut.includes("bottom"))&&(Ut.includes("top")&&$n<0||Ut.includes("bottom")&&$n>0)&&(Bn.y=$n):re==="x"&&(Ut.includes("left")||Ut.includes("right"))&&(Ut.includes("left")&&lr<0||Ut.includes("right")&&lr>0)&&(Bn.x=lr),(Math.abs(Bn.x)>0||Math.abs(Bn.y)>0)&&yi(!0),(Bt=Mn.current)==null||Bt.style.setProperty("--swipe-amount-x",`${Bn.x}px`),(kt=Mn.current)==null||kt.style.setProperty("--swipe-amount-y",`${Bn.y}px`)}},ul&&!v.jsx?H.createElement("button",{"aria-label":Y,"data-disabled":ss,"data-close-button":!0,onClick:ss||!ar?()=>{}:()=>{var de;zn(),(de=v.onDismiss)==null||de.call(v,v)},className:yn(U==null?void 0:U.closeButton,(s=v==null?void 0:v.classNames)==null?void 0:s.closeButton)},(o=B==null?void 0:B.close)!=null?o:AT):null,v.jsx||E.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:H.createElement(H.Fragment,null,vt||v.icon||v.promise?H.createElement("div",{"data-icon":"",className:yn(U==null?void 0:U.icon,(l=v==null?void 0:v.classNames)==null?void 0:l.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Zc():null,v.type!=="loading"?v.icon||(B==null?void 0:B[vt])||PT(vt):null):null,H.createElement("div",{"data-content":"",className:yn(U==null?void 0:U.content,(u=v==null?void 0:v.classNames)==null?void 0:u.content)},H.createElement("div",{"data-title":"",className:yn(U==null?void 0:U.title,(d=v==null?void 0:v.classNames)==null?void 0:d.title)},typeof v.title=="function"?v.title():v.title),v.description?H.createElement("div",{"data-description":"",className:yn(me,Vc,U==null?void 0:U.description,(h=v==null?void 0:v.classNames)==null?void 0:h.description)},typeof v.description=="function"?v.description():v.description):null),E.isValidElement(v.cancel)?v.cancel:v.cancel&&Jl(v.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||V,onClick:de=>{var ke,Te;Jl(v.cancel)&&ar&&((Te=(ke=v.cancel).onClick)==null||Te.call(ke,de),zn())},className:yn(U==null?void 0:U.cancelButton,(p=v==null?void 0:v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,E.isValidElement(v.action)?v.action:v.action&&Jl(v.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||Q,onClick:de=>{var ke,Te;Jl(v.action)&&((Te=(ke=v.action).onClick)==null||Te.call(ke,de),!de.defaultPrevented&&zn())},className:yn(U==null?void 0:U.actionButton,(y=v==null?void 0:v.classNames)==null?void 0:y.actionButton)},v.action.label):null))};function kv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function JT(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,l=o?"--mobile-offset":"--offset",u=o?HT:WT;function d(h){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${l}-${h}`]=u:n[`${l}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(u)}),n}var QT=E.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:d,mobileOffset:h,theme:p="light",richColors:y,duration:m,style:v,visibleToasts:k=FT,toastOptions:w,dir:P=kv(),gap:b=qT,loadingIcon:S,icons:x,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:R}=e,[N,A]=H.useState([]),$=H.useMemo(()=>Array.from(new Set([r].concat(N.filter(G=>G.position).map(G=>G.position)))),[N,r]),[D,V]=H.useState([]),[Q,Z]=H.useState(!1),[me,q]=H.useState(!1),[ye,X]=H.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ue=H.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=H.useRef(null),B=H.useRef(!1),Y=H.useCallback(G=>{A(re=>{var te;return(te=re.find(ae=>ae.id===G.id))!=null&&te.delete||jt.dismiss(G.id),re.filter(({id:ae})=>ae!==G.id)})},[]);return H.useEffect(()=>jt.subscribe(G=>{if(G.dismiss){A(re=>re.map(te=>te.id===G.id?{...te,delete:!0}:te));return}setTimeout(()=>{Xw.flushSync(()=>{A(re=>{let te=re.findIndex(ae=>ae.id===G.id);return te!==-1?[...re.slice(0,te),{...re[te],...G},...re.slice(te+1)]:[G,...re]})})})}),[]),H.useEffect(()=>{if(p!=="system"){X(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:re})=>{X(re?"dark":"light")})}catch{G.addListener(({matches:te})=>{try{X(te?"dark":"light")}catch(ae){console.error(ae)}})}},[p]),H.useEffect(()=>{N.length<=1&&Z(!1)},[N]),H.useEffect(()=>{let G=re=>{var te,ae;s.every(ie=>re[ie]||re.code===ie)&&(Z(!0),(te=ue.current)==null||te.focus()),re.code==="Escape"&&(document.activeElement===ue.current||(ae=ue.current)!=null&&ae.contains(document.activeElement))&&Z(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[s]),H.useEffect(()=>{if(ue.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,B.current=!1)}},[ue.current]),H.createElement("section",{ref:t,"aria-label":`${C} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},$.map((G,re)=>{var te;let[ae,ie]=G.split("-");return N.length?H.createElement("ol",{key:G,dir:P==="auto"?kv():P,tabIndex:-1,ref:ue,className:u,"data-sonner-toaster":!0,"data-theme":ye,"data-y-position":ae,"data-lifted":Q&&N.length>1&&!o,"data-x-position":ie,style:{"--front-toast-height":`${((te=D[0])==null?void 0:te.height)||0}px`,"--width":`${VT}px`,"--gap":`${b}px`,...v,...JT(d,h)},onBlur:ge=>{B.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(B.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||B.current||(B.current=!0,U.current=ge.relatedTarget)},onMouseEnter:()=>Z(!0),onMouseMove:()=>Z(!0),onMouseLeave:()=>{me||Z(!1)},onDragEnd:()=>Z(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},N.filter(ge=>!ge.position&&re===0||ge.position===G).map((ge,Et)=>{var fn,pn;return H.createElement(YT,{key:ge.id,icons:x,index:Et,toast:ge,defaultRichColors:y,duration:(fn=w==null?void 0:w.duration)!=null?fn:m,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:k,closeButton:(pn=w==null?void 0:w.closeButton)!=null?pn:l,interacting:me,position:G,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:Y,toasts:N.filter(Xt=>Xt.position==ge.position),heights:D.filter(Xt=>Xt.position==ge.position),setHeights:V,expandByDefault:o,gap:b,loadingIcon:S,expanded:Q,pauseWhenPageIsHidden:R,swipeDirections:e.swipeDirections})})):null}))});const XT=({...e})=>{const{theme:t="system"}=kT();return g.jsx(QT,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var eC=Wf[" useId ".trim().toString()]||(()=>{}),tC=0;function Jd(e){const[t,n]=E.useState(eC());return Pr(()=>{e||n(r=>r??String(tC++))},[e]),e||(t?`radix-${t}`:"")}const nC=["top","right","bottom","left"],di=Math.min,Vt=Math.max,Xu=Math.round,Ql=Math.floor,tr=e=>({x:e,y:e}),rC={left:"right",right:"left",bottom:"top",top:"bottom"},iC={start:"end",end:"start"};function mf(e,t,n){return Vt(e,di(t,n))}function Tr(e,t){return typeof e=="function"?e(t):e}function Cr(e){return e.split("-")[0]}function bo(e){return e.split("-")[1]}function Vp(e){return e==="x"?"y":"x"}function qp(e){return e==="y"?"height":"width"}const sC=new Set(["top","bottom"]);function Qn(e){return sC.has(Cr(e))?"y":"x"}function Zp(e){return Vp(Qn(e))}function oC(e,t,n){n===void 0&&(n=!1);const r=bo(e),s=Zp(e),o=qp(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=ec(l)),[l,ec(l)]}function aC(e){const t=ec(e);return[gf(e),t,gf(t)]}function gf(e){return e.replace(/start|end/g,t=>iC[t])}const Pv=["left","right"],Tv=["right","left"],lC=["top","bottom"],uC=["bottom","top"];function cC(e,t,n){switch(e){case"top":case"bottom":return n?t?Tv:Pv:t?Pv:Tv;case"left":case"right":return t?lC:uC;default:return[]}}function dC(e,t,n,r){const s=bo(e);let o=cC(Cr(e),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map(gf)))),o}function ec(e){return e.replace(/left|right|bottom|top/g,t=>rC[t])}function hC(e){return{top:0,right:0,bottom:0,left:0,...e}}function U0(e){return typeof e!="number"?hC(e):{top:e,right:e,bottom:e,left:e}}function tc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Cv(e,t,n){let{reference:r,floating:s}=e;const o=Qn(t),l=Zp(t),u=qp(l),d=Cr(t),h=o==="y",p=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,m=r[u]/2-s[u]/2;let v;switch(d){case"top":v={x:p,y:r.y-s.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y};break;case"left":v={x:r.x-s.width,y};break;default:v={x:r.x,y:r.y}}switch(bo(t)){case"start":v[l]-=m*(n&&h?-1:1);break;case"end":v[l]+=m*(n&&h?-1:1);break}return v}const fC=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y}=Cv(h,r,d),m=r,v={},k=0;for(let w=0;w<u.length;w++){const{name:P,fn:b}=u[w],{x:S,y:x,data:C,reset:R}=await b({x:p,y,initialPlacement:r,placement:m,strategy:s,middlewareData:v,rects:h,platform:l,elements:{reference:e,floating:t}});p=S??p,y=x??y,v={...v,[P]:{...v[P],...C}},R&&k<=50&&(k++,typeof R=="object"&&(R.placement&&(m=R.placement),R.rects&&(h=R.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):R.rects),{x:p,y}=Cv(h,m,d)),w=-1)}return{x:p,y,placement:m,strategy:s,middlewareData:v}};async function Da(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:l,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:m=!1,padding:v=0}=Tr(t,e),k=U0(v),P=u[m?y==="floating"?"reference":"floating":y],b=tc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(P)))==null||n?P:P.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:d})),S=y==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),C=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},R=tc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:S,offsetParent:x,strategy:d}):S);return{top:(b.top-R.top+k.top)/C.y,bottom:(R.bottom-b.bottom+k.bottom)/C.y,left:(b.left-R.left+k.left)/C.x,right:(R.right-b.right+k.right)/C.x}}const pC=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:l,elements:u,middlewareData:d}=t,{element:h,padding:p=0}=Tr(e,t)||{};if(h==null)return{};const y=U0(p),m={x:n,y:r},v=Zp(s),k=qp(v),w=await l.getDimensions(h),P=v==="y",b=P?"top":"left",S=P?"bottom":"right",x=P?"clientHeight":"clientWidth",C=o.reference[k]+o.reference[v]-m[v]-o.floating[k],R=m[v]-o.reference[v],N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let A=N?N[x]:0;(!A||!await(l.isElement==null?void 0:l.isElement(N)))&&(A=u.floating[x]||o.floating[k]);const $=C/2-R/2,D=A/2-w[k]/2-1,V=di(y[b],D),Q=di(y[S],D),Z=V,me=A-w[k]-Q,q=A/2-w[k]/2+$,ye=mf(Z,q,me),X=!d.arrow&&bo(s)!=null&&q!==ye&&o.reference[k]/2-(q<Z?V:Q)-w[k]/2<0,ue=X?q<Z?q-Z:q-me:0;return{[v]:m[v]+ue,data:{[v]:ye,centerOffset:q-ye-ue,...X&&{alignmentOffset:ue}},reset:X}}}),mC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:w=!0,...P}=Tr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=Cr(s),S=Qn(u),x=Cr(u)===u,C=await(d.isRTL==null?void 0:d.isRTL(h.floating)),R=m||(x||!w?[ec(u)]:aC(u)),N=k!=="none";!m&&N&&R.push(...dC(u,w,k,C));const A=[u,...R],$=await Da(t,P),D=[];let V=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&D.push($[b]),y){const q=oC(s,l,C);D.push($[q[0]],$[q[1]])}if(V=[...V,{placement:s,overflows:D}],!D.every(q=>q<=0)){var Q,Z;const q=(((Q=o.flip)==null?void 0:Q.index)||0)+1,ye=A[q];if(ye&&(!(y==="alignment"?S!==Qn(ye):!1)||V.every(I=>I.overflows[0]>0&&Qn(I.placement)===S)))return{data:{index:q,overflows:V},reset:{placement:ye}};let X=(Z=V.filter(ue=>ue.overflows[0]<=0).sort((ue,I)=>ue.overflows[1]-I.overflows[1])[0])==null?void 0:Z.placement;if(!X)switch(v){case"bestFit":{var me;const ue=(me=V.filter(I=>{if(N){const U=Qn(I.placement);return U===S||U==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(U=>U>0).reduce((U,B)=>U+B,0)]).sort((I,U)=>I[1]-U[1])[0])==null?void 0:me[0];ue&&(X=ue);break}case"initialPlacement":X=u;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function Ov(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Rv(e){return nC.some(t=>e[t]>=0)}const gC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Tr(e,t);switch(r){case"referenceHidden":{const o=await Da(t,{...s,elementContext:"reference"}),l=Ov(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Rv(l)}}}case"escaped":{const o=await Da(t,{...s,altBoundary:!0}),l=Ov(o,n.floating);return{data:{escapedOffsets:l,escaped:Rv(l)}}}default:return{}}}}},F0=new Set(["left","top"]);async function vC(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Cr(n),u=bo(n),d=Qn(n)==="y",h=F0.has(l)?-1:1,p=o&&d?-1:1,y=Tr(t,e);let{mainAxis:m,crossAxis:v,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof k=="number"&&(v=u==="end"?k*-1:k),d?{x:v*p,y:m*h}:{x:m*h,y:v*p}}const yC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:l,middlewareData:u}=t,d=await vC(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},_C=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:P=>{let{x:b,y:S}=P;return{x:b,y:S}}},...d}=Tr(e,t),h={x:n,y:r},p=await Da(t,d),y=Qn(Cr(s)),m=Vp(y);let v=h[m],k=h[y];if(o){const P=m==="y"?"top":"left",b=m==="y"?"bottom":"right",S=v+p[P],x=v-p[b];v=mf(S,v,x)}if(l){const P=y==="y"?"top":"left",b=y==="y"?"bottom":"right",S=k+p[P],x=k-p[b];k=mf(S,k,x)}const w=u.fn({...t,[m]:v,[y]:k});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[m]:o,[y]:l}}}}}},wC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=Tr(e,t),p={x:n,y:r},y=Qn(s),m=Vp(y);let v=p[m],k=p[y];const w=Tr(u,t),P=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const x=m==="y"?"height":"width",C=o.reference[m]-o.floating[x]+P.mainAxis,R=o.reference[m]+o.reference[x]-P.mainAxis;v<C?v=C:v>R&&(v=R)}if(h){var b,S;const x=m==="y"?"width":"height",C=F0.has(Cr(s)),R=o.reference[y]-o.floating[x]+(C&&((b=l.offset)==null?void 0:b[y])||0)+(C?0:P.crossAxis),N=o.reference[y]+o.reference[x]+(C?0:((S=l.offset)==null?void 0:S[y])||0)-(C?P.crossAxis:0);k<R?k=R:k>N&&(k=N)}return{[m]:v,[y]:k}}}},xC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:l,elements:u}=t,{apply:d=()=>{},...h}=Tr(e,t),p=await Da(t,h),y=Cr(s),m=bo(s),v=Qn(s)==="y",{width:k,height:w}=o.floating;let P,b;y==="top"||y==="bottom"?(P=y,b=m===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(b=y,P=m==="end"?"top":"bottom");const S=w-p.top-p.bottom,x=k-p.left-p.right,C=di(w-p[P],S),R=di(k-p[b],x),N=!t.middlewareData.shift;let A=C,$=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(A=S),N&&!m){const V=Vt(p.left,0),Q=Vt(p.right,0),Z=Vt(p.top,0),me=Vt(p.bottom,0);v?$=k-2*(V!==0||Q!==0?V+Q:Vt(p.left,p.right)):A=w-2*(Z!==0||me!==0?Z+me:Vt(p.top,p.bottom))}await d({...t,availableWidth:$,availableHeight:A});const D=await l.getDimensions(u.floating);return k!==D.width||w!==D.height?{reset:{rects:!0}}:{}}}};function Oc(){return typeof window<"u"}function So(e){return W0(e)?(e.nodeName||"").toLowerCase():"#document"}function Gt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sr(e){var t;return(t=(W0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function W0(e){return Oc()?e instanceof Node||e instanceof Gt(e).Node:!1}function Nn(e){return Oc()?e instanceof Element||e instanceof Gt(e).Element:!1}function ir(e){return Oc()?e instanceof HTMLElement||e instanceof Gt(e).HTMLElement:!1}function Nv(e){return!Oc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gt(e).ShadowRoot}const bC=new Set(["inline","contents"]);function sl(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!bC.has(s)}const SC=new Set(["table","td","th"]);function EC(e){return SC.has(So(e))}const kC=[":popover-open",":modal"];function Rc(e){return kC.some(t=>{try{return e.matches(t)}catch{return!1}})}const PC=["transform","translate","scale","rotate","perspective"],TC=["transform","translate","scale","rotate","perspective","filter"],CC=["paint","layout","strict","content"];function Kp(e){const t=Gp(),n=Nn(e)?Ln(e):e;return PC.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||TC.some(r=>(n.willChange||"").includes(r))||CC.some(r=>(n.contain||"").includes(r))}function OC(e){let t=hi(e);for(;ir(t)&&!po(t);){if(Kp(t))return t;if(Rc(t))return null;t=hi(t)}return null}function Gp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const RC=new Set(["html","body","#document"]);function po(e){return RC.has(So(e))}function Ln(e){return Gt(e).getComputedStyle(e)}function Nc(e){return Nn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function hi(e){if(So(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Nv(e)&&e.host||sr(e);return Nv(t)?t.host:t}function H0(e){const t=hi(e);return po(t)?e.ownerDocument?e.ownerDocument.body:e.body:ir(t)&&sl(t)?t:H0(t)}function za(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=H0(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),l=Gt(s);if(o){const u=vf(l);return t.concat(l,l.visualViewport||[],sl(s)?s:[],u&&n?za(u):[])}return t.concat(s,za(s,[],n))}function vf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function V0(e){const t=Ln(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ir(e),o=s?e.offsetWidth:n,l=s?e.offsetHeight:r,u=Xu(n)!==o||Xu(r)!==l;return u&&(n=o,r=l),{width:n,height:r,$:u}}function Yp(e){return Nn(e)?e:e.contextElement}function Ks(e){const t=Yp(e);if(!ir(t))return tr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=V0(t);let l=(o?Xu(n.width):n.width)/r,u=(o?Xu(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const NC=tr(0);function q0(e){const t=Gt(e);return!Gp()||!t.visualViewport?NC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LC(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Gt(e)?!1:t}function Ji(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Yp(e);let l=tr(1);t&&(r?Nn(r)&&(l=Ks(r)):l=Ks(e));const u=LC(o,n,r)?q0(o):tr(0);let d=(s.left+u.x)/l.x,h=(s.top+u.y)/l.y,p=s.width/l.x,y=s.height/l.y;if(o){const m=Gt(o),v=r&&Nn(r)?Gt(r):r;let k=m,w=vf(k);for(;w&&r&&v!==k;){const P=Ks(w),b=w.getBoundingClientRect(),S=Ln(w),x=b.left+(w.clientLeft+parseFloat(S.paddingLeft))*P.x,C=b.top+(w.clientTop+parseFloat(S.paddingTop))*P.y;d*=P.x,h*=P.y,p*=P.x,y*=P.y,d+=x,h+=C,k=Gt(w),w=vf(k)}}return tc({width:p,height:y,x:d,y:h})}function Jp(e,t){const n=Nc(e).scrollLeft;return t?t.left+n:Ji(sr(e)).left+n}function Z0(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Jp(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function AC(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",l=sr(r),u=t?Rc(t.floating):!1;if(r===l||u&&o)return n;let d={scrollLeft:0,scrollTop:0},h=tr(1);const p=tr(0),y=ir(r);if((y||!y&&!o)&&((So(r)!=="body"||sl(l))&&(d=Nc(r)),ir(r))){const v=Ji(r);h=Ks(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const m=l&&!y&&!o?Z0(l,d,!0):tr(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+p.x+m.x,y:n.y*h.y-d.scrollTop*h.y+p.y+m.y}}function jC(e){return Array.from(e.getClientRects())}function IC(e){const t=sr(e),n=Nc(e),r=e.ownerDocument.body,s=Vt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Vt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Jp(e);const u=-n.scrollTop;return Ln(r).direction==="rtl"&&(l+=Vt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:u}}function MC(e,t){const n=Gt(e),r=sr(e),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,d=0;if(s){o=s.width,l=s.height;const h=Gp();(!h||h&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:o,height:l,x:u,y:d}}const DC=new Set(["absolute","fixed"]);function zC(e,t){const n=Ji(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=ir(e)?Ks(e):tr(1),l=e.clientWidth*o.x,u=e.clientHeight*o.y,d=s*o.x,h=r*o.y;return{width:l,height:u,x:d,y:h}}function Lv(e,t,n){let r;if(t==="viewport")r=MC(e,n);else if(t==="document")r=IC(sr(e));else if(Nn(t))r=zC(t,n);else{const s=q0(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return tc(r)}function K0(e,t){const n=hi(e);return n===t||!Nn(n)||po(n)?!1:Ln(n).position==="fixed"||K0(n,t)}function $C(e,t){const n=t.get(e);if(n)return n;let r=za(e,[],!1).filter(u=>Nn(u)&&So(u)!=="body"),s=null;const o=Ln(e).position==="fixed";let l=o?hi(e):e;for(;Nn(l)&&!po(l);){const u=Ln(l),d=Kp(l);!d&&u.position==="fixed"&&(s=null),(o?!d&&!s:!d&&u.position==="static"&&!!s&&DC.has(s.position)||sl(l)&&!d&&K0(e,l))?r=r.filter(p=>p!==l):s=u,l=hi(l)}return t.set(e,r),r}function BC(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const l=[...n==="clippingAncestors"?Rc(t)?[]:$C(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((h,p)=>{const y=Lv(t,p,s);return h.top=Vt(y.top,h.top),h.right=di(y.right,h.right),h.bottom=di(y.bottom,h.bottom),h.left=Vt(y.left,h.left),h},Lv(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function UC(e){const{width:t,height:n}=V0(e);return{width:t,height:n}}function FC(e,t,n){const r=ir(t),s=sr(t),o=n==="fixed",l=Ji(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=tr(0);function h(){d.x=Jp(s)}if(r||!r&&!o)if((So(t)!=="body"||sl(s))&&(u=Nc(t)),r){const v=Ji(t,!0,o,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else s&&h();o&&!r&&s&&h();const p=s&&!r&&!o?Z0(s,u):tr(0),y=l.left+u.scrollLeft-d.x-p.x,m=l.top+u.scrollTop-d.y-p.y;return{x:y,y:m,width:l.width,height:l.height}}function Qd(e){return Ln(e).position==="static"}function Av(e,t){if(!ir(e)||Ln(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return sr(e)===n&&(n=n.ownerDocument.body),n}function G0(e,t){const n=Gt(e);if(Rc(e))return n;if(!ir(e)){let s=hi(e);for(;s&&!po(s);){if(Nn(s)&&!Qd(s))return s;s=hi(s)}return n}let r=Av(e,t);for(;r&&EC(r)&&Qd(r);)r=Av(r,t);return r&&po(r)&&Qd(r)&&!Kp(r)?n:r||OC(e)||n}const WC=async function(e){const t=this.getOffsetParent||G0,n=this.getDimensions,r=await n(e.floating);return{reference:FC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function HC(e){return Ln(e).direction==="rtl"}const VC={convertOffsetParentRelativeRectToViewportRelativeRect:AC,getDocumentElement:sr,getClippingRect:BC,getOffsetParent:G0,getElementRects:WC,getClientRects:jC,getDimensions:UC,getScale:Ks,isElement:Nn,isRTL:HC};function Y0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qC(e,t){let n=null,r;const s=sr(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const h=e.getBoundingClientRect(),{left:p,top:y,width:m,height:v}=h;if(u||t(),!m||!v)return;const k=Ql(y),w=Ql(s.clientWidth-(p+m)),P=Ql(s.clientHeight-(y+v)),b=Ql(p),x={rootMargin:-k+"px "+-w+"px "+-P+"px "+-b+"px",threshold:Vt(0,di(1,d))||1};let C=!0;function R(N){const A=N[0].intersectionRatio;if(A!==d){if(!C)return l();A?l(!1,A):r=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!Y0(h,e.getBoundingClientRect())&&l(),C=!1}try{n=new IntersectionObserver(R,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,x)}n.observe(e)}return l(!0),o}function ZC(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=Yp(e),p=s||o?[...h?za(h):[],...za(t)]:[];p.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const y=h&&u?qC(h,n):null;let m=-1,v=null;l&&(v=new ResizeObserver(b=>{let[S]=b;S&&S.target===h&&v&&(v.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=v)==null||x.observe(t)})),n()}),h&&!d&&v.observe(h),v.observe(t));let k,w=d?Ji(e):null;d&&P();function P(){const b=Ji(e);w&&!Y0(w,b)&&n(),w=b,k=requestAnimationFrame(P)}return n(),()=>{var b;p.forEach(S=>{s&&S.removeEventListener("scroll",n),o&&S.removeEventListener("resize",n)}),y==null||y(),(b=v)==null||b.disconnect(),v=null,d&&cancelAnimationFrame(k)}}const KC=yC,GC=_C,YC=mC,JC=xC,QC=gC,jv=pC,XC=wC,eO=(e,t,n)=>{const r=new Map,s={platform:VC,...n},o={...s.platform,_c:r};return fC(e,t,{...s,platform:o})};var tO=typeof document<"u",nO=function(){},ku=tO?E.useLayoutEffect:nO;function nc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!nc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!nc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function J0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Iv(e,t){const n=J0(e);return Math.round(t*n)/n}function Xd(e){const t=E.useRef(e);return ku(()=>{t.current=e}),t}function rO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[p,y]=E.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,v]=E.useState(r);nc(m,r)||v(r);const[k,w]=E.useState(null),[P,b]=E.useState(null),S=E.useCallback(I=>{I!==N.current&&(N.current=I,w(I))},[]),x=E.useCallback(I=>{I!==A.current&&(A.current=I,b(I))},[]),C=o||k,R=l||P,N=E.useRef(null),A=E.useRef(null),$=E.useRef(p),D=d!=null,V=Xd(d),Q=Xd(s),Z=Xd(h),me=E.useCallback(()=>{if(!N.current||!A.current)return;const I={placement:t,strategy:n,middleware:m};Q.current&&(I.platform=Q.current),eO(N.current,A.current,I).then(U=>{const B={...U,isPositioned:Z.current!==!1};q.current&&!nc($.current,B)&&($.current=B,rl.flushSync(()=>{y(B)}))})},[m,t,n,Q,Z]);ku(()=>{h===!1&&$.current.isPositioned&&($.current.isPositioned=!1,y(I=>({...I,isPositioned:!1})))},[h]);const q=E.useRef(!1);ku(()=>(q.current=!0,()=>{q.current=!1}),[]),ku(()=>{if(C&&(N.current=C),R&&(A.current=R),C&&R){if(V.current)return V.current(C,R,me);me()}},[C,R,me,V,D]);const ye=E.useMemo(()=>({reference:N,floating:A,setReference:S,setFloating:x}),[S,x]),X=E.useMemo(()=>({reference:C,floating:R}),[C,R]),ue=E.useMemo(()=>{const I={position:n,left:0,top:0};if(!X.floating)return I;const U=Iv(X.floating,p.x),B=Iv(X.floating,p.y);return u?{...I,transform:"translate("+U+"px, "+B+"px)",...J0(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:B}},[n,u,X.floating,p.x,p.y]);return E.useMemo(()=>({...p,update:me,refs:ye,elements:X,floatingStyles:ue}),[p,me,ye,X,ue])}const iO=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?jv({element:r.current,padding:s}).fn(n):{}:r?jv({element:r,padding:s}).fn(n):{}}}},sO=(e,t)=>({...KC(e),options:[e,t]}),oO=(e,t)=>({...GC(e),options:[e,t]}),aO=(e,t)=>({...XC(e),options:[e,t]}),lO=(e,t)=>({...YC(e),options:[e,t]}),uO=(e,t)=>({...JC(e),options:[e,t]}),cO=(e,t)=>({...QC(e),options:[e,t]}),dO=(e,t)=>({...iO(e),options:[e,t]});var hO="Arrow",Q0=E.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return g.jsx($e.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});Q0.displayName=hO;var fO=Q0;function X0(e){const[t,n]=E.useState(void 0);return Pr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,u=h.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ex="Popper",[tx,nx]=_o(ex),[Bj,rx]=tx(ex),ix="PopperAnchor",sx=E.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=rx(ix,n),l=E.useRef(null),u=gt(t,l);return E.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:g.jsx($e.div,{...s,ref:u})});sx.displayName=ix;var Qp="PopperContent",[pO,mO]=tx(Qp),ox=E.forwardRef((e,t)=>{var ge,Et,fn,pn,Xt,en;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:y="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:k,...w}=e,P=rx(Qp,n),[b,S]=E.useState(null),x=gt(t,tn=>S(tn)),[C,R]=E.useState(null),N=X0(C),A=(N==null?void 0:N.width)??0,$=(N==null?void 0:N.height)??0,D=r+(o!=="center"?"-"+o:""),V=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},Q=Array.isArray(h)?h:[h],Z=Q.length>0,me={padding:V,boundary:Q.filter(vO),altBoundary:Z},{refs:q,floatingStyles:ye,placement:X,isPositioned:ue,middlewareData:I}=rO({strategy:"fixed",placement:D,whileElementsMounted:(...tn)=>ZC(...tn,{animationFrame:v==="always"}),elements:{reference:P.anchor},middleware:[sO({mainAxis:s+$,alignmentAxis:l}),d&&oO({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?aO():void 0,...me}),d&&lO({...me}),uO({...me,apply:({elements:tn,rects:ns,availableWidth:rs,availableHeight:yi})=>{const{width:_i,height:In}=ns.reference,Nr=tn.floating.style;Nr.setProperty("--radix-popper-available-width",`${rs}px`),Nr.setProperty("--radix-popper-available-height",`${yi}px`),Nr.setProperty("--radix-popper-anchor-width",`${_i}px`),Nr.setProperty("--radix-popper-anchor-height",`${In}px`)}}),C&&dO({element:C,padding:u}),yO({arrowWidth:A,arrowHeight:$}),m&&cO({strategy:"referenceHidden",...me})]}),[U,B]=ux(X),Y=rr(k);Pr(()=>{ue&&(Y==null||Y())},[ue,Y]);const G=(ge=I.arrow)==null?void 0:ge.x,re=(Et=I.arrow)==null?void 0:Et.y,te=((fn=I.arrow)==null?void 0:fn.centerOffset)!==0,[ae,ie]=E.useState();return Pr(()=>{b&&ie(window.getComputedStyle(b).zIndex)},[b]),g.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:ue?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(pn=I.transformOrigin)==null?void 0:pn.x,(Xt=I.transformOrigin)==null?void 0:Xt.y].join(" "),...((en=I.hide)==null?void 0:en.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:g.jsx(pO,{scope:n,placedSide:U,onArrowChange:R,arrowX:G,arrowY:re,shouldHideArrow:te,children:g.jsx($e.div,{"data-side":U,"data-align":B,...w,ref:x,style:{...w.style,animation:ue?void 0:"none"}})})})});ox.displayName=Qp;var ax="PopperArrow",gO={top:"bottom",right:"left",bottom:"top",left:"right"},lx=E.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=mO(ax,r),l=gO[o.placedSide];return g.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:g.jsx(fO,{...s,ref:n,style:{...s.style,display:"block"}})})});lx.displayName=ax;function vO(e){return e!==null}var yO=e=>({name:"transformOrigin",options:e,fn(t){var P,b,S;const{placement:n,rects:r,middlewareData:s}=t,l=((P=s.arrow)==null?void 0:P.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,p]=ux(n),y={start:"0%",center:"50%",end:"100%"}[p],m=(((b=s.arrow)==null?void 0:b.x)??0)+u/2,v=(((S=s.arrow)==null?void 0:S.y)??0)+d/2;let k="",w="";return h==="bottom"?(k=l?y:`${m}px`,w=`${-d}px`):h==="top"?(k=l?y:`${m}px`,w=`${r.floating.height+d}px`):h==="right"?(k=`${-d}px`,w=l?y:`${v}px`):h==="left"&&(k=`${r.floating.width+d}px`,w=l?y:`${v}px`),{data:{x:k,y:w}}}});function ux(e){const[t,n="center"]=e.split("-");return[t,n]}var _O=sx,wO=ox,xO=lx,[Lc,Uj]=_o("Tooltip",[nx]),Xp=nx(),cx="TooltipProvider",bO=700,Mv="tooltip.open",[SO,dx]=Lc(cx),hx=e=>{const{__scopeTooltip:t,delayDuration:n=bO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,l=E.useRef(!0),u=E.useRef(!1),d=E.useRef(0);return E.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),g.jsx(SO,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:E.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:E.useCallback(h=>{u.current=h},[]),disableHoverableContent:s,children:o})};hx.displayName=cx;var fx="Tooltip",[Fj,Ac]=Lc(fx),yf="TooltipTrigger",EO=E.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ac(yf,n),o=dx(yf,n),l=Xp(n),u=E.useRef(null),d=gt(t,u,s.onTriggerChange),h=E.useRef(!1),p=E.useRef(!1),y=E.useCallback(()=>h.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),g.jsx(_O,{asChild:!0,...l,children:g.jsx($e.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:Me(e.onPointerMove,m=>{m.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:Me(e.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:Me(e.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Me(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:Me(e.onBlur,s.onClose),onClick:Me(e.onClick,s.onClose)})})});EO.displayName=yf;var kO="TooltipPortal",[Wj,PO]=Lc(kO,{forceMount:void 0}),mo="TooltipContent",px=E.forwardRef((e,t)=>{const n=PO(mo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,l=Ac(mo,e.__scopeTooltip);return g.jsx(wo,{present:r||l.open,children:l.disableHoverableContent?g.jsx(mx,{side:s,...o,ref:t}):g.jsx(TO,{side:s,...o,ref:t})})}),TO=E.forwardRef((e,t)=>{const n=Ac(mo,e.__scopeTooltip),r=dx(mo,e.__scopeTooltip),s=E.useRef(null),o=gt(t,s),[l,u]=E.useState(null),{trigger:d,onClose:h}=n,p=s.current,{onPointerInTransitChange:y}=r,m=E.useCallback(()=>{u(null),y(!1)},[y]),v=E.useCallback((k,w)=>{const P=k.currentTarget,b={x:k.clientX,y:k.clientY},S=LO(b,P.getBoundingClientRect()),x=AO(b,S),C=jO(w.getBoundingClientRect()),R=MO([...x,...C]);u(R),y(!0)},[y]);return E.useEffect(()=>()=>m(),[m]),E.useEffect(()=>{if(d&&p){const k=P=>v(P,p),w=P=>v(P,d);return d.addEventListener("pointerleave",k),p.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",k),p.removeEventListener("pointerleave",w)}}},[d,p,v,m]),E.useEffect(()=>{if(l){const k=w=>{const P=w.target,b={x:w.clientX,y:w.clientY},S=(d==null?void 0:d.contains(P))||(p==null?void 0:p.contains(P)),x=!IO(b,l);S?m():x&&(m(),h())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[d,p,l,h,m]),g.jsx(mx,{...e,ref:o})}),[CO,OO]=Lc(fx,{isInside:!1}),RO=Ak("TooltipContent"),mx=E.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...u}=e,d=Ac(mo,n),h=Xp(n),{onClose:p}=d;return E.useEffect(()=>(document.addEventListener(Mv,p),()=>document.removeEventListener(Mv,p)),[p]),E.useEffect(()=>{if(d.trigger){const y=m=>{const v=m.target;v!=null&&v.contains(d.trigger)&&p()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[d.trigger,p]),g.jsx(Pc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:y=>y.preventDefault(),onDismiss:p,children:g.jsxs(wO,{"data-state":d.stateAttribute,...h,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(RO,{children:r}),g.jsx(CO,{scope:n,isInside:!0,children:g.jsx(rP,{id:d.contentId,role:"tooltip",children:s||r})})]})})});px.displayName=mo;var gx="TooltipArrow",NO=E.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Xp(n);return OO(gx,n).isInside?null:g.jsx(xO,{...s,...r,ref:t})});NO.displayName=gx;function LO(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function AO(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function jO(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function IO(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const u=t[o],d=t[l],h=u.x,p=u.y,y=d.x,m=d.y;p>r!=m>r&&n<(y-h)*(r-p)/(m-p)+h&&(s=!s)}return s}function MO(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),DO(t)}function DO(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var zO=hx,vx=px;const $O=zO,BO=E.forwardRef(({className:e,sideOffset:t=4,...n},r)=>g.jsx(vx,{ref:r,sideOffset:t,className:st("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));BO.displayName=vx.displayName;var jc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ic=typeof window>"u"||"Deno"in globalThis;function xn(){}function UO(e,t){return typeof e=="function"?e(t):e}function FO(e){return typeof e=="number"&&e>=0&&e!==1/0}function WO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _f(e,t){return typeof e=="function"?e(t):e}function HO(e,t){return typeof e=="function"?e(t):e}function Dv(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==em(l,t.options))return!1}else if(!Ba(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||o&&!o(t))}function zv(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if($a(t.options.mutationKey)!==$a(o))return!1}else if(!Ba(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function em(e,t){return((t==null?void 0:t.queryKeyHashFn)||$a)(e)}function $a(e){return JSON.stringify(e,(t,n)=>wf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ba(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ba(e[n],t[n])):!1}function yx(e,t){if(e===t)return e;const n=$v(e)&&$v(t);if(n||wf(e)&&wf(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),l=o.length,u=n?[]:{},d=new Set(r);let h=0;for(let p=0;p<l;p++){const y=n?p:o[p];(!n&&d.has(y)||n)&&e[y]===void 0&&t[y]===void 0?(u[y]=void 0,h++):(u[y]=yx(e[y],t[y]),u[y]===e[y]&&e[y]!==void 0&&h++)}return s===l&&h===s?e:u}return t}function $v(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wf(e){if(!Bv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Bv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Bv(e){return Object.prototype.toString.call(e)==="[object Object]"}function VO(e){return new Promise(t=>{setTimeout(t,e)})}function qO(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?yx(e,t):t}function ZO(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function KO(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var tm=Symbol();function _x(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var zi,qr,Js,Ay,GO=(Ay=class extends jc{constructor(){super();Ee(this,zi);Ee(this,qr);Ee(this,Js);he(this,Js,t=>{if(!Ic&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,qr)||this.setEventListener(z(this,Js))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,qr))==null||t.call(this),he(this,qr,void 0))}setEventListener(t){var n;he(this,Js,t),(n=z(this,qr))==null||n.call(this),he(this,qr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){z(this,zi)!==t&&(he(this,zi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof z(this,zi)=="boolean"?z(this,zi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zi=new WeakMap,qr=new WeakMap,Js=new WeakMap,Ay),wx=new GO,Qs,Zr,Xs,jy,YO=(jy=class extends jc{constructor(){super();Ee(this,Qs,!0);Ee(this,Zr);Ee(this,Xs);he(this,Xs,t=>{if(!Ic&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Zr)||this.setEventListener(z(this,Xs))}onUnsubscribe(){var t;this.hasListeners()||((t=z(this,Zr))==null||t.call(this),he(this,Zr,void 0))}setEventListener(t){var n;he(this,Xs,t),(n=z(this,Zr))==null||n.call(this),he(this,Zr,t(this.setOnline.bind(this)))}setOnline(t){z(this,Qs)!==t&&(he(this,Qs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return z(this,Qs)}},Qs=new WeakMap,Zr=new WeakMap,Xs=new WeakMap,jy),rc=new YO;function JO(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function QO(e){return Math.min(1e3*2**e,3e4)}function xx(e){return(e??"online")==="online"?rc.isOnline():!0}var bx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function eh(e){return e instanceof bx}function Sx(e){let t=!1,n=0,r=!1,s;const o=JO(),l=w=>{var P;r||(m(new bx(w)),(P=e.abort)==null||P.call(e))},u=()=>{t=!0},d=()=>{t=!1},h=()=>wx.isFocused()&&(e.networkMode==="always"||rc.isOnline())&&e.canRun(),p=()=>xx(e.networkMode)&&e.canRun(),y=w=>{var P;r||(r=!0,(P=e.onSuccess)==null||P.call(e,w),s==null||s(),o.resolve(w))},m=w=>{var P;r||(r=!0,(P=e.onError)==null||P.call(e,w),s==null||s(),o.reject(w))},v=()=>new Promise(w=>{var P;s=b=>{(r||h())&&w(b)},(P=e.onPause)==null||P.call(e)}).then(()=>{var w;s=void 0,r||(w=e.onContinue)==null||w.call(e)}),k=()=>{if(r)return;let w;const P=n===0?e.initialPromise:void 0;try{w=P??e.fn()}catch(b){w=Promise.reject(b)}Promise.resolve(w).then(y).catch(b=>{var N;if(r)return;const S=e.retry??(Ic?0:3),x=e.retryDelay??QO,C=typeof x=="function"?x(n,b):x,R=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,b);if(t||!R){m(b);return}n++,(N=e.onFail)==null||N.call(e,n,b),VO(C).then(()=>h()?void 0:v()).then(()=>{t?m(b):k()})})};return{promise:o,cancel:l,continue:()=>(s==null||s(),o),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?k():v().then(k),o)}}var XO=e=>setTimeout(e,0);function eR(){let e=[],t=0,n=u=>{u()},r=u=>{u()},s=XO;const o=u=>{t?e.push(u):s(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var Ot=eR(),$i,Iy,Ex=(Iy=class{constructor(){Ee(this,$i)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),FO(this.gcTime)&&he(this,$i,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ic?1/0:5*60*1e3))}clearGcTimeout(){z(this,$i)&&(clearTimeout(z(this,$i)),he(this,$i,void 0))}},$i=new WeakMap,Iy),eo,Bi,on,Ui,xt,Ya,Fi,Sn,pr,My,tR=(My=class extends Ex{constructor(t){super();Ee(this,Sn);Ee(this,eo);Ee(this,Bi);Ee(this,on);Ee(this,Ui);Ee(this,xt);Ee(this,Ya);Ee(this,Fi);he(this,Fi,!1),he(this,Ya,t.defaultOptions),this.setOptions(t.options),this.observers=[],he(this,Ui,t.client),he(this,on,z(this,Ui).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,he(this,eo,rR(this.options)),this.state=t.state??z(this,eo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=z(this,xt))==null?void 0:t.promise}setOptions(t){this.options={...z(this,Ya),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,on).remove(this)}setData(t,n){const r=qO(this.state.data,t,this.options);return yt(this,Sn,pr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){yt(this,Sn,pr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=z(this,xt))==null?void 0:r.promise;return(s=z(this,xt))==null||s.cancel(t),n?n.then(xn).catch(xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,eo))}isActive(){return this.observers.some(t=>HO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_f(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!WO(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,xt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=z(this,xt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),z(this,on).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(z(this,xt)&&(z(this,Fi)?z(this,xt).cancel({revert:!0}):z(this,xt).cancelRetry()),this.scheduleGc()),z(this,on).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,Sn,pr).call(this,{type:"invalidate"})}fetch(t,n){var h,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,xt))return z(this,xt).continueRetry(),z(this,xt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(he(this,Fi,!0),r.signal)})},o=()=>{const m=_x(this.options,n),k=(()=>{const w={client:z(this,Ui),queryKey:this.queryKey,meta:this.meta};return s(w),w})();return he(this,Fi,!1),this.options.persister?this.options.persister(m,k,this):m(k)},u=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,Ui),state:this.state,fetchFn:o};return s(m),m})();(h=this.options.behavior)==null||h.onFetch(u,this),he(this,Bi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=u.fetchOptions)==null?void 0:p.meta))&&yt(this,Sn,pr).call(this,{type:"fetch",meta:(y=u.fetchOptions)==null?void 0:y.meta});const d=m=>{var v,k,w,P;eh(m)&&m.silent||yt(this,Sn,pr).call(this,{type:"error",error:m}),eh(m)||((k=(v=z(this,on).config).onError)==null||k.call(v,m,this),(P=(w=z(this,on).config).onSettled)==null||P.call(w,this.state.data,m,this)),this.scheduleGc()};return he(this,xt,Sx({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var v,k,w,P;if(m===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){d(b);return}(k=(v=z(this,on).config).onSuccess)==null||k.call(v,m,this),(P=(w=z(this,on).config).onSettled)==null||P.call(w,m,this.state.error,this),this.scheduleGc()},onError:d,onFail:(m,v)=>{yt(this,Sn,pr).call(this,{type:"failed",failureCount:m,error:v})},onPause:()=>{yt(this,Sn,pr).call(this,{type:"pause"})},onContinue:()=>{yt(this,Sn,pr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),z(this,xt).start()}},eo=new WeakMap,Bi=new WeakMap,on=new WeakMap,Ui=new WeakMap,xt=new WeakMap,Ya=new WeakMap,Fi=new WeakMap,Sn=new WeakSet,pr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...nR(r.data,this.options),fetchMeta:t.meta??null};case"success":return he(this,Bi,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return eh(s)&&s.revert&&z(this,Bi)?{...z(this,Bi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),z(this,on).notify({query:this,type:"updated",action:t})})},My);function nR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zn,Dy,iR=(Dy=class extends jc{constructor(t={}){super();Ee(this,Zn);this.config=t,he(this,Zn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??em(s,n);let l=this.get(o);return l||(l=new tR({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){z(this,Zn).has(t.queryHash)||(z(this,Zn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=z(this,Zn).get(t.queryHash);n&&(t.destroy(),n===t&&z(this,Zn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return z(this,Zn).get(t)}getAll(){return[...z(this,Zn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Dv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Dv(t,r)):n}notify(t){Ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zn=new WeakMap,Dy),Kn,Tt,Wi,Gn,zr,zy,sR=(zy=class extends Ex{constructor(t){super();Ee(this,Gn);Ee(this,Kn);Ee(this,Tt);Ee(this,Wi);this.mutationId=t.mutationId,he(this,Tt,t.mutationCache),he(this,Kn,[]),this.state=t.state||oR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){z(this,Kn).includes(t)||(z(this,Kn).push(t),this.clearGcTimeout(),z(this,Tt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){he(this,Kn,z(this,Kn).filter(n=>n!==t)),this.scheduleGc(),z(this,Tt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){z(this,Kn).length||(this.state.status==="pending"?this.scheduleGc():z(this,Tt).remove(this))}continue(){var t;return((t=z(this,Wi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,u,d,h,p,y,m,v,k,w,P,b,S,x,C,R,N,A,$;const n=()=>{yt(this,Gn,zr).call(this,{type:"continue"})};he(this,Wi,Sx({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,V)=>{yt(this,Gn,zr).call(this,{type:"failed",failureCount:D,error:V})},onPause:()=>{yt(this,Gn,zr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Tt).canRun(this)}));const r=this.state.status==="pending",s=!z(this,Wi).canStart();try{if(r)n();else{yt(this,Gn,zr).call(this,{type:"pending",variables:t,isPaused:s}),await((l=(o=z(this,Tt).config).onMutate)==null?void 0:l.call(o,t,this));const V=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t));V!==this.state.context&&yt(this,Gn,zr).call(this,{type:"pending",context:V,variables:t,isPaused:s})}const D=await z(this,Wi).start();return await((p=(h=z(this,Tt).config).onSuccess)==null?void 0:p.call(h,D,t,this.state.context,this)),await((m=(y=this.options).onSuccess)==null?void 0:m.call(y,D,t,this.state.context)),await((k=(v=z(this,Tt).config).onSettled)==null?void 0:k.call(v,D,null,this.state.variables,this.state.context,this)),await((P=(w=this.options).onSettled)==null?void 0:P.call(w,D,null,t,this.state.context)),yt(this,Gn,zr).call(this,{type:"success",data:D}),D}catch(D){try{throw await((S=(b=z(this,Tt).config).onError)==null?void 0:S.call(b,D,t,this.state.context,this)),await((C=(x=this.options).onError)==null?void 0:C.call(x,D,t,this.state.context)),await((N=(R=z(this,Tt).config).onSettled)==null?void 0:N.call(R,void 0,D,this.state.variables,this.state.context,this)),await(($=(A=this.options).onSettled)==null?void 0:$.call(A,void 0,D,t,this.state.context)),D}finally{yt(this,Gn,zr).call(this,{type:"error",error:D})}}finally{z(this,Tt).runNext(this)}}},Kn=new WeakMap,Tt=new WeakMap,Wi=new WeakMap,Gn=new WeakSet,zr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ot.batch(()=>{z(this,Kn).forEach(r=>{r.onMutationUpdate(t)}),z(this,Tt).notify({mutation:this,type:"updated",action:t})})},zy);function oR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yr,En,Ja,$y,aR=($y=class extends jc{constructor(t={}){super();Ee(this,yr);Ee(this,En);Ee(this,Ja);this.config=t,he(this,yr,new Set),he(this,En,new Map),he(this,Ja,0)}build(t,n,r){const s=new sR({mutationCache:this,mutationId:++Nl(this,Ja)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){z(this,yr).add(t);const n=Xl(t);if(typeof n=="string"){const r=z(this,En).get(n);r?r.push(t):z(this,En).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(z(this,yr).delete(t)){const n=Xl(t);if(typeof n=="string"){const r=z(this,En).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&z(this,En).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Xl(t);if(typeof n=="string"){const r=z(this,En).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Xl(t);if(typeof n=="string"){const s=(r=z(this,En).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ot.batch(()=>{z(this,yr).forEach(t=>{this.notify({type:"removed",mutation:t})}),z(this,yr).clear(),z(this,En).clear()})}getAll(){return Array.from(z(this,yr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>zv(n,r))}findAll(t={}){return this.getAll().filter(n=>zv(t,n))}notify(t){Ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ot.batch(()=>Promise.all(t.map(n=>n.continue().catch(xn))))}},yr=new WeakMap,En=new WeakMap,Ja=new WeakMap,$y);function Xl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Uv(e){return{onFetch:(t,n)=>{var p,y,m,v,k;const r=t.options,s=(m=(y=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:y.fetchMore)==null?void 0:m.direction,o=((v=t.state.data)==null?void 0:v.pages)||[],l=((k=t.state.data)==null?void 0:k.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let w=!1;const P=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},b=_x(t.options,t.fetchOptions),S=async(x,C,R)=>{if(w)return Promise.reject();if(C==null&&x.pages.length)return Promise.resolve(x);const A=(()=>{const Q={client:t.client,queryKey:t.queryKey,pageParam:C,direction:R?"backward":"forward",meta:t.options.meta};return P(Q),Q})(),$=await b(A),{maxPages:D}=t.options,V=R?KO:ZO;return{pages:V(x.pages,$,D),pageParams:V(x.pageParams,C,D)}};if(s&&o.length){const x=s==="backward",C=x?lR:Fv,R={pages:o,pageParams:l},N=C(r,R);u=await S(R,N,x)}else{const x=e??o.length;do{const C=d===0?l[0]??r.initialPageParam:Fv(r,u);if(d>0&&C==null)break;u=await S(u,C),d++}while(d<x)}return u};t.options.persister?t.fetchFn=()=>{var w,P;return(P=(w=t.options).persister)==null?void 0:P.call(w,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function Fv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function lR(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ve,Kr,Gr,to,no,Yr,ro,io,By,uR=(By=class{constructor(e={}){Ee(this,Ve);Ee(this,Kr);Ee(this,Gr);Ee(this,to);Ee(this,no);Ee(this,Yr);Ee(this,ro);Ee(this,io);he(this,Ve,e.queryCache||new iR),he(this,Kr,e.mutationCache||new aR),he(this,Gr,e.defaultOptions||{}),he(this,to,new Map),he(this,no,new Map),he(this,Yr,0)}mount(){Nl(this,Yr)._++,z(this,Yr)===1&&(he(this,ro,wx.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,Ve).onFocus())})),he(this,io,rc.subscribe(async e=>{e&&(await this.resumePausedMutations(),z(this,Ve).onOnline())})))}unmount(){var e,t;Nl(this,Yr)._--,z(this,Yr)===0&&((e=z(this,ro))==null||e.call(this),he(this,ro,void 0),(t=z(this,io))==null||t.call(this),he(this,io,void 0))}isFetching(e){return z(this,Ve).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return z(this,Kr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,Ve).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=z(this,Ve).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(_f(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return z(this,Ve).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=z(this,Ve).get(r.queryHash),o=s==null?void 0:s.state.data,l=UO(t,o);if(l!==void 0)return z(this,Ve).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return Ot.batch(()=>z(this,Ve).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=z(this,Ve).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=z(this,Ve);Ot.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=z(this,Ve);return Ot.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ot.batch(()=>z(this,Ve).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(xn).catch(xn)}invalidateQueries(e,t={}){return Ot.batch(()=>(z(this,Ve).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ot.batch(()=>z(this,Ve).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(xn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(xn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=z(this,Ve).build(this,t);return n.isStaleByTime(_f(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xn).catch(xn)}fetchInfiniteQuery(e){return e.behavior=Uv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xn).catch(xn)}ensureInfiniteQueryData(e){return e.behavior=Uv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rc.isOnline()?z(this,Kr).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Ve)}getMutationCache(){return z(this,Kr)}getDefaultOptions(){return z(this,Gr)}setDefaultOptions(e){he(this,Gr,e)}setQueryDefaults(e,t){z(this,to).set($a(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...z(this,to).values()],n={};return t.forEach(r=>{Ba(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){z(this,no).set($a(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...z(this,no).values()],n={};return t.forEach(r=>{Ba(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...z(this,Gr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=em(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...z(this,Gr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){z(this,Ve).clear(),z(this,Kr).clear()}},Ve=new WeakMap,Kr=new WeakMap,Gr=new WeakMap,to=new WeakMap,no=new WeakMap,Yr=new WeakMap,ro=new WeakMap,io=new WeakMap,By),cR=E.createContext(void 0),dR=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),g.jsx(cR.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua.apply(this,arguments)}var Xr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xr||(Xr={}));const Wv="popstate";function hR(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:l,hash:u}=r.location;return xf("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ic(s)}return pR(t,n,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fR(){return Math.random().toString(36).substr(2,8)}function Hv(e,t){return{usr:e.state,key:e.key,idx:t}}function xf(e,t,n,r){return n===void 0&&(n=null),Ua({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Eo(t):t,{state:n,key:t&&t.key||r||fR()})}function ic(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Eo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pR(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u=Xr.Pop,d=null,h=p();h==null&&(h=0,l.replaceState(Ua({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function y(){u=Xr.Pop;let P=p(),b=P==null?null:P-h;h=P,d&&d({action:u,location:w.location,delta:b})}function m(P,b){u=Xr.Push;let S=xf(w.location,P,b);h=p()+1;let x=Hv(S,h),C=w.createHref(S);try{l.pushState(x,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(C)}o&&d&&d({action:u,location:w.location,delta:1})}function v(P,b){u=Xr.Replace;let S=xf(w.location,P,b);h=p();let x=Hv(S,h),C=w.createHref(S);l.replaceState(x,"",C),o&&d&&d({action:u,location:w.location,delta:0})}function k(P){let b=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof P=="string"?P:ic(P);return S=S.replace(/ $/,"%20"),et(b,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,b)}let w={get action(){return u},get location(){return e(s,l)},listen(P){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Wv,y),d=P,()=>{s.removeEventListener(Wv,y),d=null}},createHref(P){return t(s,P)},createURL:k,encodeLocation(P){let b=k(P);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:v,go(P){return l.go(P)}};return w}var Vv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Vv||(Vv={}));function mR(e,t,n){return n===void 0&&(n="/"),gR(e,t,n,!1)}function gR(e,t,n,r){let s=typeof t=="string"?Eo(t):t,o=nm(s.pathname||"/",n);if(o==null)return null;let l=Px(e);vR(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=CR(o);u=PR(l[d],h,r)}return u}function Px(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(et(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=li([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Px(o.children,t,p,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:ER(h,o.index),routesMeta:p})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of Tx(o.path))s(o,l,d)}),t}function Tx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=Tx(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function vR(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:kR(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yR=/^:[\w-]+$/,_R=3,wR=2,xR=1,bR=10,SR=-2,qv=e=>e==="*";function ER(e,t){let n=e.split("/"),r=n.length;return n.some(qv)&&(r+=SR),t&&(r+=wR),n.filter(s=>!qv(s)).reduce((s,o)=>s+(yR.test(o)?_R:o===""?xR:bR),r)}function kR(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function PR(e,t,n){let{routesMeta:r}=e,s={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",y=Zv({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),m=d.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=Zv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:li([o,y.pathname]),pathnameBase:LR(li([o,y.pathnameBase])),route:m}),y.pathnameBase!=="/"&&(o=li([o,y.pathnameBase]))}return l}function Zv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=TR(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,p,y)=>{let{paramName:m,isOptional:v}=p;if(m==="*"){let w=u[y]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const k=u[y];return v&&!k?h[m]=void 0:h[m]=(k||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function TR(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),kx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function CR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function OR(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Eo(e):e;return{pathname:n?n.startsWith("/")?n:RR(n,t):t,search:AR(r),hash:jR(s)}}function RR(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function th(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Cx(e,t){let n=NR(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ox(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Eo(e):(s=Ua({},e),et(!s.pathname||!s.pathname.includes("?"),th("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),th("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),th("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=n;else{let y=t.length-1;if(!r&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),y-=1;s.pathname=m.join("/")}u=y>=0?t[y]:"/"}let d=OR(s,u),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}const li=e=>e.join("/").replace(/\/\/+/g,"/"),LR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Rx=["post","put","patch","delete"];new Set(Rx);const MR=["get",...Rx];new Set(MR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(this,arguments)}const rm=E.createContext(null),DR=E.createContext(null),ts=E.createContext(null),Mc=E.createContext(null),gi=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Nx=E.createContext(null);function zR(e,t){let{relative:n}=t===void 0?{}:t;ol()||et(!1);let{basename:r,navigator:s}=E.useContext(ts),{hash:o,pathname:l,search:u}=jx(e,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:li([r,l])),s.createHref({pathname:d,search:u,hash:o})}function ol(){return E.useContext(Mc)!=null}function ko(){return ol()||et(!1),E.useContext(Mc).location}function Lx(e){E.useContext(ts).static||E.useLayoutEffect(e)}function An(){let{isDataRoute:e}=E.useContext(gi);return e?JR():$R()}function $R(){ol()||et(!1);let e=E.useContext(rm),{basename:t,future:n,navigator:r}=E.useContext(ts),{matches:s}=E.useContext(gi),{pathname:o}=ko(),l=JSON.stringify(Cx(s,n.v7_relativeSplatPath)),u=E.useRef(!1);return Lx(()=>{u.current=!0}),E.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let y=Ox(h,JSON.parse(l),o,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:li([t,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[t,r,l,o,e])}function Ax(){let{matches:e}=E.useContext(gi),t=e[e.length-1];return t?t.params:{}}function jx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(ts),{matches:s}=E.useContext(gi),{pathname:o}=ko(),l=JSON.stringify(Cx(s,r.v7_relativeSplatPath));return E.useMemo(()=>Ox(e,JSON.parse(l),o,n==="path"),[e,l,o,n])}function BR(e,t){return UR(e,t)}function UR(e,t,n,r){ol()||et(!1);let{navigator:s}=E.useContext(ts),{matches:o}=E.useContext(gi),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=ko(),p;if(t){var y;let P=typeof t=="string"?Eo(t):t;d==="/"||(y=P.pathname)!=null&&y.startsWith(d)||et(!1),p=P}else p=h;let m=p.pathname||"/",v=m;if(d!=="/"){let P=d.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=mR(e,{pathname:v}),w=qR(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:li([d,s.encodeLocation?s.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?d:li([d,s.encodeLocation?s.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r);return t&&w?E.createElement(Mc.Provider,{value:{location:Fa({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Xr.Pop}},w):w}function FR(){let e=YR(),t=IR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:s},n):null,null)}const WR=E.createElement(FR,null);class HR extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(gi.Provider,{value:this.props.routeContext},E.createElement(Nx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VR(e){let{routeContext:t,match:n,children:r}=e,s=E.useContext(rm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(gi.Provider,{value:t},r)}function qR(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let p=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);p>=0||et(!1),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=p),y.route.id){let{loaderData:m,errors:v}=n,k=y.route.loader&&m[y.route.id]===void 0&&(!v||v[y.route.id]===void 0);if(y.route.lazy||k){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,y,m)=>{let v,k=!1,w=null,P=null;n&&(v=u&&y.route.id?u[y.route.id]:void 0,w=y.route.errorElement||WR,d&&(h<0&&m===0?(k=!0,P=null):h===m&&(k=!0,P=y.route.hydrateFallbackElement||null)));let b=t.concat(l.slice(0,m+1)),S=()=>{let x;return v?x=w:k?x=P:y.route.Component?x=E.createElement(y.route.Component,null):y.route.element?x=y.route.element:x=p,E.createElement(VR,{match:y,routeContext:{outlet:p,matches:b,isDataRoute:n!=null},children:x})};return n&&(y.route.ErrorBoundary||y.route.errorElement||m===0)?E.createElement(HR,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}var Ix=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ix||{}),sc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sc||{});function ZR(e){let t=E.useContext(rm);return t||et(!1),t}function KR(e){let t=E.useContext(DR);return t||et(!1),t}function GR(e){let t=E.useContext(gi);return t||et(!1),t}function Mx(e){let t=GR(),n=t.matches[t.matches.length-1];return n.route.id||et(!1),n.route.id}function YR(){var e;let t=E.useContext(Nx),n=KR(sc.UseRouteError),r=Mx(sc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function JR(){let{router:e}=ZR(Ix.UseNavigateStable),t=Mx(sc.UseNavigateStable),n=E.useRef(!1);return Lx(()=>{n.current=!0}),E.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Fa({fromRouteId:t},o)))},[e,t])}function QR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ft(e){et(!1)}function XR(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Xr.Pop,navigator:o,static:l=!1,future:u}=e;ol()&&et(!1);let d=t.replace(/^\/*/,"/"),h=E.useMemo(()=>({basename:d,navigator:o,static:l,future:Fa({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);typeof r=="string"&&(r=Eo(r));let{pathname:p="/",search:y="",hash:m="",state:v=null,key:k="default"}=r,w=E.useMemo(()=>{let P=nm(p,d);return P==null?null:{location:{pathname:P,search:y,hash:m,state:v,key:k},navigationType:s}},[d,p,y,m,v,k,s]);return w==null?null:E.createElement(ts.Provider,{value:h},E.createElement(Mc.Provider,{children:n,value:w}))}function eN(e){let{children:t,location:n}=e;return BR(bf(t),n)}new Promise(()=>{});function bf(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,s)=>{if(!E.isValidElement(r))return;let o=[...t,s];if(r.type===E.Fragment){n.push.apply(n,bf(r.props.children,o));return}r.type!==Ft&&et(!1),!r.props.index||!r.props.children||et(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=bf(r.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sf.apply(this,arguments)}function tN(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function nN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rN(e,t){return e.button===0&&(!t||t==="_self")&&!nN(e)}function Ef(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function iN(e,t){let n=Ef(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const sN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oN="6";try{window.__reactRouterVersion=oN}catch{}const aN="startTransition",Kv=Wf[aN];function lN(e){let{basename:t,children:n,future:r,window:s}=e,o=E.useRef();o.current==null&&(o.current=hR({window:s,v5Compat:!0}));let l=o.current,[u,d]=E.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},p=E.useCallback(y=>{h&&Kv?Kv(()=>d(y)):d(y)},[d,h]);return E.useLayoutEffect(()=>l.listen(p),[l,p]),E.useEffect(()=>QR(r),[r]),E.createElement(XR,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const uN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=E.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:y}=t,m=tN(t,sN),{basename:v}=E.useContext(ts),k,w=!1;if(typeof h=="string"&&cN.test(h)&&(k=h,uN))try{let x=new URL(window.location.href),C=h.startsWith("//")?new URL(x.protocol+h):new URL(h),R=nm(C.pathname,v);C.origin===x.origin&&R!=null?h=R+C.search+C.hash:w=!0}catch{}let P=zR(h,{relative:s}),b=dN(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:y});function S(x){r&&r(x),x.defaultPrevented||b(x)}return E.createElement("a",Sf({},m,{href:k||P,onClick:w||o?r:S,ref:n,target:d}))});var Gv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gv||(Gv={}));var Yv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yv||(Yv={}));function dN(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:u}=t===void 0?{}:t,d=An(),h=ko(),p=jx(e,{relative:l});return E.useCallback(y=>{if(rN(y,n)){y.preventDefault();let m=r!==void 0?r:ic(h)===ic(p);d(e,{replace:m,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[h,d,p,r,s,n,e,o,l,u])}function hN(e){let t=E.useRef(Ef(e)),n=E.useRef(!1),r=ko(),s=E.useMemo(()=>iN(r.search,n.current?null:t.current),[r.search]),o=An(),l=E.useCallback((u,d)=>{const h=Ef(typeof u=="function"?u(s):u);n.current=!0,o("?"+h,d)},[o,s]);return[s,l]}var Jn=function(){return Jn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Jn.apply(this,arguments)};function Po(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function fN(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(p){try{h(r.next(p))}catch(y){l(y)}}function d(p){try{h(r.throw(p))}catch(y){l(y)}}function h(p){p.done?o(p.value):s(p.value).then(u,d)}h((r=r.apply(e,t||[])).next())})}function pN(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}const mN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class im extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class gN extends im{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Jv extends im{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Qv extends im{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kf||(kf={}));class vN{constructor(t,{headers:n={},customFetch:r,region:s=kf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=mN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return fN(this,arguments,void 0,function*(n,r={}){var s;let o,l;try{const{headers:u,method:d,body:h,signal:p,timeout:y}=r;let m={},{region:v}=r;v||(v=this.region);const k=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,k.searchParams.set("forceFunctionRegion",v));let w;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(m["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(m["Content-Type"]="application/json",w=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?w=JSON.stringify(h):w=h;let P=p;y&&(l=new AbortController,o=setTimeout(()=>l.abort(),y),p?(P=l.signal,p.addEventListener("abort",()=>l.abort())):P=l.signal);const b=yield this.fetch(k.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),u),body:w,signal:P}).catch(R=>{throw new gN(R)}),S=b.headers.get("x-relay-error");if(S&&S==="true")throw new Jv(b);if(!b.ok)throw new Qv(b);let x=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),C;return x==="application/json"?C=yield b.json():x==="application/octet-stream"||x==="application/pdf"?C=yield b.blob():x==="text/event-stream"?C=b:x==="multipart/form-data"?C=yield b.formData():C=yield b.text(),{data:C,error:null,response:b}}catch(u){return{data:null,error:u,response:u instanceof Qv||u instanceof Jv?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var yN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},_N=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,u=null,d=null,h=o.status,p=o.statusText;if(o.ok){var y,m;if(n.method!=="HEAD"){var v;const b=await o.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?u=b:u=JSON.parse(b))}const w=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),P=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&P&&P.length>1&&(d=parseInt(P[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var k;const w=await o.text();try{l=JSON.parse(w),Array.isArray(l)&&o.status===404&&(u=[],l=null,h=200,p="OK")}catch{o.status===404&&w===""?(h=204,p="No Content"):l={message:w}}if(l&&n.isMaybeSingle&&(!(l==null||(k=l.details)===null||k===void 0)&&k.includes("0 rows"))&&(l=null,h=200,p="OK"),l&&n.shouldThrowOnError)throw new yN(l)}return{error:l,data:u,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var l;let u="",d="",h="";const p=o==null?void 0:o.cause;if(p){var y,m,v,k;const b=(y=p==null?void 0:p.message)!==null&&y!==void 0?y:"",S=(m=p==null?void 0:p.code)!==null&&m!==void 0?m:"";u=`${(v=o==null?void 0:o.name)!==null&&v!==void 0?v:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(k=p==null?void 0:p.name)!==null&&k!==void 0?k:"Error"}: ${b}`,S&&(u+=` (${S})`),p!=null&&p.stack&&(u+=`
${p.stack}`)}else{var w;u=(w=o==null?void 0:o.stack)!==null&&w!==void 0?w:""}const P=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(h="",d="Request was aborted (timeout or manual cancellation)",P>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${P} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((p==null?void 0:p.name)==="HeadersOverflowError"||(p==null?void 0:p.code)==="UND_ERR_HEADERS_OVERFLOW")&&(h="",d="HTTP headers exceeded server limits (typically 16KB)",P>this.urlLengthLimit&&(d+=`. Your request URL is ${P} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:d,code:h},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},wN=class extends _N{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Xv=new RegExp("[,()]");var ks=class extends wN{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Xv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Xv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},xN=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",l),r&&d.append("Prefer",`count=${r}`),new ks({method:s,url:u,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",d.join(","))}}return new ks({method:s,url:o,headers:l,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var o;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),r&&d.append("Prefer",`count=${r}`),s||d.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(h.length>0){const p=[...new Set(h)].map(y=>`"${y}"`);u.searchParams.set("columns",p.join(","))}}return new ks({method:l,url:u,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new ks({method:r,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ks({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Wa(e){"@babel/helpers - typeof";return Wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}function bN(e,t){if(Wa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SN(e){var t=bN(e,"string");return Wa(t)=="symbol"?t:t+""}function EN(e,t,n){return(t=SN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(r){EN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kN=class Dx{constructor(t,{headers:n={},schema:r,fetch:s,timeout:o,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=l;const u=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(d,h)=>{const p=new AbortController,y=setTimeout(()=>p.abort(),o),m=h==null?void 0:h.signal;if(m){if(m.aborted)return clearTimeout(y),u(d,h);const v=()=>{clearTimeout(y),p.abort()};return m.addEventListener("abort",v,{once:!0}),u(d,eu(eu({},h),{},{signal:p.signal})).finally(()=>{clearTimeout(y),m.removeEventListener("abort",v)})}return u(d,eu(eu({},h),{},{signal:p.signal})).finally(()=>clearTimeout(y))}:this.fetch=u}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new xN(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Dx(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var l;let u;const d=new URL(`${this.url}/rpc/${t}`);let h;const p=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(p)),y=r&&Object.values(n).some(p);y?(u="POST",h=n):r||s?(u=r?"HEAD":"GET",Object.entries(n).filter(([v,k])=>k!==void 0).map(([v,k])=>[v,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([v,k])=>{d.searchParams.append(v,k)})):(u="POST",h=n);const m=new Headers(this.headers);return y?m.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&m.set("Prefer",`count=${o}`),new ks({method:u,url:d,headers:m,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class PN{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const TN="2.97.0",CN=`realtime-js/${TN}`,ON="1.0.0",zx="2.0.0",ty=zx,Pf=1e4,RN=1e3,NN=100;var Fr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fr||(Fr={}));var tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tt||(tt={}));var Pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pn||(Pn={}));var Tf;(function(e){e.websocket="websocket"})(Tf||(Tf={}));var Li;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Li||(Li={}));class LN{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var s,o;const l=t.topic,u=(s=t.ref)!==null&&s!==void 0?s:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},y=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+h.length+y.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let k=new DataView(v),w=0;k.setUint8(w++,this.KINDS.userBroadcastPush),k.setUint8(w++,d.length),k.setUint8(w++,u.length),k.setUint8(w++,l.length),k.setUint8(w++,h.length),k.setUint8(w++,y.length),k.setUint8(w++,n),Array.from(d,b=>k.setUint8(w++,b.charCodeAt(0))),Array.from(u,b=>k.setUint8(w++,b.charCodeAt(0))),Array.from(l,b=>k.setUint8(w++,b.charCodeAt(0))),Array.from(h,b=>k.setUint8(w++,b.charCodeAt(0))),Array.from(y,b=>k.setUint8(w++,b.charCodeAt(0)));var P=new Uint8Array(v.byteLength+r.byteLength);return P.set(new Uint8Array(v),0),P.set(new Uint8Array(r),v.byteLength),P.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,o,l,u,d]=r;return n({join_ref:s,ref:o,topic:l,event:u,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const h=r.decode(t.slice(d,d+s));d=d+s;const p=r.decode(t.slice(d,d+o));d=d+o;const y=r.decode(t.slice(d,d+l));d=d+l;const m=t.slice(d,t.byteLength),v=u===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,k={type:this.BROADCAST_EVENT,event:p,payload:v};return l>0&&(k.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class $x{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const ny=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=AN(l,e,t,s),o),{}):{}},AN=(e,t,n,r)=>{const s=t.find(u=>u.name===e),o=s==null?void 0:s.type,l=n[e];return o&&!r.includes(o)?Bx(o,l):Cf(l)},Bx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return DN(t,n)}switch(e){case Oe.bool:return jN(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return IN(t);case Oe.json:case Oe.jsonb:return MN(t);case Oe.timestamp:return zN(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Cf(t);default:return Cf(t)}},Cf=e=>e,jN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},IN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},DN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>Bx(t,u))}return e},zN=e=>typeof e=="string"?e.replace(" ","T"):e,Ux=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class nh{constructor(t,n,r={},s=Pf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ry;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ry||(ry={}));class ga{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ga.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=ga.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ga.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(o,(h,p)=>{l[h]||(d[h]=p)}),this.map(l,(h,p)=>{const y=o[h];if(y){const m=p.map(P=>P.presence_ref),v=y.map(P=>P.presence_ref),k=p.filter(P=>v.indexOf(P.presence_ref)<0),w=y.filter(P=>m.indexOf(P.presence_ref)<0);k.length>0&&(u[h]=k),w.length>0&&(d[h]=w)}else u[h]=p}),this.syncDiff(o,{joins:u,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(u,d)=>{var h;const p=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(d),p.length>0){const y=t[u].map(v=>v.presence_ref),m=p.filter(v=>y.indexOf(v.presence_ref)<0);t[u].unshift(...m)}r(u,p,d)}),this.map(l,(u,d)=>{let h=t[u];if(!h)return;const p=d.map(y=>y.presence_ref);h=h.filter(y=>p.indexOf(y.presence_ref)<0),t[u]=h,s(u,h,d),h.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(iy||(iy={}));var va;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(va||(va={}));var gr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gr||(gr={}));class Bs{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new nh(this,Pn.join,this.params,this.timeout),this.rejoinTimer=new $x(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new ga(this),this.broadcastEndpointURL=Ux(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,h=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[va.PRESENCE]&&this.bindings[va.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,y={},m={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(gr.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:m},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(gr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,P=(k=w==null?void 0:w.length)!==null&&k!==void 0?k:0,b=[];for(let S=0;S<P;S++){const x=w[S],{filter:{event:C,schema:R,table:N,filter:A}}=x,$=v&&v[S];if($&&$.event===C&&Bs.isFilterValueEqual($.schema,R)&&Bs.isFilterValueEqual($.table,N)&&Bs.isFilterValueEqual($.filter,A))b.push(Object.assign(Object.assign({},x),{id:$.id}));else{this.unsubscribe(),this.state=tt.errored,t==null||t(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(gr.SUBSCRIBED);return}}).receive("error",v=>{this.state=tt.errored,t==null||t(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===tt.joined&&t===va.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new nh(this,Pn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new nh(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>NN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:h,join:p}=Pn;if(r&&[u,d,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let m=this._onMessage(l,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var k,w,P;return((k=v.filter)===null||k===void 0?void 0:k.event)==="*"||((P=(w=v.filter)===null||w===void 0?void 0:w.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===l}).map(v=>v.callback(m,r)):(o=this.bindings[l])===null||o===void 0||o.filter(v=>{var k,w,P,b,S,x;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const C=v.id,R=(k=v.filter)===null||k===void 0?void 0:k.event;return C&&((w=n.ids)===null||w===void 0?void 0:w.includes(C))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const C=(S=(b=v==null?void 0:v.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return C==="*"||C===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof m=="object"&&"ids"in m){const k=m.data,{schema:w,table:P,commit_timestamp:b,type:S,errors:x}=k;m=Object.assign(Object.assign({},{schema:w,table:P,commit_timestamp:b,eventType:S,new:{},old:{},errors:x}),this._getPayloadRecords(k))}v.callback(m,r)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Bs.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pn.close,{},t)}_onError(t){this._on(Pn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ny(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ny(t.columns,t.old_record)),n}}const rh=()=>{},tu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$N=[1e3,2e3,5e3,1e4],BN=1e4,UN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FN{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pf,this.transport=null,this.heartbeatIntervalMs=tu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rh,this.ref=0,this.reconnectTimer=null,this.vsn=ty,this.logger=rh,this.conn=null,this.sendBuffer=[],this.serializer=new LN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Tf.websocket}`,this.httpEndpoint=Ux(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=PN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fr.connecting:return Li.Connecting;case Fr.open:return Li.Open;case Fr.closing:return Li.Closing;default:return Li.Closed}}isConnected(){return this.connectionState()===Li.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Bs(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(RN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},tu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:o,ref:l}=n,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${s} ${u}`.trim(),o),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Fr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fr.open||this.conn.readyState===Fr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([UN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:CN};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Pn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $x(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,l,u,d,h,p,y,m,v;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Pf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:tu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:rh,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:ty,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:k=>$N[k-1]||BN,this.vsn){case ON:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:(k,w)=>w(JSON.stringify(k)),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:(k,w)=>w(JSON.parse(k));break;case zx:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ha=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function WN(e,t,n){const r=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&r.searchParams.set(s,o);return r.toString()}async function HN(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function VN(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:o,headers:l}){const u=WN(e.baseUrl,r,s),d=await HN(e.auth),h=await t(u,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),p=await h.text(),y=(h.headers.get("content-type")||"").includes("application/json"),m=y&&p?JSON.parse(p):p;if(!h.ok){const v=y?m:void 0,k=v==null?void 0:v.error;throw new Ha((k==null?void 0:k.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:v})}return{status:h.status,headers:h.headers,data:m}}}}function nu(e){return e.join("")}var qN=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:nu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nu(e.namespace)}`}),!0}catch(t){if(t instanceof Ha&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Ha&&n.status===409)return;throw n}}};function gs(e){return e.join("")}var ZN=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gs(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gs(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gs(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gs(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gs(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ha&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Ha&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},KN=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=VN({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new qN(this.client,t),this.tableOps=new ZN(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Dc=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function zc(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ru=class extends Dc{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fx=class extends Dc{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const GN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),YN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Of=e=>{if(Array.isArray(e))return e.map(n=>Of(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Of(r)}),t},JN=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Va(e){"@babel/helpers - typeof";return Va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(e)}function QN(e,t){if(Va(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XN(e){var t=QN(e,"string");return Va(t)=="symbol"?t:t+""}function eL(e,t,n){return(t=XN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sy(Object(n),!0).forEach(function(r){eL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const oy=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},tL=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,o=s.status||500;if(typeof s.json=="function")s.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";t(new ru(oy(l),o,u,r))}).catch(()=>{if(r==="vectors"){const l=o+"";t(new ru(s.statusText||`HTTP ${o} error`,o,l,r))}else{const l=o+"";t(new ru(s.statusText||`HTTP ${o} error`,o,l,r))}});else{const l=o+"";t(new ru(s.statusText||`HTTP ${o} error`,o,l,r))}}else t(new Fx(oy(e),e,r))},nL=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?se(se({},s),n):(YN(r)?(s.headers=se({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),se(se({},s),n))};async function ea(e,t,n,r,s,o,l){return new Promise((u,d)=>{e(n,nL(t,r,s,o)).then(h=>{if(!h.ok)throw h;if(r!=null&&r.noResolveJson)return h;if(l==="vectors"){const p=h.headers.get("content-type");if(h.headers.get("content-length")==="0"||h.status===204)return{};if(!p||!p.includes("application/json"))return{}}return h.json()}).then(h=>u(h)).catch(h=>tL(h,d,r,l))})}function Wx(e="storage"){return{get:async(t,n,r,s)=>ea(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,o)=>ea(t,"POST",n,s,o,r,e),put:async(t,n,r,s,o)=>ea(t,"PUT",n,s,o,r,e),head:async(t,n,r,s)=>ea(t,"HEAD",n,se(se({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,o)=>ea(t,"DELETE",n,s,o,r,e)}}const rL=Wx("storage"),{get:qa,post:bn,put:Rf,head:iL,remove:sm}=rL,qt=Wx("vectors");var To=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=GN(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=se(se({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zc(n))return{data:null,error:n};throw n}}},sL=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(zc(t))return{data:null,error:t};throw t}}};let Hx;Hx=Symbol.toStringTag;var oL=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Hx]="BlobDownloadBuilder",this.promise=null}asStream(){return new sL(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(zc(t))return{data:null,error:t};throw t}}};const aL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ay={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var lL=class extends To{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let o;const l=se(se({},ay),r);let u=se(se({},s.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",s.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(d))):(o=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=s.toBase64(s.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(u=se(se({},u),r.headers));const h=s._removeEmptyFolders(t),p=s._getFinalPath(h),y=await(e=="PUT"?Rf:bn)(s.fetch,`${s.url}/object/${p}`,o,se({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:h,id:y.Id,fullPath:y.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const o=s._removeEmptyFolders(e),l=s._getFinalPath(o),u=new URL(s.url+`/object/upload/sign/${l}`);return u.searchParams.set("token",t),s.handleOperation(async()=>{let d;const h=se({upsert:ay.upsert},r),p=se(se({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{path:o,fullPath:(await Rf(s.fetch,u.toString(),d,{headers:p})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=se({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await bn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(n.url+o.url),u=l.searchParams.get("token");if(!u)throw new Dc("No token returned by API");return{signedUrl:l.toString(),path:e,token:u}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await bn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await bn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),o=await bn(r.fetch,`${r.url}/object/sign/${s}`,se({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await bn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(l=>se(se({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${o}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"",l=this._getFinalPath(e),u=()=>qa(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0},n);return new oL(u,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Of(await qa(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await iL(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zc(r)&&r instanceof Fx){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await sm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=se(se(se({},aL),t),{},{prefix:e||""});return await bn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=se({},e);return await bn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const uL="2.97.0",al={"X-Client-Info":`storage-js/${uL}`};var cL=class extends To{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),l=se(se({},al),t);super(o,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await qa(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await qa(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await bn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Rf(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await bn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await sm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},dL=class extends To{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=se(se({},al),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await bn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await qa(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await sm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!JN(e))throw new Dc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new KN({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const l=s[o];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(s,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},hL=class extends To{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=se(se({},al),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await qt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await qt.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await qt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await qt.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},fL=class extends To{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=se(se({},al),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await qt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await qt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await qt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await qt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await qt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},pL=class extends To{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=se(se({},al),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await qt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await qt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await qt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await qt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},mL=class extends pL{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new gL(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},gL=class extends hL{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new vL(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},vL=class extends fL{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,se(se({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},yL=class extends cL{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new lL(this.url,this.headers,e,this.fetch)}get vectors(){return new mL(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dL(this.url+"/iceberg",this.headers,this.fetch)}};const Vx="2.97.0",Ps=30*1e3,Nf=3,ih=Nf*Ps,_L="http://localhost:9999",wL="supabase.auth.token",xL={"X-Client-Info":`gotrue-js/${Vx}`},Lf="X-Supabase-Api-Version",qx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SL=10*60*1e3;class Za extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class EL extends Za{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function kL(e){return ee(e)&&e.name==="AuthApiError"}class Ai extends Za{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Rr extends Za{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Wt extends Rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sh(e){return ee(e)&&e.name==="AuthSessionMissingError"}class vs extends Rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class iu extends Rr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class su extends Rr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PL(e){return ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class ly extends Rr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class TL extends Rr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Af extends Rr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function oh(e){return ee(e)&&e.name==="AuthRetryableFetchError"}class uy extends Rr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jf extends Rr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cy=` 	
\r=`.split(""),CL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cy.length;t+=1)e[cy[t].charCodeAt(0)]=-2;for(let t=0;t<oc.length;t+=1)e[oc[t].charCodeAt(0)]=t;return e})();function dy(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(oc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(oc[r]),t.queuedBits-=6}}function Zx(e,t,n){const r=CL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hy(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{NL(l,r,n)};for(let l=0;l<e.length;l+=1)Zx(e.charCodeAt(l),s,o);return t.join("")}function OL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}OL(r,t)}}function NL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Gs(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Zx(e.charCodeAt(s),n,r);return new Uint8Array(t)}function LL(e){const t=[];return RL(e,n=>t.push(n)),new Uint8Array(t)}function Di(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>dy(s,n,r)),dy(null,n,r),t.join("")}function AL(e){return Math.round(Date.now()/1e3)+e}function jL(){return Symbol("auth-callback")}const dt=()=>typeof window<"u"&&typeof document<"u",Ti={tested:!1,writable:!1},Kx=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ti.tested)return Ti.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ti.tested=!0,Ti.writable=!0}catch{Ti.tested=!0,Ti.writable=!1}return Ti.writable};function IL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Gx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ML=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ts=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ci=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ct=async(e,t)=>{await e.removeItem(t)};class $c{constructor(){this.promise=new $c.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}$c.promiseConstructor=Promise;function ou(e){const t=e.split(".");if(t.length!==3)throw new jf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!bL.test(t[r]))throw new jf("JWT not in base64url format");return{header:JSON.parse(hy(t[0])),payload:JSON.parse(hy(t[1])),signature:Gs(t[2]),raw:{header:t[0],payload:t[1]}}}async function DL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zL(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function $L(e){return("0"+e.toString(16)).substr(-2)}function BL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,$L).join("")}async function UL(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function FL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await UL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ys(e,t,n=!1){const r=BL();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ts(e,`${t}-code-verifier`,s);const o=await FL(r);return[o,r===o?"plain":"s256"]}const WL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HL(e){const t=e.headers.get(Lf);if(!t||!t.match(WL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function VL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function qL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _s(e){if(!ZL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ah(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KL(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function fy(e){return JSON.parse(JSON.stringify(e))}const Ni=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GL=[502,503,504];async function py(e){var t;if(!ML(e))throw new Af(Ni(e),0);if(GL.includes(e.status))throw new Af(Ni(e),e.status);let n;try{n=await e.json()}catch(o){throw new Ai(Ni(o),o)}let r;const s=HL(e);if(s&&s.getTime()>=qx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uy(Ni(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Wt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new uy(Ni(n),e.status,n.weak_password.reasons);throw new EL(Ni(n),e.status||500,r)}const YL=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function oe(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Lf]||(o[Lf]=qx["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await JL(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function JL(e,t,n,r,s,o){const l=YL(t,r,s,o);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new Af(Ni(d),0)}if(u.ok||await py(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await py(d)}}function _n(e){var t;let n=null;eA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=AL(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function my(e){const t=_n(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function QL(e){return{data:e,error:null}}function XL(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,l=Po(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function gy(e){return e}function eA(e){return e.access_token&&e.refresh_token&&e.expires_in}const lh=["global","local","others"];class tA{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Gx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=lh[0]){if(lh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lh.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Vr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Po(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:XL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:gy});if(p.error)throw p.error;const y=await p.json(),m=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);h[`${P}Page`]=w}),h.total=parseInt(m)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(ee(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){_s(t);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){_s(t);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Vr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){_s(t);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Vr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){_s(t.userId);try{const{data:n,error:r}=await oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _deleteFactor(t){_s(t.userId),_s(t.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,o,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},p=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:gy});if(p.error)throw p.error;const y=await p.json(),m=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(k=>{const w=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(k.split(";")[1].split("=")[1]);h[`${P}Page`]=w}),h.total=parseInt(m)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(ee(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}}function vy(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ws={debug:!!(globalThis&&Kx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yy extends Yx{}async function nA(e,t,n){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ws.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new yy(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function rA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jx(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function iA(e){return parseInt(e,16)}function sA(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function oA(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:h,scheme:p,uri:y,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Jx(e.address),k=p?`${p}://${r}`:r,w=e.statement?`${e.statement}
`:"",P=`${k} wants you to sign in with your Ethereum account:
${v}

${w}`;let b=`URI: ${y}
Version: ${m}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),u&&(b+=`
Not Before: ${u.toISOString()}`),d&&(b+=`
Request ID: ${d}`),h){let S=`
Resources:`;for(const x of h){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);S+=`
- ${x}`}b+=S}return`${P}
${b}`}class Qe extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class ac extends Qe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function aA({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(Qx(l)){if(o.rp.id!==l)return new Qe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function lA({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Qx(r)){if(n.rpId!==r)return new Qe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class uA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const cA=new uA;function dA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Po(e,["challenge","user","excludeCredentials"]),o=Gs(t).buffer,l=Object.assign(Object.assign({},n),{id:Gs(n.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const h=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Gs(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function hA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Po(e,["challenge","allowCredentials"]),s=Gs(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Gs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function fA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Di(new Uint8Array(e.response.attestationObject)),clientDataJSON:Di(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Di(new Uint8Array(s.authenticatorData)),clientDataJSON:Di(new Uint8Array(s.clientDataJSON)),signature:Di(new Uint8Array(s.signature)),userHandle:s.userHandle?Di(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Qx(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function _y(){var e,t;return!!(dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ac("Browser returned unexpected credential type",t)}:{data:null,error:new ac("Empty credential response",t)}}catch(t){return{data:null,error:aA({error:t,options:e})}}}async function gA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ac("Browser returned unexpected credential type",t)}:{data:null,error:new ac("Empty credential response",t)}}catch(t){return{data:null,error:lA({error:t,options:e})}}}const vA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function lc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=lc(u,l):r[o]=lc(l)}else r[o]=l}return r}function _A(e,t){return lc(vA,e,t||{})}function wA(e,t){return lc(yA,e,t||{})}class xA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},o){var l;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:d};const h=s??cA.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;if(!p.name){const y=r;if(y)p.name=`${p.id}:${y}`;else{const v=(await this.client.getUser()).data.user,k=((l=v==null?void 0:v.user_metadata)===null||l===void 0?void 0:l.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";p.name=`${p.id}:${k}`}}p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=_A(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:y,error:m}=await mA({publicKey:p,signal:h});return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:m}}case"request":{const p=wA(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:y,error:m}=await gA(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:h}));return y?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:m}}}}catch(u){return ee(u)?{data:null,error:u}:{data:null,error:new Ai("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Za("rpId is required for WebAuthn authentication")};try{if(!_y())return{data:null,error:new Ai("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return ee(l)?{data:null,error:l}:{data:null,error:new Ai("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new Za("rpId is required for WebAuthn registration")};try{if(!_y())return{data:null,error:new Ai("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var y;return(y=p.data)===null||y===void 0?void 0:y.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return ee(l)?{data:null,error:l}:{data:null,error:new Ai("Unexpected error in register",l)}}}}rA();const bA={url:_L,storageKey:wL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function wy(e,t,n){return await n()}const xs={};class Ka{get jwks(){var t,n;return(n=(t=xs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=xs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},bA),t);if(this.storageKey=o.storageKey,this.instanceID=(n=Ka.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ka.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&dt()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new tA({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Gx(o.fetch),this.lock=o.lock||wy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&dt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=nA:this.lock=wy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Kx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vy(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=vy(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}o.skipAutoInitialize||this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vx}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(dt()&&(n=IL(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),dt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),PL(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ee(n)?this._returnResult({error:n}):this._returnResult({error:new Ai("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_n}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:p,password:y,options:m}=t;let v=null,k=null;this.flowType==="pkce"&&([v,k]=await ys(this.storage,this.storageKey)),o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:p,password:y,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:k},xform:_n})}else if("phone"in t){const{phone:p,password:y,options:m}=t;o=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:_n})}else throw new iu("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(o){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:my})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:my})}else throw new iu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new vs;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,o,l,u,d,h,p,y,m;let v,k;if("message"in t)v=t.message,k=t.signature;else{const{chain:w,wallet:P,statement:b,options:S}=t;let x;if(dt())if(typeof P=="object")x=P;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")x=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=P}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href),R=await x.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Jx(R[0]);let A=(r=S==null?void 0:S.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!A){const D=await x.request({method:"eth_chainId"});A=iA(D)}const $={domain:C.host,address:N,statement:b,uri:C.href,version:"1",chainId:A,nonce:(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=S==null?void 0:S.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=S==null?void 0:S.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=S==null?void 0:S.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=oA($),k=await x.request({method:"personal_sign",params:[sA(v),N]})}try{const{data:w,error:P}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:k},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:_n});if(P)throw P;if(!w||!w.session||!w.user){const b=new vs;return this._returnResult({data:{user:null,session:null},error:b})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:P})}catch(w){if(ee(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,s,o,l,u,d,h,p,y,m,v;let k,w;if("message"in t)k=t.message,w=t.signature;else{const{chain:P,wallet:b,statement:S,options:x}=t;let C;if(dt())if(typeof b=="object")C=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))C=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=b}const R=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const N=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),S?{statement:S}:null));let A;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")A=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)A=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)k=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),w=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${R.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((h=x==null?void 0:x.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((y=(p=x==null?void 0:x.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...x.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const N=await C.signMessage(new TextEncoder().encode(k),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=N}}try{const{data:P,error:b}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Di(w)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:_n});if(b)throw b;if(!P||!P.session||!P.user){const S=new vs;return this._returnResult({data:{user:null,session:null},error:S})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:b})}catch(P){if(ee(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new TL;const{data:o,error:l}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:_n});if(await ct(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new vs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:l}=t,u=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_n}),{data:d,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const p=new vs;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,o,l;try{if("email"in t){const{email:u,options:d}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await ys(this.storage,this.storageKey));const{error:y}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:u,options:d}=t,{data:h,error:p}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new iu("You must provide either an email or phone number.")}catch(u){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:_n});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,o,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ys(this.storage,this.storageKey));const h=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:QL});return!((o=h.data)===null||o===void 0)&&o.url&&dt()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ee(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Wt;const{error:s}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ee(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:l}=await oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:l,error:u}=await oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new iu("You must provide either an email or phone number and a type")}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ci(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ih:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Ci(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=ah()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=KL(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vr}):await this._useSession(async n=>{var r,s,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wt}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Vr})})}catch(n){if(ee(n))return sh(n)&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Wt;const l=s.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await ys(this.storage,this.storageKey));const{data:h,error:p}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Vr});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ee(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wt;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:l}=ou(t.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ee(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Wt;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!dt())throw new su("No browser detected.");if(t.error||t.error_description||t.error_code)throw new su(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ly("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new su("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ly("No code detected.");const{data:S,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=t;if(!o||!u||!l||!h)throw new su("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(u);let m=p+y;d&&(m=parseInt(d));const v=m-p;v*1e3<=Ps&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${y}s`);const k=m-y;p-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,m,p):p-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,m,p);const{data:w,error:P}=await this._getUser(o);if(P)throw P;const b={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:y,expires_at:m,refresh_token:l,token_type:h,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ci(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o&&!sh(o))return this._returnResult({error:o});const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(kL(u)&&(u.status===404||u.status===401||u.status===403)||sh(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=jL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ys(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var l,u,d,h,p;const{data:y,error:m}=o;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(h=y.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return dt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ee(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:l,provider:u,token:d,access_token:h,nonce:p}=t,y=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_n}),{data:m,error:v}=y;return v?this._returnResult({data:{user:null,session:null},error:v}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new vs}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:v}))}catch(s){if(await ct(this.storage,`${this.storageKey}-code-verifier`),ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)throw l;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await zL(async s=>(s>0&&await DL(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_n})),(s,o)=>{const l=200*Math.pow(2,s);return o&&oh(o)&&Date.now()+l-r<Ps})}catch(r){if(this._debug(n,"error",r),ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),dt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ci(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Ci(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Ts(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:ah()}else if(s&&!s.user&&!s.user){const l=await Ci(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await ct(this.storage,this.storageKey+"-user"),await Ts(this.storage,this.storageKey,s)):s.user=ah()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ih;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${ih}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),oh(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(s.access_token);!u&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $c;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Wt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),ee(o)){const l={data:null,error:o};return oh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ct(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ts(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=fy(s);await Ts(this.storage,this.storageKey,o)}else{const s=fy(n);await Ts(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ct(this.storage,this.storageKey),await ct(this.storage,this.storageKey+"-code-verifier"),await ct(this.storage,this.storageKey+"-user"),this.userStorage&&await ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ps);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ps);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ps}ms, refresh threshold is ${Nf} ticks`),s<=Nf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await ys(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fA(t.webauthn.credential_response):pA(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:dA(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:hA(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,o;if(t)try{const{payload:v}=ou(t);let k=null;v.aal&&(k=v.aal);let w=k;const{data:{user:P},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((r=(n=P==null?void 0:P.factors)===null||n===void 0?void 0:n.filter(C=>C.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(w="aal2");const x=v.amr||[];return{data:{currentLevel:k,nextLevel:w,currentAuthenticationMethods:x},error:null}}catch(v){if(ee(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=ou(l.access_token);let h=null;d.aal&&(h=d.aal);let p=h;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const m=d.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Wt})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Wt});const l=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&dt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Wt});const l=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&dt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Wt})})}catch(t){if(ee(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wt})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+SL>s)return r;const{data:o,error:l}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:k}=await this.getSession();if(k||!v.session)return this._returnResult({data:null,error:k});r=v.session.access_token}const{header:s,payload:o,signature:l,raw:{header:u,payload:d}}=ou(r);n!=null&&n.allowExpired||VL(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:o,header:s,signature:l},error:null}}const p=qL(s.alg),y=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,l,LL(`${u}.${d}`)))throw new jf("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}}Ka.nextInstanceID={};const SA=Ka,EA="2.97.0";let sa="";typeof Deno<"u"?sa="deno":typeof document<"u"?sa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sa="react-native":sa="node";const kA={"X-Client-Info":`supabase-js-${sa}/${EA}`},PA={headers:kA},TA={schema:"public"},CA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},OA={};function Ga(e){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function RA(e,t){if(Ga(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NA(e){var t=RA(e,"string");return Ga(t)=="symbol"?t:t+""}function LA(e,t,n){return(t=NA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xy(Object(n),!0).forEach(function(r){LA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const AA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jA=()=>Headers,IA=(e,t,n)=>{const r=AA(n),s=jA();return async(o,l)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let h=new s(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(o,qe(qe({},l),{},{headers:h}))}};function MA(e){return e.endsWith("/")?e:e+"/"}function DA(e,t){var n,r;const{db:s,auth:o,realtime:l,global:u}=e,{db:d,auth:h,realtime:p,global:y}=t,m={db:qe(qe({},d),s),auth:qe(qe({},h),o),realtime:qe(qe({},p),l),storage:{},global:qe(qe(qe({},y),u),{},{headers:qe(qe({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function zA(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(MA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $A=class extends SA{constructor(e){super(e)}},BA=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const o=zA(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:TA,realtime:OA,auth:qe(qe({},CA),{},{storageKey:l}),global:PA},d=DA(n??{},u);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=IA(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new kN(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new yL(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new vN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:o,flowType:l,lock:u,debug:d,throwOnError:h},p,y){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $A({url:this.authUrl.href,headers:qe(qe({},m),p),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:l,lock:u,debug:d,throwOnError:h,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new FN(this.realtimeUrl.href,qe(qe({},e),{},{params:qe(qe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const UA=(e,t,n)=>new BA(e,t,n);function FA(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}FA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const WA="https://aaicysssbivaojoadcxj.supabase.co",HA="sb_publishable_JsB73W1s-wGUBQ4oTxcKOA_sz8gYeMY",ce=UA(WA,HA,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Xx=E.createContext({user:null,session:null,profile:null,isAdmin:!1,loading:!0,signOut:async()=>{}}),vi=()=>E.useContext(Xx),VA=({children:e})=>{const[t,n]=E.useState(null),[r,s]=E.useState(null),[o,l]=E.useState(null),[u,d]=E.useState(!1),[h,p]=E.useState(!0),y=async v=>{const{data:k}=await ce.from("profiles").select("id, full_name, phone, role, avatar_url").eq("user_id",v).single();l(k);const{data:w}=await ce.from("user_roles").select("role").eq("user_id",v);return d((w==null?void 0:w.some(P=>P.role==="admin"))??!1),k};E.useEffect(()=>{const{data:{subscription:v}}=ce.auth.onAuthStateChange((k,w)=>{s(w),n((w==null?void 0:w.user)??null),w!=null&&w.user?setTimeout(()=>y(w.user.id),0):(l(null),d(!1)),p(!1)});return ce.auth.getSession().then(({data:{session:k}})=>{s(k),n((k==null?void 0:k.user)??null),k!=null&&k.user&&y(k.user.id),p(!1)}),()=>v.unsubscribe()},[]);const m=async()=>{await ce.auth.signOut(),n(null),s(null),l(null),d(!1)};return g.jsx(Xx.Provider,{value:{user:t,session:r,profile:o,isAdmin:u,loading:h,signOut:m},children:e})},qA=$p("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ne=E.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const l=r?Nk:"button";return g.jsx(l,{className:st(qA({variant:t,size:n,className:e})),ref:o,...s})});Ne.displayName="Button";const ZA="/assets/Logo-BB2tgHrN.png",nr=()=>{const[e,t]=E.useState(!1),{user:n,signOut:r}=vi(),s=An(),o=async()=>{await r(),s("/")};return g.jsxs("header",{className:"sticky top-0 z-50 bg-card/80 backdrop-blur-lg border-b border-border",children:[g.jsxs("div",{className:"container flex items-center justify-between h-16",children:[g.jsx(Ie,{to:"/",className:"flex items-center gap-2",children:g.jsx("img",{src:ZA,alt:"HomeFix Logo",className:"h-16 w-auto"})}),g.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[g.jsx(Ie,{to:"/",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),g.jsx(Ie,{to:"/search",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Find Services"}),g.jsx(Ie,{to:"/map",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Map"})]}),g.jsx("div",{className:"hidden md:flex items-center gap-3",children:n?g.jsxs(g.Fragment,{children:[g.jsx(Ie,{to:"/dashboard",children:g.jsx(Ne,{variant:"ghost",size:"sm",children:"Dashboard"})}),g.jsx(Ne,{variant:"outline",size:"sm",onClick:o,children:"Sign Out"})]}):g.jsxs(g.Fragment,{children:[g.jsx(Ie,{to:"/auth",children:g.jsx(Ne,{variant:"ghost",size:"sm",children:"Log In"})}),g.jsx(Ie,{to:"/auth",children:g.jsx(Ne,{size:"sm",children:"Sign Up"})})]})}),g.jsx("button",{className:"md:hidden text-foreground",onClick:()=>t(!e),children:e?g.jsx(Wp,{size:24}):g.jsx(OP,{size:24})})]}),e&&g.jsxs("div",{className:"md:hidden bg-card border-b border-border px-4 pb-4 space-y-3",children:[g.jsx(Ie,{to:"/",className:"block text-sm font-medium text-foreground py-2",onClick:()=>t(!1),children:"Home"}),g.jsx(Ie,{to:"/search",className:"block text-sm font-medium text-foreground py-2",onClick:()=>t(!1),children:"Find Services"}),g.jsx(Ie,{to:"/map",className:"block text-sm font-medium text-foreground py-2",onClick:()=>t(!1),children:"Map"}),g.jsx("div",{className:"flex gap-2 pt-2",children:n?g.jsxs(g.Fragment,{children:[g.jsx(Ie,{to:"/dashboard",className:"flex-1",onClick:()=>t(!1),children:g.jsx(Ne,{variant:"ghost",size:"sm",className:"w-full",children:"Dashboard"})}),g.jsx(Ne,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{o(),t(!1)},children:"Sign Out"})]}):g.jsx(Ie,{to:"/auth",className:"flex-1",onClick:()=>t(!1),children:g.jsx(Ne,{size:"sm",className:"w-full",children:"Sign In"})})})]})]})},KA="/assets/hero-image-zlMVIuUj.jpg",GA=()=>{const e=An();return g.jsxs("section",{className:"relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("img",{src:KA,alt:"",className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-foreground/60"})]}),g.jsxs("div",{className:"relative container py-24 md:py-36 text-center",children:[g.jsxs("h1",{className:"font-display font-extrabold text-4xl md:text-6xl text-primary-foreground leading-tight max-w-3xl mx-auto animate-fade-in",children:["Home repairs,"," ",g.jsx("span",{className:"text-gradient",children:"made simple."})]}),g.jsx("p",{className:"mt-5 text-lg md:text-xl text-primary-foreground/80 max-w-xl mx-auto animate-fade-in",style:{animationDelay:"0.1s"},children:"Find trusted plumbers, electricians, and technicians near you  in seconds."}),g.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center gap-3 max-w-lg mx-auto animate-fade-in",style:{animationDelay:"0.2s"},children:[g.jsxs("div",{className:"flex items-center gap-2 flex-1 w-full bg-card rounded-lg px-4 py-3 shadow-hero",children:[g.jsx(fo,{size:18,className:"text-muted-foreground flex-shrink-0"}),g.jsx("input",{type:"text",placeholder:"Enter your location...",className:"bg-transparent text-sm text-foreground placeholder:text-muted-foreground outline-none w-full"})]}),g.jsxs(Ne,{size:"lg",className:"w-full sm:w-auto gap-2 shadow-hero",onClick:()=>e("/search"),children:[g.jsx(Fp,{size:18}),"Search"]})]})]})]})},YA=[{icon:Fp,title:"Search",description:"Browse categories or search for the service you need in your area."},{icon:O0,title:"Choose",description:"View profiles, check availability, and pick the right professional."},{icon:Qu,title:"Connect",description:"Call or message directly to discuss details and get the job done."}],JA=()=>g.jsx("section",{id:"how",className:"py-20 bg-muted/50",children:g.jsxs("div",{className:"container",children:[g.jsx("h2",{className:"font-display font-bold text-3xl text-center text-foreground",children:"How It Works"}),g.jsx("p",{className:"text-center text-muted-foreground mt-2 max-w-md mx-auto",children:"Get help in three simple steps"}),g.jsx("div",{className:"grid md:grid-cols-3 gap-8 mt-12",children:YA.map((e,t)=>g.jsxs("div",{className:"flex flex-col items-center text-center animate-fade-in",style:{animationDelay:`${t*.15}s`},children:[g.jsx("div",{className:"w-16 h-16 rounded-2xl bg-hero-gradient flex items-center justify-center text-primary-foreground mb-4",children:g.jsx(e.icon,{size:28})}),g.jsxs("div",{className:"text-xs font-bold text-primary mb-2",children:["STEP ",t+1]}),g.jsx("h3",{className:"font-display font-bold text-xl text-foreground",children:e.title}),g.jsx("p",{className:"text-sm text-muted-foreground mt-2 max-w-xs",children:e.description})]},e.title))})]})}),QA=({name:e,icon:t,color:n,slug:r})=>g.jsxs(Ie,{to:`/search?category=${r}`,className:"group flex flex-col items-center gap-3 p-6 rounded-xl bg-card shadow-card hover:shadow-card-hover transition-all duration-300 hover:-translate-y-1",children:[g.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center transition-transform duration-300 group-hover:scale-110",style:{backgroundColor:`hsl(var(${n}) / 0.12)`,color:`hsl(var(${n}))`},children:g.jsx(t,{size:28,strokeWidth:1.8})}),g.jsx("span",{className:"text-sm font-semibold text-foreground text-center",children:e})]}),XA={droplets:TP,zap:$P,wind:zP,pipette:NP,flame:CP,"tree-pine":MP,wrench:R0,radio:LP},e2={plumber:"--cat-plumber",electrician:"--cat-electrician","ac-technician":"--cat-ac",drainage:"--cat-drainage","stove-repair":"--cat-stove","wood-worker":"--cat-wood","metal-worker":"--cat-metal",telecom:"--cat-telecom"},t2=()=>{const[e,t]=E.useState([]),{user:n,profile:r}=vi(),s=An(),[o,l]=E.useState(null),[u,d]=E.useState([]);return E.useEffect(()=>{ce.from("categories").select("id, name, slug, icon").then(({data:h})=>{h&&t(h)})},[]),E.useEffect(()=>{n&&r&&!r.phone&&s("/complete-profile")},[n,r,s]),E.useEffect(()=>{n&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(h=>{l({lat:h.coords.latitude,lng:h.coords.longitude})},()=>{})},[n]),E.useEffect(()=>{if(!o)return;(async()=>{const{data:p}=await ce.from("provider_details").select("user_id, location_lat, location_lng, is_available, description").eq("is_available",!0).not("location_lat","is",null);if(!p||p.length===0)return;const y=p.map(b=>{const S=(b.location_lat-o.lat)*111,x=(b.location_lng-o.lng)*111*Math.cos(o.lat*Math.PI/180);return{...b,distance:Math.sqrt(S*S+x*x)}}).sort((b,S)=>b.distance-S.distance).slice(0,4),m=y.map(b=>b.user_id),{data:v}=await ce.from("profiles").select("user_id, full_name").in("user_id",m),k=new Map((v==null?void 0:v.map(b=>[b.user_id,b.full_name]))||[]),{data:w}=await ce.from("provider_categories").select("user_id, categories(name)").in("user_id",m),P=new Map;w==null||w.forEach(b=>{var x;const S=P.get(b.user_id)||[];S.push(((x=b.categories)==null?void 0:x.name)||""),P.set(b.user_id,S)}),d(y.map(b=>({...b,name:k.get(b.user_id)||"Unknown",categories:(P.get(b.user_id)||[]).join(", ")||"General"})))})()},[o]),g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(nr,{}),g.jsxs("main",{children:[g.jsx(GA,{}),g.jsx("section",{className:"py-20",children:g.jsxs("div",{className:"container",children:[g.jsx("h2",{className:"font-display font-bold text-3xl text-center text-foreground",children:"What do you need help with?"}),g.jsx("p",{className:"text-center text-muted-foreground mt-2",children:"Browse our service categories"}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mt-10",children:e.map(h=>g.jsx(QA,{name:h.name,icon:XA[h.icon]||R0,color:e2[h.slug]||"--cat-plumber",slug:h.slug},h.slug))})]})}),n&&u.length>0&&g.jsx("section",{className:"py-12",children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[g.jsx(fo,{className:"text-primary",size:22}),g.jsx("h2",{className:"font-display font-bold text-2xl text-foreground",children:"Services Near You"})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map(h=>g.jsxs("div",{onClick:()=>s(`/provider/${h.user_id}`),className:"bg-card rounded-xl shadow-card p-5 cursor-pointer hover:shadow-card-hover transition-all",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-hero-gradient opacity-80 flex-shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-sm text-foreground",children:h.name}),g.jsx("p",{className:"text-xs text-muted-foreground",children:h.categories})]})]}),g.jsx("p",{className:"text-xs text-muted-foreground mt-3 line-clamp-2",children:h.description||"Available for service"}),g.jsxs("p",{className:"text-xs text-primary mt-2 font-medium",children:[h.distance.toFixed(1)," km away"]})]},h.user_id))})]})}),g.jsx(JA,{}),g.jsx("section",{className:"py-20",children:g.jsx("div",{className:"container",children:g.jsxs("div",{className:"bg-hero-gradient rounded-2xl p-10 md:p-16 text-center",children:[g.jsx("h2",{className:"font-display font-bold text-3xl md:text-4xl text-primary-foreground",children:"Are you a service provider?"}),g.jsx("p",{className:"text-primary-foreground/80 mt-3 max-w-md mx-auto",children:"Join HomeFix to reach more customers in your area and grow your business."}),g.jsx("a",{href:"/auth",children:g.jsx("button",{className:"mt-6 px-8 py-3 bg-card text-foreground font-semibold rounded-lg hover:bg-card/90 transition-colors",children:"Register as Provider"})})]})})})]}),g.jsx("footer",{className:"border-t border-border py-8",children:g.jsx("div",{className:"container text-center text-sm text-muted-foreground",children:" 2026 HomeFix. All rights reserved."})})]})},ft=E.forwardRef(({className:e,type:t,...n},r)=>g.jsx("input",{type:t,className:st("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ft.displayName="Input";var n2="Label",eb=E.forwardRef((e,t)=>g.jsx($e.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eb.displayName=n2;var tb=eb;const r2=$p("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),rt=E.forwardRef(({className:e,...t},n)=>g.jsx(tb,{ref:n,className:st(r2(),e),...t}));rt.displayName=tb.displayName;var i2="Separator",by="horizontal",s2=["horizontal","vertical"],nb=E.forwardRef((e,t)=>{const{decorative:n,orientation:r=by,...s}=e,o=o2(r)?r:by,u=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return g.jsx($e.div,{"data-orientation":o,...u,...s,ref:t})});nb.displayName=i2;function o2(e){return s2.includes(e)}var rb=nb;const If=E.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>g.jsx(rb,{ref:s,decorative:n,orientation:t,className:st("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));If.displayName=rb.displayName;const a2=()=>{const e=An(),[t,n]=E.useState(!0),[r,s]=E.useState(!1),[o,l]=E.useState(!1),[u,d]=E.useState(!1),[h,p]=E.useState(""),[y,m]=E.useState(""),[v,k]=E.useState(""),[w,P]=E.useState(""),[b,S]=E.useState("customer"),x=async()=>{d(!0);try{const{error:N}=await ce.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});if(N)throw N}catch(N){Re.error(N.message||"Google sign-in failed"),d(!1)}},C=async N=>{if(N.preventDefault(),!h.trim()){Re.error("Please enter your email address");return}l(!0);try{const{error:A}=await ce.auth.resetPasswordForEmail(h,{redirectTo:`${window.location.origin}/reset-password`});if(A)throw A;Re.success("Password reset link sent! Check your email.")}catch(A){Re.error(A.message||"Failed to send reset link")}finally{l(!1)}},R=async N=>{N.preventDefault(),l(!0);try{if(t){const{error:A}=await ce.auth.signInWithPassword({email:h,password:y});if(A)throw A;Re.success("Logged in successfully!"),e("/")}else{const{error:A}=await ce.auth.signUp({email:h,password:y,options:{data:{full_name:v,phone:w,role:b}}});if(A)throw A;Re.success("Account created! You're now logged in."),e(b==="provider"?"/provider-setup":"/")}}catch(A){Re.error(A.message||"Authentication failed")}finally{l(!1)}};return g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:g.jsxs("div",{className:"w-full max-w-md",children:[g.jsxs(Ie,{to:"/",className:"flex items-center gap-2 justify-center mb-8",children:[g.jsx("div",{className:"w-9 h-9 rounded-lg bg-hero-gradient flex items-center justify-center",children:g.jsx("span",{className:"text-primary-foreground font-display font-bold text-lg",children:"H"})}),g.jsx("span",{className:"font-display font-bold text-xl text-foreground",children:"HomeFix"})]}),g.jsx("div",{className:"bg-card rounded-2xl shadow-card p-8",children:r?g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>s(!1),className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground mb-4",children:[g.jsx(Bp,{size:16})," Back to sign in"]}),g.jsx("h1",{className:"font-display font-bold text-2xl text-foreground text-center",children:"Reset password"}),g.jsx("p",{className:"text-muted-foreground text-sm text-center mt-1",children:"Enter your email and we'll send you a reset link"}),g.jsxs("form",{onSubmit:C,className:"mt-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx(rt,{children:"Email"}),g.jsx(ft,{type:"email",value:h,onChange:N=>p(N.target.value),required:!0,placeholder:"you@example.com"})]}),g.jsx(Ne,{type:"submit",className:"w-full",disabled:o,children:o?"Sending...":"Send Reset Link"})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("h1",{className:"font-display font-bold text-2xl text-foreground text-center",children:t?"Welcome back":"Create account"}),g.jsx("p",{className:"text-muted-foreground text-sm text-center mt-1",children:t?"Sign in to your account":"Join HomeFix today"}),g.jsxs(Ne,{variant:"outline",className:"w-full mt-6 gap-2",onClick:x,disabled:u,children:[g.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[g.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),g.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),g.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),g.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),u?"Connecting...":"Continue with Google"]}),g.jsxs("div",{className:"flex items-center gap-3 my-5",children:[g.jsx(If,{className:"flex-1"}),g.jsx("span",{className:"text-xs text-muted-foreground uppercase",children:"or"}),g.jsx(If,{className:"flex-1"})]}),g.jsxs("form",{onSubmit:R,className:"space-y-4",children:[!t&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{children:[g.jsx(rt,{children:"Full Name"}),g.jsx(ft,{value:v,onChange:N=>k(N.target.value),required:!0,placeholder:"John Doe"})]}),g.jsxs("div",{children:[g.jsx(rt,{children:"Phone Number"}),g.jsx(ft,{value:w,onChange:N=>P(N.target.value),required:!0,placeholder:"+1234567890"})]}),g.jsxs("div",{children:[g.jsx(rt,{children:"I am a..."}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-1.5",children:[g.jsx("button",{type:"button",onClick:()=>S("customer"),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all ${b==="customer"?"border-primary bg-accent text-accent-foreground":"border-border text-muted-foreground hover:border-primary/50"}`,children:" Customer"}),g.jsx("button",{type:"button",onClick:()=>S("provider"),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all ${b==="provider"?"border-primary bg-accent text-accent-foreground":"border-border text-muted-foreground hover:border-primary/50"}`,children:" Service Provider"})]})]})]}),g.jsxs("div",{children:[g.jsx(rt,{children:"Email"}),g.jsx(ft,{type:"email",value:h,onChange:N=>p(N.target.value),required:!0,placeholder:"you@example.com"})]}),g.jsxs("div",{children:[g.jsx(rt,{children:"Password"}),g.jsx(ft,{type:"password",value:y,onChange:N=>m(N.target.value),required:!0,minLength:6,placeholder:""})]}),t&&g.jsx("button",{type:"button",onClick:()=>s(!0),className:"text-sm text-primary hover:underline -mt-2 block",children:"Forgot password?"}),g.jsx(Ne,{type:"submit",className:"w-full",disabled:o,children:o?"Please wait...":t?"Sign In":"Create Account"})]}),g.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:[t?"Don't have an account?":"Already have an account?"," ",g.jsx("button",{onClick:()=>n(!t),className:"text-primary font-medium hover:underline",children:t?"Sign up":"Sign in"})]})]})})]})})},l2=()=>{const e=An(),[t,n]=E.useState(""),[r,s]=E.useState(""),[o,l]=E.useState(!1),[u,d]=E.useState(!1);E.useEffect(()=>{window.location.hash.includes("type=recovery")&&d(!0);const{data:{subscription:y}}=ce.auth.onAuthStateChange(m=>{m==="PASSWORD_RECOVERY"&&d(!0)});return()=>y.unsubscribe()},[]);const h=async p=>{if(p.preventDefault(),t!==r){Re.error("Passwords do not match");return}if(t.length<6){Re.error("Password must be at least 6 characters");return}l(!0);try{const{error:y}=await ce.auth.updateUser({password:t});if(y)throw y;Re.success("Password updated successfully!"),e("/")}catch(y){Re.error(y.message||"Failed to update password")}finally{l(!1)}};return u?g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:g.jsxs("div",{className:"w-full max-w-md",children:[g.jsxs(Ie,{to:"/",className:"flex items-center gap-2 justify-center mb-8",children:[g.jsx("div",{className:"w-9 h-9 rounded-lg bg-hero-gradient flex items-center justify-center",children:g.jsx("span",{className:"text-primary-foreground font-display font-bold text-lg",children:"H"})}),g.jsx("span",{className:"font-display font-bold text-xl text-foreground",children:"HomeFix"})]}),g.jsxs("div",{className:"bg-card rounded-2xl shadow-card p-8",children:[g.jsx("h1",{className:"font-display font-bold text-2xl text-foreground text-center",children:"Set new password"}),g.jsx("p",{className:"text-muted-foreground text-sm text-center mt-1",children:"Enter your new password below"}),g.jsxs("form",{onSubmit:h,className:"mt-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx(rt,{htmlFor:"password",children:"New Password"}),g.jsx(ft,{id:"password",type:"password",value:t,onChange:p=>n(p.target.value),required:!0,minLength:6,placeholder:""})]}),g.jsxs("div",{children:[g.jsx(rt,{htmlFor:"confirmPassword",children:"Confirm Password"}),g.jsx(ft,{id:"confirmPassword",type:"password",value:r,onChange:p=>s(p.target.value),required:!0,minLength:6,placeholder:""})]}),g.jsx(Ne,{type:"submit",className:"w-full",disabled:o,children:o?"Updating...":"Update Password"})]})]})]})}):g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:g.jsx("div",{className:"w-full max-w-md text-center",children:g.jsxs("div",{className:"bg-card rounded-2xl shadow-card p-8",children:[g.jsx("h1",{className:"font-display font-bold text-2xl text-foreground",children:"Invalid reset link"}),g.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"This link is invalid or has expired. Please request a new password reset."}),g.jsx(Ie,{to:"/auth",children:g.jsx(Ne,{className:"mt-6",children:"Back to Sign In"})})]})})})},u2=()=>{const e=An(),{user:t,profile:n}=vi(),[r,s]=E.useState(!1),[o,l]=E.useState(""),[u,d]=E.useState(""),[h,p]=E.useState("customer");E.useEffect(()=>{if(!t){e("/auth");return}const m=t.user_metadata;m!=null&&m.full_name?l(m.full_name):m!=null&&m.name&&l(m.name)},[t,e]),E.useEffect(()=>{n&&n.phone&&e("/")},[n,e]);const y=async m=>{if(m.preventDefault(),!!t){s(!0);try{const{error:v}=await ce.from("profiles").update({full_name:o,phone:u,role:h}).eq("user_id",t.id);if(v)throw v;if(h==="provider"){const{data:k}=await ce.from("provider_details").select("id").eq("user_id",t.id).single();k||await ce.from("provider_details").insert({user_id:t.id})}Re.success("Profile completed!"),e(h==="provider"?"/provider-setup":"/")}catch(v){Re.error(v.message||"Failed to update profile")}finally{s(!1)}}};return g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:g.jsxs("div",{className:"w-full max-w-md",children:[g.jsxs("div",{className:"flex items-center gap-2 justify-center mb-8",children:[g.jsx("div",{className:"w-9 h-9 rounded-lg bg-hero-gradient flex items-center justify-center",children:g.jsx("span",{className:"text-primary-foreground font-display font-bold text-lg",children:"H"})}),g.jsx("span",{className:"font-display font-bold text-xl text-foreground",children:"HomeFix"})]}),g.jsxs("div",{className:"bg-card rounded-2xl shadow-card p-8",children:[g.jsx("h1",{className:"font-display font-bold text-2xl text-foreground text-center",children:"Complete your profile"}),g.jsx("p",{className:"text-muted-foreground text-sm text-center mt-1",children:"Tell us a bit more about yourself"}),g.jsxs("form",{onSubmit:y,className:"mt-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx(rt,{htmlFor:"fullName",children:"Full Name"}),g.jsx(ft,{id:"fullName",value:o,onChange:m=>l(m.target.value),required:!0,placeholder:"John Doe"})]}),g.jsxs("div",{children:[g.jsx(rt,{htmlFor:"phone",children:"Phone Number"}),g.jsx(ft,{id:"phone",value:u,onChange:m=>d(m.target.value),required:!0,placeholder:"+1234567890"})]}),g.jsxs("div",{children:[g.jsx(rt,{children:"I am a..."}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-1.5",children:[g.jsx("button",{type:"button",onClick:()=>p("customer"),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all ${h==="customer"?"border-primary bg-accent text-accent-foreground":"border-border text-muted-foreground hover:border-primary/50"}`,children:" Customer"}),g.jsx("button",{type:"button",onClick:()=>p("provider"),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all ${h==="provider"?"border-primary bg-accent text-accent-foreground":"border-border text-muted-foreground hover:border-primary/50"}`,children:" Service Provider"})]})]}),g.jsx(Ne,{type:"submit",className:"w-full",disabled:r,children:r?"Saving...":"Continue"})]})]})]})})},c2=({id:e,name:t,category:n,distance:r,description:s,available:o,phone:l,imageUrl:u})=>g.jsxs("div",{className:"flex gap-4 p-4 rounded-xl bg-card shadow-card hover:shadow-card-hover transition-all duration-300 animate-fade-in",children:[g.jsx("div",{className:"w-16 h-16 rounded-xl bg-muted flex-shrink-0 overflow-hidden",children:u?g.jsx("img",{src:u,alt:t,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full bg-hero-gradient opacity-20"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-start justify-between gap-2",children:[g.jsxs("div",{children:[g.jsx(Ie,{to:`/provider/${e}`,className:"font-display font-semibold text-foreground hover:text-primary transition-colors",children:t}),g.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:n})]}),g.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${o?"bg-accent text-accent-foreground":"bg-muted text-muted-foreground"}`,children:o?"Available":"Offline"})]}),g.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[g.jsx(fo,{size:12}),g.jsx("span",{children:r})]}),g.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:s}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[l?g.jsx("a",{href:`tel:${l}`,children:g.jsxs(Ne,{size:"sm",variant:"default",className:"gap-1.5 h-8 text-xs",children:[g.jsx(Qu,{size:14})," Call"]})}):g.jsxs(Ne,{size:"sm",variant:"default",className:"gap-1.5 h-8 text-xs",disabled:!0,children:[g.jsx(Qu,{size:14})," Call"]}),g.jsx(Ie,{to:`/provider/${e}`,children:g.jsxs(Ne,{size:"sm",variant:"outline",className:"gap-1.5 h-8 text-xs",children:[g.jsx(Up,{size:14})," Message"]})})]})]})]}),d2=()=>{var d;const[e]=hN(),t=e.get("category"),[n,r]=E.useState([]),[s,o]=E.useState([]),[l,u]=E.useState(!0);return E.useEffect(()=>{ce.from("categories").select("id, name, slug").then(({data:h})=>{h&&r(h)})},[]),E.useEffect(()=>{const h=async()=>{u(!0);let p=null;if(t){const x=n.find(C=>C.slug===t);if(x){const{data:C}=await ce.from("provider_categories").select("user_id").eq("category_id",x.id);p=(C==null?void 0:C.map(R=>R.user_id))||[]}}let y=ce.from("provider_details").select("user_id, description, is_available, location_lat, location_lng, experience_years");if(p!==null){if(p.length===0){o([]),u(!1);return}y=y.in("user_id",p)}const{data:m}=await y;if(!m||m.length===0){o([]),u(!1);return}const v=m.map(x=>x.user_id),{data:k}=await ce.from("profiles").select("user_id, full_name, phone").in("user_id",v),{data:w}=await ce.from("provider_categories").select("user_id, categories(name)").in("user_id",v),P=new Map((k==null?void 0:k.map(x=>[x.user_id,x]))||[]),b=new Map;w==null||w.forEach(x=>{var R;const C=b.get(x.user_id)||[];C.push(((R=x.categories)==null?void 0:R.name)||""),b.set(x.user_id,C)});const S=m.map(x=>{var C,R;return{id:x.user_id,name:((C=P.get(x.user_id))==null?void 0:C.full_name)||"Unknown",phone:((R=P.get(x.user_id))==null?void 0:R.phone)||"",category:(b.get(x.user_id)||[]).join(", ")||"General",distance:x.location_lat?"Nearby":"Unknown",description:x.description||"No description provided",available:x.is_available??!0}});o(S),u(!1)};(n.length>0||!t)&&h()},[t,n]),g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(nr,{}),g.jsxs("main",{className:"container py-8",children:[g.jsx("h1",{className:"font-display font-bold text-2xl text-foreground",children:t?`${((d=n.find(h=>h.slug===t))==null?void 0:d.name)||""} Services`:"All Service Providers"}),g.jsxs("p",{className:"text-muted-foreground text-sm mt-1",children:[s.length," provider",s.length!==1?"s":""," found"]}),g.jsxs("div",{className:"flex gap-2 mt-6 overflow-x-auto pb-2",children:[g.jsx("a",{href:"/search",className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors ${t?"bg-secondary text-secondary-foreground hover:bg-muted":"bg-primary text-primary-foreground"}`,children:"All"}),n.map(h=>g.jsx("a",{href:`/search?category=${h.slug}`,className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors ${t===h.slug?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-muted"}`,children:h.name},h.slug))]}),g.jsx("div",{className:"mt-8 space-y-4",children:l?g.jsx("p",{className:"text-center py-16 text-muted-foreground",children:"Loading providers..."}):s.length>0?s.map(h=>g.jsx(c2,{...h},h.id)):g.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[g.jsx("p",{className:"text-lg font-medium",children:"No providers found"}),g.jsx("p",{className:"text-sm mt-1",children:"Try selecting a different category"})]})})]})]})},h2=()=>{const{id:e}=Ax(),{user:t,profile:n}=vi(),r=An(),[s,o]=E.useState(null),[l,u]=E.useState(!0);E.useEffect(()=>{if(!e)return;(async()=>{const{data:p}=await ce.from("profiles").select("user_id, full_name, phone, avatar_url").eq("user_id",e).single(),{data:y}=await ce.from("provider_details").select("*").eq("user_id",e).single(),{data:m}=await ce.from("provider_categories").select("categories(name)").eq("user_id",e);p&&y&&o({...p,...y,categories:(m==null?void 0:m.map(v=>{var k;return(k=v.categories)==null?void 0:k.name}).filter(Boolean))||[]}),u(!1)})()},[e]);const d=async()=>{if(!t){Re.error("Please sign in to message providers"),r("/auth");return}if(!e)return;const{data:h}=await ce.from("conversations").select("id").eq("customer_id",t.id).eq("provider_id",e).single();if(h){r(`/chat/${h.id}`);return}const{data:p,error:y}=await ce.from("conversations").insert({customer_id:t.id,provider_id:e}).select("id").single();if(y){Re.error("Could not start conversation");return}r(`/chat/${p.id}`)};return l?g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(nr,{}),g.jsx("div",{className:"container py-20 text-center text-muted-foreground",children:"Loading..."})]}):s?g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(nr,{}),g.jsxs("main",{className:"container py-8 max-w-2xl",children:[g.jsxs(Ie,{to:"/search",className:"inline-flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground mb-6",children:[g.jsx(Bp,{size:16})," Back to results"]}),g.jsxs("div",{className:"bg-card rounded-2xl shadow-card p-6 md:p-8",children:[g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"w-20 h-20 rounded-2xl bg-hero-gradient opacity-80 flex-shrink-0"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h1",{className:"font-display font-bold text-2xl text-foreground",children:s.full_name}),g.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:s.categories.join(", ")||"General"}),g.jsx("span",{className:`inline-block mt-2 text-xs font-medium px-3 py-1 rounded-full ${s.is_available?"bg-accent text-accent-foreground":"bg-muted text-muted-foreground"}`,children:s.is_available?" Available now":"Currently offline"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[g.jsx(fo,{size:16,className:"text-primary"}),g.jsx("span",{children:s.location_lat?"Location set":"No location"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[g.jsx(kP,{size:16,className:"text-primary"}),g.jsxs("span",{children:[s.experience_years||0,"+ years experience"]})]}),g.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[g.jsx(PP,{size:16,className:"text-primary"}),g.jsx("span",{children:"Usually responds quickly"})]})]}),g.jsxs("div",{className:"mt-8",children:[g.jsx("h2",{className:"font-display font-semibold text-lg text-foreground mb-2",children:"About"}),g.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.description||"No description provided"})]}),g.jsxs("div",{className:"flex gap-3 mt-8",children:[s.phone&&g.jsx("a",{href:`tel:${s.phone}`,className:"flex-1",children:g.jsxs(Ne,{className:"w-full gap-2",size:"lg",children:[g.jsx(Qu,{size:18})," Call Now"]})}),g.jsxs(Ne,{variant:"outline",className:"flex-1 gap-2",size:"lg",onClick:d,children:[g.jsx(Up,{size:18})," Send Message"]})]})]})]})]}):g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(nr,{}),g.jsxs("div",{className:"container py-20 text-center",children:[g.jsx("p",{className:"text-muted-foreground",children:"Provider not found"}),g.jsx(Ie,{to:"/search",className:"text-primary mt-4 inline-block",children:" Back to search"})]})]})},ib=E.forwardRef(({className:e,...t},n)=>g.jsx("textarea",{className:st("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));ib.displayName="Textarea";const f2=()=>{const{user:e}=vi(),t=An(),[n,r]=E.useState([]),[s,o]=E.useState([]),[l,u]=E.useState(""),[d,h]=E.useState("1"),[p,y]=E.useState(""),[m,v]=E.useState(""),[k,w]=E.useState(!1);E.useEffect(()=>{ce.from("categories").select("id, name, slug").then(({data:x})=>{x&&r(x)})},[]);const P=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(x=>{y(x.coords.latitude.toString()),v(x.coords.longitude.toString()),Re.success("Location detected!")},()=>Re.error("Could not get location"))},b=x=>{o(C=>C.includes(x)?C.filter(R=>R!==x):[...C,x])},S=async x=>{if(x.preventDefault(),!e){Re.error("You must be logged in");return}if(s.length===0){Re.error("Please select at least one category");return}w(!0);try{const{error:C}=await ce.from("provider_details").update({description:l,experience_years:parseInt(d),location_lat:p?parseFloat(p):null,location_lng:m?parseFloat(m):null,is_available:!0}).eq("user_id",e.id);if(C)throw C;const R=s.map(A=>({user_id:e.id,category_id:A})),{error:N}=await ce.from("provider_categories").insert(R);if(N)throw N;Re.success("Profile setup complete!"),t("/dashboard")}catch(C){Re.error(C.message)}finally{w(!1)}};return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(nr,{}),g.jsxs("main",{className:"container py-8 max-w-lg",children:[g.jsx("h1",{className:"font-display font-bold text-2xl text-foreground",children:"Set Up Your Profile"}),g.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Complete your provider profile to start receiving customers"}),g.jsxs("form",{onSubmit:S,className:"mt-8 space-y-6",children:[g.jsxs("div",{children:[g.jsx(rt,{children:"Service Categories"}),g.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:n.map(x=>g.jsx("button",{type:"button",onClick:()=>b(x.id),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all ${s.includes(x.id)?"border-primary bg-accent text-accent-foreground":"border-border text-muted-foreground hover:border-primary/50"}`,children:x.name},x.id))})]}),g.jsxs("div",{children:[g.jsx(rt,{htmlFor:"description",children:"Work Description"}),g.jsx(ib,{id:"description",value:l,onChange:x=>u(x.target.value),placeholder:"Describe your services...",rows:3})]}),g.jsxs("div",{children:[g.jsx(rt,{htmlFor:"experience",children:"Years of Experience"}),g.jsx(ft,{id:"experience",type:"number",min:"0",value:d,onChange:x=>h(x.target.value)})]}),g.jsxs("div",{children:[g.jsx(rt,{children:"Location"}),g.jsxs("div",{className:"flex gap-2 mt-1.5",children:[g.jsx(ft,{placeholder:"Latitude",value:p,onChange:x=>y(x.target.value)}),g.jsx(ft,{placeholder:"Longitude",value:m,onChange:x=>v(x.target.value)})]}),g.jsx(Ne,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:P,children:" Use Current Location"})]}),g.jsx(Ne,{type:"submit",className:"w-full",disabled:k,children:k?"Saving...":"Complete Setup"})]})]})]})};function p2(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Bc="Switch",[m2,Hj]=_o(Bc),[g2,v2]=m2(Bc),sb=E.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:l,disabled:u,value:d="on",onCheckedChange:h,form:p,...y}=e,[m,v]=E.useState(null),k=gt(t,x=>v(x)),w=E.useRef(!1),P=m?p||!!m.closest("form"):!0,[b,S]=Ip({prop:s,defaultProp:o??!1,onChange:h,caller:Bc});return g.jsxs(g2,{scope:n,checked:b,disabled:u,children:[g.jsx($e.button,{type:"button",role:"switch","aria-checked":b,"aria-required":l,"data-state":ub(b),"data-disabled":u?"":void 0,disabled:u,value:d,...y,ref:k,onClick:Me(e.onClick,x=>{S(C=>!C),P&&(w.current=x.isPropagationStopped(),w.current||x.stopPropagation())})}),P&&g.jsx(lb,{control:m,bubbles:!w.current,name:r,value:d,checked:b,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});sb.displayName=Bc;var ob="SwitchThumb",ab=E.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=v2(ob,n);return g.jsx($e.span,{"data-state":ub(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});ab.displayName=ob;var y2="SwitchBubbleInput",lb=E.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const l=E.useRef(null),u=gt(l,o),d=p2(n),h=X0(t);return E.useEffect(()=>{const p=l.current;if(!p)return;const y=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(y,"checked").set;if(d!==n&&v){const k=new Event("click",{bubbles:r});v.call(p,n),p.dispatchEvent(k)}},[d,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lb.displayName=y2;function ub(e){return e?"checked":"unchecked"}var cb=sb,_2=ab;const db=E.forwardRef(({className:e,...t},n)=>g.jsx(cb,{className:st("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:g.jsx(_2,{className:st("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));db.displayName=cb.displayName;const w2=()=>{const{user:e,profile:t}=vi(),[n,r]=E.useState(null),[s,o]=E.useState([]);E.useEffect(()=>{if(!e)return;(async()=>{const{data:d}=await ce.from("conversations").select("*, messages(content, created_at, sender_id)").or(`customer_id.eq.${e.id},provider_id.eq.${e.id}`).order("updated_at",{ascending:!1});if(d){const h=d.map(m=>m.customer_id===e.id?m.provider_id:m.customer_id),{data:p}=await ce.from("profiles").select("user_id, full_name").in("user_id",h),y=new Map((p==null?void 0:p.map(m=>[m.user_id,m.full_name]))||[]);o(d.map(m=>{var v;return{...m,otherName:y.get(m.customer_id===e.id?m.provider_id:m.customer_id)||"Unknown",lastMessage:(v=m.messages)==null?void 0:v.sort((k,w)=>new Date(w.created_at).getTime()-new Date(k.created_at).getTime())[0]}}))}})(),(t==null?void 0:t.role)==="provider"&&ce.from("provider_details").select("*").eq("user_id",e.id).single().then(({data:d})=>r(d))},[e,t]);const l=async()=>{if(!n)return;const u=!n.is_available,{error:d}=await ce.from("provider_details").update({is_available:u}).eq("user_id",e.id);d||(r({...n,is_available:u}),Re.success(u?"You're now online!":"You're now offline"))};return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(nr,{}),g.jsxs("main",{className:"container py-8 max-w-2xl",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"font-display font-bold text-2xl text-foreground",children:["Hello, ",(t==null?void 0:t.full_name)||"User"," "]}),g.jsxs("p",{className:"text-muted-foreground text-sm capitalize",children:[t==null?void 0:t.role," account"]})]}),(t==null?void 0:t.role)==="provider"&&n&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm text-muted-foreground",children:n.is_available?"Online":"Offline"}),g.jsx(db,{checked:n.is_available,onCheckedChange:l})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[(t==null?void 0:t.role)==="customer"&&g.jsxs(g.Fragment,{children:[g.jsxs(Ie,{to:"/search",className:"flex items-center gap-2 p-4 rounded-xl bg-card shadow-card hover:shadow-card-hover transition-all",children:[g.jsx(fo,{size:20,className:"text-primary"}),g.jsx("span",{className:"font-medium text-sm",children:"Find Services"})]}),g.jsxs(Ie,{to:"/map",className:"flex items-center gap-2 p-4 rounded-xl bg-card shadow-card hover:shadow-card-hover transition-all",children:[g.jsx(fo,{size:20,className:"text-primary"}),g.jsx("span",{className:"font-medium text-sm",children:"Map View"})]})]}),(t==null?void 0:t.role)==="provider"&&g.jsxs(Ie,{to:"/provider-setup",className:"flex items-center gap-2 p-4 rounded-xl bg-card shadow-card hover:shadow-card-hover transition-all",children:[g.jsx(jP,{size:20,className:"text-primary"}),g.jsx("span",{className:"font-medium text-sm",children:"Edit Profile"})]})]}),g.jsx("h2",{className:"font-display font-semibold text-lg text-foreground mt-8 mb-4",children:"Messages"}),s.length>0?g.jsx("div",{className:"space-y-2",children:s.map(u=>{var d;return g.jsxs(Ie,{to:`/chat/${u.id}`,className:"flex items-center gap-3 p-4 rounded-xl bg-card shadow-card hover:shadow-card-hover transition-all",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-hero-gradient opacity-80 flex-shrink-0"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-medium text-sm text-foreground",children:u.otherName}),g.jsx("p",{className:"text-xs text-muted-foreground truncate",children:((d=u.lastMessage)==null?void 0:d.content)||"No messages yet"})]}),g.jsx(Up,{size:16,className:"text-muted-foreground"})]},u.id)})}):g.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No conversations yet"})]})]})};var uh="focusScope.autoFocusOnMount",ch="focusScope.autoFocusOnUnmount",Sy={bubbles:!1,cancelable:!0},x2="FocusScope",hb=E.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=e,[u,d]=E.useState(null),h=rr(s),p=rr(o),y=E.useRef(null),m=gt(t,w=>d(w)),v=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let w=function(x){if(v.paused||!u)return;const C=x.target;u.contains(C)?y.current=C:$r(y.current,{select:!0})},P=function(x){if(v.paused||!u)return;const C=x.relatedTarget;C!==null&&(u.contains(C)||$r(y.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const R of x)R.removedNodes.length>0&&$r(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",P);const S=new MutationObserver(b);return u&&S.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",P),S.disconnect()}}},[r,u,v.paused]),E.useEffect(()=>{if(u){ky.add(v);const w=document.activeElement;if(!u.contains(w)){const b=new CustomEvent(uh,Sy);u.addEventListener(uh,h),u.dispatchEvent(b),b.defaultPrevented||(b2(T2(fb(u)),{select:!0}),document.activeElement===w&&$r(u))}return()=>{u.removeEventListener(uh,h),setTimeout(()=>{const b=new CustomEvent(ch,Sy);u.addEventListener(ch,p),u.dispatchEvent(b),b.defaultPrevented||$r(w??document.body,{select:!0}),u.removeEventListener(ch,p),ky.remove(v)},0)}}},[u,h,p,v]);const k=E.useCallback(w=>{if(!n&&!r||v.paused)return;const P=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(P&&b){const S=w.currentTarget,[x,C]=S2(S);x&&C?!w.shiftKey&&b===C?(w.preventDefault(),n&&$r(x,{select:!0})):w.shiftKey&&b===x&&(w.preventDefault(),n&&$r(C,{select:!0})):b===S&&w.preventDefault()}},[n,r,v.paused]);return g.jsx($e.div,{tabIndex:-1,...l,ref:m,onKeyDown:k})});hb.displayName=x2;function b2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if($r(r,{select:t}),document.activeElement!==n)return}function S2(e){const t=fb(e),n=Ey(t,e),r=Ey(t.reverse(),e);return[n,r]}function fb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ey(e,t){for(const n of e)if(!E2(n,{upTo:t}))return n}function E2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function k2(e){return e instanceof HTMLInputElement&&"select"in e}function $r(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&k2(e)&&t&&e.select()}}var ky=P2();function P2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Py(e,t),e.unshift(t)},remove(t){var n;e=Py(e,t),(n=e[0])==null||n.resume()}}}function Py(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function T2(e){return e.filter(t=>t.tagName!=="A")}var dh=0;function C2(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ty()),document.body.insertAdjacentElement("beforeend",e[1]??Ty()),dh++,()=>{dh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dh--}},[])}function Ty(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pu="right-scroll-bar-position",Tu="width-before-scroll-bar",O2="with-scroll-bars-hidden",R2="--removed-body-scroll-bar-size";function hh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function N2(e,t){var n=E.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var L2=typeof window<"u"?E.useLayoutEffect:E.useEffect,Cy=new WeakMap;function A2(e,t){var n=N2(null,function(r){return e.forEach(function(s){return hh(s,r)})});return L2(function(){var r=Cy.get(n);if(r){var s=new Set(r),o=new Set(e),l=n.current;s.forEach(function(u){o.has(u)||hh(u,null)}),o.forEach(function(u){s.has(u)||hh(u,l)})}Cy.set(n,e)},[e]),n}function j2(e){return e}function I2(e,t){t===void 0&&(t=j2);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(o),l=n}var d=function(){var p=l;l=[],p.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return s}function M2(e){e===void 0&&(e={});var t=I2(null);return t.options=Jn({async:!0,ssr:!1},e),t}var pb=function(e){var t=e.sideCar,n=Po(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Jn({},n))};pb.isSideCarExport=!0;function D2(e,t){return e.useMedium(t),pb}var mb=M2(),fh=function(){},Uc=E.forwardRef(function(e,t){var n=E.useRef(null),r=E.useState({onScrollCapture:fh,onWheelCapture:fh,onTouchMoveCapture:fh}),s=r[0],o=r[1],l=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,p=e.enabled,y=e.shards,m=e.sideCar,v=e.noRelative,k=e.noIsolation,w=e.inert,P=e.allowPinchZoom,b=e.as,S=b===void 0?"div":b,x=e.gapMode,C=Po(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=m,N=A2([n,t]),A=Jn(Jn({},C),s);return E.createElement(E.Fragment,null,p&&E.createElement(R,{sideCar:mb,removeScrollBar:h,shards:y,noRelative:v,noIsolation:k,inert:w,setCallbacks:o,allowPinchZoom:!!P,lockRef:n,gapMode:x}),l?E.cloneElement(E.Children.only(u),Jn(Jn({},A),{ref:N})):E.createElement(S,Jn({},A,{className:d,ref:N}),u))});Uc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uc.classNames={fullWidth:Tu,zeroRight:Pu};var z2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=z2();return t&&e.setAttribute("nonce",t),e}function B2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function U2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var F2=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$2())&&(B2(t,n),U2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},W2=function(){var e=F2();return function(t,n){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},gb=function(){var e=W2(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},H2={left:0,top:0,right:0,gap:0},ph=function(e){return parseInt(e||"",10)||0},V2=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ph(n),ph(r),ph(s)]},q2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return H2;var t=V2(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Z2=gb(),Ys="data-scroll-locked",K2=function(e,t,n,r){var s=e.left,o=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(O2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ys,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pu,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Tu,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Pu," .").concat(Pu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Tu," .").concat(Tu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ys,`] {
    `).concat(R2,": ").concat(u,`px;
  }
`)},Oy=function(){var e=parseInt(document.body.getAttribute(Ys)||"0",10);return isFinite(e)?e:0},G2=function(){E.useEffect(function(){return document.body.setAttribute(Ys,(Oy()+1).toString()),function(){var e=Oy()-1;e<=0?document.body.removeAttribute(Ys):document.body.setAttribute(Ys,e.toString())}},[])},Y2=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;G2();var o=E.useMemo(function(){return q2(s)},[s]);return E.createElement(Z2,{styles:K2(o,!t,s,n?"":"!important")})},Mf=!1;if(typeof window<"u")try{var au=Object.defineProperty({},"passive",{get:function(){return Mf=!0,!0}});window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{Mf=!1}var bs=Mf?{passive:!1}:!1,J2=function(e){return e.tagName==="TEXTAREA"},vb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!J2(e)&&n[t]==="visible")},Q2=function(e){return vb(e,"overflowY")},X2=function(e){return vb(e,"overflowX")},Ry=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=yb(e,r);if(s){var o=_b(e,r),l=o[1],u=o[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ej=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},tj=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},yb=function(e,t){return e==="v"?Q2(t):X2(t)},_b=function(e,t){return e==="v"?ej(t):tj(t)},nj=function(e,t){return e==="h"&&t==="rtl"?-1:1},rj=function(e,t,n,r,s){var o=nj(e,window.getComputedStyle(t).direction),l=o*r,u=n.target,d=t.contains(u),h=!1,p=l>0,y=0,m=0;do{if(!u)break;var v=_b(e,u),k=v[0],w=v[1],P=v[2],b=w-P-o*k;(k||b)&&yb(e,u)&&(y+=b,m+=k);var S=u.parentNode;u=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(p&&(Math.abs(y)<1||!s)||!p&&(Math.abs(m)<1||!s))&&(h=!0),h},lu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ny=function(e){return[e.deltaX,e.deltaY]},Ly=function(e){return e&&"current"in e?e.current:e},ij=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sj=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oj=0,Ss=[];function aj(e){var t=E.useRef([]),n=E.useRef([0,0]),r=E.useRef(),s=E.useState(oj++)[0],o=E.useState(gb)[0],l=E.useRef(e);E.useEffect(function(){l.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=pN([e.lockRef.current],(e.shards||[]).map(Ly),!0).filter(Boolean);return w.forEach(function(P){return P.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=E.useCallback(function(w,P){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var b=lu(w),S=n.current,x="deltaX"in w?w.deltaX:S[0]-b[0],C="deltaY"in w?w.deltaY:S[1]-b[1],R,N=w.target,A=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in w&&A==="h"&&N.type==="range")return!1;var $=Ry(A,N);if(!$)return!0;if($?R=A:(R=A==="v"?"h":"v",$=Ry(A,N)),!$)return!1;if(!r.current&&"changedTouches"in w&&(x||C)&&(r.current=R),!R)return!0;var D=r.current||R;return rj(D,P,w,D==="h"?x:C,!0)},[]),d=E.useCallback(function(w){var P=w;if(!(!Ss.length||Ss[Ss.length-1]!==o)){var b="deltaY"in P?Ny(P):lu(P),S=t.current.filter(function(R){return R.name===P.type&&(R.target===P.target||P.target===R.shadowParent)&&ij(R.delta,b)})[0];if(S&&S.should){P.cancelable&&P.preventDefault();return}if(!S){var x=(l.current.shards||[]).map(Ly).filter(Boolean).filter(function(R){return R.contains(P.target)}),C=x.length>0?u(P,x[0]):!l.current.noIsolation;C&&P.cancelable&&P.preventDefault()}}},[]),h=E.useCallback(function(w,P,b,S){var x={name:w,delta:P,target:b,should:S,shadowParent:lj(b)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),p=E.useCallback(function(w){n.current=lu(w),r.current=void 0},[]),y=E.useCallback(function(w){h(w.type,Ny(w),w.target,u(w,e.lockRef.current))},[]),m=E.useCallback(function(w){h(w.type,lu(w),w.target,u(w,e.lockRef.current))},[]);E.useEffect(function(){return Ss.push(o),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:m}),document.addEventListener("wheel",d,bs),document.addEventListener("touchmove",d,bs),document.addEventListener("touchstart",p,bs),function(){Ss=Ss.filter(function(w){return w!==o}),document.removeEventListener("wheel",d,bs),document.removeEventListener("touchmove",d,bs),document.removeEventListener("touchstart",p,bs)}},[]);var v=e.removeScrollBar,k=e.inert;return E.createElement(E.Fragment,null,k?E.createElement(o,{styles:sj(s)}):null,v?E.createElement(Y2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function lj(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uj=D2(mb,aj);var wb=E.forwardRef(function(e,t){return E.createElement(Uc,Jn({},e,{ref:t,sideCar:uj}))});wb.classNames=Uc.classNames;var cj=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Es=new WeakMap,uu=new WeakMap,cu={},mh=0,xb=function(e){return e&&(e.host||xb(e.parentNode))},dj=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=xb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},hj=function(e,t,n,r){var s=dj(t,Array.isArray(e)?e:[e]);cu[n]||(cu[n]=new WeakMap);var o=cu[n],l=[],u=new Set,d=new Set(s),h=function(y){!y||u.has(y)||(u.add(y),h(y.parentNode))};s.forEach(h);var p=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(m){if(u.has(m))p(m);else try{var v=m.getAttribute(r),k=v!==null&&v!=="false",w=(Es.get(m)||0)+1,P=(o.get(m)||0)+1;Es.set(m,w),o.set(m,P),l.push(m),w===1&&k&&uu.set(m,!0),P===1&&m.setAttribute(n,"true"),k||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return p(t),u.clear(),mh++,function(){l.forEach(function(y){var m=Es.get(y)-1,v=o.get(y)-1;Es.set(y,m),o.set(y,v),m||(uu.has(y)||y.removeAttribute(r),uu.delete(y)),v||y.removeAttribute(n)}),mh--,mh||(Es=new WeakMap,Es=new WeakMap,uu=new WeakMap,cu={})}},fj=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=cj(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),hj(r,s,n,"aria-hidden")):function(){return null}},Fc="Dialog",[bb,Vj]=_o(Fc),[pj,jn]=bb(Fc),Sb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,u=E.useRef(null),d=E.useRef(null),[h,p]=Ip({prop:r,defaultProp:s??!1,onChange:o,caller:Fc});return g.jsx(pj,{scope:t,triggerRef:u,contentRef:d,contentId:Jd(),titleId:Jd(),descriptionId:Jd(),open:h,onOpenChange:p,onOpenToggle:E.useCallback(()=>p(y=>!y),[p]),modal:l,children:n})};Sb.displayName=Fc;var Eb="DialogTrigger",mj=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jn(Eb,n),o=gt(t,s.triggerRef);return g.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":lm(s.open),...r,ref:o,onClick:Me(e.onClick,s.onOpenToggle)})});mj.displayName=Eb;var om="DialogPortal",[gj,kb]=bb(om,{forceMount:void 0}),Pb=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=jn(om,t);return g.jsx(gj,{scope:t,forceMount:n,children:E.Children.map(r,l=>g.jsx(wo,{present:n||o.open,children:g.jsx(jp,{asChild:!0,container:s,children:l})}))})};Pb.displayName=om;var uc="DialogOverlay",Tb=E.forwardRef((e,t)=>{const n=kb(uc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=jn(uc,e.__scopeDialog);return o.modal?g.jsx(wo,{present:r||o.open,children:g.jsx(yj,{...s,ref:t})}):null});Tb.displayName=uc;var vj=Ma("DialogOverlay.RemoveScroll"),yj=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jn(uc,n);return g.jsx(wb,{as:vj,allowPinchZoom:!0,shards:[s.contentRef],children:g.jsx($e.div,{"data-state":lm(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Qi="DialogContent",Cb=E.forwardRef((e,t)=>{const n=kb(Qi,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=jn(Qi,e.__scopeDialog);return g.jsx(wo,{present:r||o.open,children:o.modal?g.jsx(_j,{...s,ref:t}):g.jsx(wj,{...s,ref:t})})});Cb.displayName=Qi;var _j=E.forwardRef((e,t)=>{const n=jn(Qi,e.__scopeDialog),r=E.useRef(null),s=gt(t,n.contentRef,r);return E.useEffect(()=>{const o=r.current;if(o)return fj(o)},[]),g.jsx(Ob,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Me(e.onFocusOutside,o=>o.preventDefault())})}),wj=E.forwardRef((e,t)=>{const n=jn(Qi,e.__scopeDialog),r=E.useRef(!1),s=E.useRef(!1);return g.jsx(Ob,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Ob=E.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,u=jn(Qi,n),d=E.useRef(null),h=gt(t,d);return C2(),g.jsxs(g.Fragment,{children:[g.jsx(hb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:g.jsx(Pc,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":lm(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(xj,{titleId:u.titleId}),g.jsx(Sj,{contentRef:d,descriptionId:u.descriptionId})]})]})}),am="DialogTitle",Rb=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jn(am,n);return g.jsx($e.h2,{id:s.titleId,...r,ref:t})});Rb.displayName=am;var Nb="DialogDescription",Lb=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jn(Nb,n);return g.jsx($e.p,{id:s.descriptionId,...r,ref:t})});Lb.displayName=Nb;var Ab="DialogClose",jb=E.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jn(Ab,n);return g.jsx($e.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,()=>s.onOpenChange(!1))})});jb.displayName=Ab;function lm(e){return e?"open":"closed"}var Ib="DialogTitleWarning",[qj,Mb]=Ok(Ib,{contentName:Qi,titleName:am,docsSlug:"dialog"}),xj=({titleId:e})=>{const t=Mb(Ib),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},bj="DialogDescriptionWarning",Sj=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Mb(bj).contentName}}.`;return E.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Ej=Sb,kj=Pb,Db=Tb,zb=Cb,$b=Rb,Bb=Lb,Pj=jb;const Tj=Ej,Cj=kj,Ub=E.forwardRef(({className:e,...t},n)=>g.jsx(Db,{ref:n,className:st("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Ub.displayName=Db.displayName;const Fb=E.forwardRef(({className:e,children:t,...n},r)=>g.jsxs(Cj,{children:[g.jsx(Ub,{}),g.jsxs(zb,{ref:r,className:st("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,g.jsxs(Pj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[g.jsx(Wp,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fb.displayName=zb.displayName;const Wb=({className:e,...t})=>g.jsx("div",{className:st("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Wb.displayName="DialogHeader";const Hb=E.forwardRef(({className:e,...t},n)=>g.jsx($b,{ref:n,className:st("text-lg font-semibold leading-none tracking-tight",e),...t}));Hb.displayName=$b.displayName;const Oj=E.forwardRef(({className:e,...t},n)=>g.jsx(Bb,{ref:n,className:st("text-sm text-muted-foreground",e),...t}));Oj.displayName=Bb.displayName;const Rj=()=>{const{user:e,isAdmin:t,loading:n}=vi(),r=An(),[s,o]=E.useState([]),[l,u]=E.useState(!0),[d,h]=E.useState(""),[p,y]=E.useState(null),[m,v]=E.useState(""),[k,w]=E.useState(""),[P,b]=E.useState("customer"),[S,x]=E.useState(!1);E.useEffect(()=>{!n&&(!e||!t)&&r("/")},[e,t,n,r]),E.useEffect(()=>{t&&C()},[t]);const C=async()=>{u(!0);const{data:D}=await ce.from("profiles").select("*").order("created_at",{ascending:!1});D&&o(D),u(!1)},R=D=>{y(D),v(D.full_name),w(D.phone),b(D.role),x(!0)},N=async()=>{if(!p)return;const{error:D}=await ce.from("profiles").update({full_name:m,phone:k,role:P}).eq("id",p.id);D?Re.error("Failed to update user"):(Re.success("User updated"),x(!1),C())},A=async D=>{if(!confirm(`Delete user "${D.full_name}"? This cannot be undone.`))return;const{error:V}=await ce.from("profiles").delete().eq("id",D.id);V?Re.error("Failed to delete user"):(Re.success("User deleted"),C())},$=s.filter(D=>D.full_name.toLowerCase().includes(d.toLowerCase())||D.phone.includes(d));return n||!t?null:g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(nr,{}),g.jsxs("main",{className:"container py-8 max-w-4xl",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(O0,{className:"text-primary",size:28}),g.jsx("h1",{className:"font-display font-bold text-2xl text-foreground",children:"Admin Dashboard"})]}),g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(Fp,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),g.jsx(ft,{placeholder:"Search users by name or phone...",value:d,onChange:D=>h(D.target.value),className:"pl-9"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[g.jsx(DP,{size:16}),g.jsxs("span",{children:[s.length," users"]})]})]}),l?g.jsx("p",{className:"text-center py-16 text-muted-foreground",children:"Loading users..."}):g.jsx("div",{className:"bg-card rounded-xl shadow-card overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b border-border",children:[g.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Name"}),g.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Phone"}),g.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Role"}),g.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Joined"}),g.jsx("th",{className:"text-right p-4 font-medium text-muted-foreground",children:"Actions"})]})}),g.jsx("tbody",{children:$.map(D=>g.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-muted/30 transition-colors",children:[g.jsx("td",{className:"p-4 font-medium text-foreground",children:D.full_name||""}),g.jsx("td",{className:"p-4 text-muted-foreground",children:D.phone||""}),g.jsx("td",{className:"p-4",children:g.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.role==="provider"?"bg-accent text-accent-foreground":"bg-secondary text-secondary-foreground"}`,children:D.role})}),g.jsx("td",{className:"p-4 text-muted-foreground",children:new Date(D.created_at).toLocaleDateString()}),g.jsx("td",{className:"p-4 text-right",children:g.jsxs("div",{className:"flex items-center justify-end gap-1",children:[g.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>R(D),children:g.jsx(RP,{size:14})}),g.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>A(D),className:"text-destructive hover:text-destructive",children:g.jsx(IP,{size:14})})]})})]},D.id))})]})})}),g.jsx(Tj,{open:S,onOpenChange:x,children:g.jsxs(Fb,{children:[g.jsx(Wb,{children:g.jsx(Hb,{children:"Edit User"})}),g.jsxs("div",{className:"space-y-4 mt-2",children:[g.jsxs("div",{children:[g.jsx(rt,{children:"Full Name"}),g.jsx(ft,{value:m,onChange:D=>v(D.target.value)})]}),g.jsxs("div",{children:[g.jsx(rt,{children:"Phone"}),g.jsx(ft,{value:k,onChange:D=>w(D.target.value)})]}),g.jsxs("div",{children:[g.jsx(rt,{children:"Role"}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-1.5",children:[g.jsx("button",{type:"button",onClick:()=>b("customer"),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all ${P==="customer"?"border-primary bg-accent text-accent-foreground":"border-border text-muted-foreground hover:border-primary/50"}`,children:" Customer"}),g.jsx("button",{type:"button",onClick:()=>b("provider"),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all ${P==="provider"?"border-primary bg-accent text-accent-foreground":"border-border text-muted-foreground hover:border-primary/50"}`,children:" Provider"})]})]}),g.jsx(Ne,{onClick:N,className:"w-full",children:"Save Changes"})]})]})})]})]})},Nj=()=>{const{conversationId:e}=Ax(),{user:t}=vi(),[n,r]=E.useState([]),[s,o]=E.useState(""),[l,u]=E.useState(""),[d,h]=E.useState(!1),p=E.useRef(null);E.useEffect(()=>{if(!e||!t)return;ce.from("conversations").select("customer_id, provider_id").eq("id",e).single().then(({data:v})=>{if(v){const k=v.customer_id===t.id?v.provider_id:v.customer_id;ce.from("profiles").select("full_name").eq("user_id",k).single().then(({data:w})=>u((w==null?void 0:w.full_name)||"Unknown"))}}),ce.from("messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0}).then(({data:v})=>{v&&r(v)});const m=ce.channel(`messages-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${e}`},v=>{r(k=>[...k,v.new])}).subscribe();return()=>{ce.removeChannel(m)}},[e,t]),E.useEffect(()=>{var m;(m=p.current)==null||m.scrollIntoView({behavior:"smooth"})},[n]);const y=async m=>{if(m.preventDefault(),!s.trim()||!t||!e)return;h(!0);const{error:v}=await ce.from("messages").insert({conversation_id:e,sender_id:t.id,content:s.trim()});v||o(""),h(!1)};return g.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[g.jsx(nr,{}),g.jsxs("div",{className:"border-b border-border bg-card px-4 py-3 flex items-center gap-3",children:[g.jsx(Ie,{to:"/dashboard",className:"text-muted-foreground hover:text-foreground",children:g.jsx(Bp,{size:20})}),g.jsx("div",{className:"w-8 h-8 rounded-full bg-hero-gradient opacity-80"}),g.jsx("span",{className:"font-display font-semibold text-foreground",children:l})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[n.map(m=>g.jsx("div",{className:`flex ${m.sender_id===(t==null?void 0:t.id)?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-[75%] px-4 py-2.5 rounded-2xl text-sm ${m.sender_id===(t==null?void 0:t.id)?"bg-primary text-primary-foreground rounded-br-md":"bg-card shadow-card text-foreground rounded-bl-md"}`,children:[m.content,g.jsx("div",{className:`text-[10px] mt-1 ${m.sender_id===(t==null?void 0:t.id)?"text-primary-foreground/60":"text-muted-foreground"}`,children:new Date(m.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},m.id)),g.jsx("div",{ref:p})]}),g.jsxs("form",{onSubmit:y,className:"border-t border-border bg-card p-3 flex gap-2",children:[g.jsx(ft,{value:s,onChange:m=>o(m.target.value),placeholder:"Type a message...",className:"flex-1"}),g.jsx(Ne,{type:"submit",size:"icon",disabled:d||!s.trim(),children:g.jsx(AP,{size:18})})]})]})};var Df={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(J1,function(n){var r="1.9.4";function s(i){var a,c,f,_;for(c=1,f=arguments.length;c<f;c++){_=arguments[c];for(a in _)i[a]=_[a]}return i}var o=Object.create||function(){function i(){}return function(a){return i.prototype=a,new i}}();function l(i,a){var c=Array.prototype.slice;if(i.bind)return i.bind.apply(i,c.call(arguments,1));var f=c.call(arguments,2);return function(){return i.apply(a,f.length?f.concat(c.call(arguments)):arguments)}}var u=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++u),i._leaflet_id}function h(i,a,c){var f,_,T,O;return O=function(){f=!1,_&&(T.apply(c,_),_=!1)},T=function(){f?_=arguments:(i.apply(c,arguments),setTimeout(O,a),f=!0)},T}function p(i,a,c){var f=a[1],_=a[0],T=f-_;return i===f&&c?i:((i-_)%T+T)%T+_}function y(){return!1}function m(i,a){if(a===!1)return i;var c=Math.pow(10,a===void 0?6:a);return Math.round(i*c)/c}function v(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function k(i){return v(i).split(/\s+/)}function w(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?o(i.options):{});for(var c in a)i.options[c]=a[c];return i.options}function P(i,a,c){var f=[];for(var _ in i)f.push(encodeURIComponent(c?_.toUpperCase():_)+"="+encodeURIComponent(i[_]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function S(i,a){return i.replace(b,function(c,f){var _=a[f];if(_===void 0)throw new Error("No value provided for variable "+c);return typeof _=="function"&&(_=_(a)),_})}var x=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function C(i,a){for(var c=0;c<i.length;c++)if(i[c]===a)return c;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function N(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var A=0;function $(i){var a=+new Date,c=Math.max(0,16-(a-A));return A=a+c,window.setTimeout(i,c)}var D=window.requestAnimationFrame||N("RequestAnimationFrame")||$,V=window.cancelAnimationFrame||N("CancelAnimationFrame")||N("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Q(i,a,c){if(c&&D===$)i.call(a);else return D.call(window,l(i,a))}function Z(i){i&&V.call(window,i)}var me={__proto__:null,extend:s,create:o,bind:l,get lastId(){return u},stamp:d,throttle:h,wrapNum:p,falseFn:y,formatNum:m,trim:v,splitWords:k,setOptions:w,getParamString:P,template:S,isArray:x,indexOf:C,emptyImageUrl:R,requestFn:D,cancelFn:V,requestAnimFrame:Q,cancelAnimFrame:Z};function q(){}q.extend=function(i){var a=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,f=o(c);f.constructor=a,a.prototype=f;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(a[_]=this[_]);return i.statics&&s(a,i.statics),i.includes&&(ye(i.includes),s.apply(null,[f].concat(i.includes))),s(f,i),delete f.statics,delete f.includes,f.options&&(f.options=c.options?o(c.options):{},s(f.options,i.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,O=f._initHooks.length;T<O;T++)f._initHooks[T].call(this)}},a},q.include=function(i){var a=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},q.mergeOptions=function(i){return s(this.prototype.options,i),this},q.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),c=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function ye(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=x(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(i,a,c){if(typeof i=="object")for(var f in i)this._on(f,i[f],a);else{i=k(i);for(var _=0,T=i.length;_<T;_++)this._on(i[_],a,c)}return this},off:function(i,a,c){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var f in i)this._off(f,i[f],a);else{i=k(i);for(var _=arguments.length===1,T=0,O=i.length;T<O;T++)_?this._off(i[T]):this._off(i[T],a,c)}return this},_on:function(i,a,c,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,c)===!1){c===this&&(c=void 0);var _={fn:a,ctx:c};f&&(_.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(_)}},_off:function(i,a,c){var f,_,T;if(this._events&&(f=this._events[i],!!f)){if(arguments.length===1){if(this._firingCount)for(_=0,T=f.length;_<T;_++)f[_].fn=y;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var O=this._listens(i,a,c);if(O!==!1){var j=f[O];this._firingCount&&(j.fn=y,this._events[i]=f=f.slice()),f.splice(O,1)}}},fire:function(i,a,c){if(!this.listens(i,c))return this;var f=s({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var _=this._events[i];if(_){this._firingCount=this._firingCount+1||1;for(var T=0,O=_.length;T<O;T++){var j=_[T],M=j.fn;j.once&&this.off(i,M,j.ctx),M.call(j.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(i,a,c,f){typeof i!="string"&&console.warn('"string" type argument expected');var _=a;typeof a!="function"&&(f=!!a,_=void 0,c=void 0);var T=this._events&&this._events[i];if(T&&T.length&&this._listens(i,_,c)!==!1)return!0;if(f){for(var O in this._eventParents)if(this._eventParents[O].listens(i,a,c,f))return!0}return!1},_listens:function(i,a,c){if(!this._events)return!1;var f=this._events[i]||[];if(!a)return!!f.length;c===this&&(c=void 0);for(var _=0,T=f.length;_<T;_++)if(f[_].fn===a&&f[_].ctx===c)return _;return!1},once:function(i,a,c){if(typeof i=="object")for(var f in i)this._on(f,i[f],a,!0);else{i=k(i);for(var _=0,T=i.length;_<T;_++)this._on(i[_],a,c,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var ue=q.extend(X);function I(i,a,c){this.x=c?Math.round(i):i,this.y=c?Math.round(a):a}var U=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};I.prototype={clone:function(){return new I(this.x,this.y)},add:function(i){return this.clone()._add(B(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(B(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new I(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new I(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=U(this.x),this.y=U(this.y),this},distanceTo:function(i){i=B(i);var a=i.x-this.x,c=i.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(i){return i=B(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=B(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function B(i,a,c){return i instanceof I?i:x(i)?new I(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new I(i.x,i.y):new I(i,a,c)}function Y(i,a){if(i)for(var c=a?[i,a]:i,f=0,_=c.length;f<_;f++)this.extend(c[f])}Y.prototype={extend:function(i){var a,c;if(!i)return this;if(i instanceof I||typeof i[0]=="number"||"x"in i)a=c=B(i);else if(i=G(i),a=i.min,c=i.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(i){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,c;return typeof i[0]=="number"||i instanceof I?i=B(i):i=G(i),i instanceof Y?(a=i.min,c=i.max):a=c=i,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(i){i=G(i);var a=this.min,c=this.max,f=i.min,_=i.max,T=_.x>=a.x&&f.x<=c.x,O=_.y>=a.y&&f.y<=c.y;return T&&O},overlaps:function(i){i=G(i);var a=this.min,c=this.max,f=i.min,_=i.max,T=_.x>a.x&&f.x<c.x,O=_.y>a.y&&f.y<c.y;return T&&O},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,c=this.max,f=Math.abs(a.x-c.x)*i,_=Math.abs(a.y-c.y)*i;return G(B(a.x-f,a.y-_),B(c.x+f,c.y+_))},equals:function(i){return i?(i=G(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function G(i,a){return!i||i instanceof Y?i:new Y(i,a)}function re(i,a){if(i)for(var c=a?[i,a]:i,f=0,_=c.length;f<_;f++)this.extend(c[f])}re.prototype={extend:function(i){var a=this._southWest,c=this._northEast,f,_;if(i instanceof ae)f=i,_=i;else if(i instanceof re){if(f=i._southWest,_=i._northEast,!f||!_)return this}else return i?this.extend(ie(i)||te(i)):this;return!a&&!c?(this._southWest=new ae(f.lat,f.lng),this._northEast=new ae(_.lat,_.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),c.lat=Math.max(_.lat,c.lat),c.lng=Math.max(_.lng,c.lng)),this},pad:function(i){var a=this._southWest,c=this._northEast,f=Math.abs(a.lat-c.lat)*i,_=Math.abs(a.lng-c.lng)*i;return new re(new ae(a.lat-f,a.lng-_),new ae(c.lat+f,c.lng+_))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ae||"lat"in i?i=ie(i):i=te(i);var a=this._southWest,c=this._northEast,f,_;return i instanceof re?(f=i.getSouthWest(),_=i.getNorthEast()):f=_=i,f.lat>=a.lat&&_.lat<=c.lat&&f.lng>=a.lng&&_.lng<=c.lng},intersects:function(i){i=te(i);var a=this._southWest,c=this._northEast,f=i.getSouthWest(),_=i.getNorthEast(),T=_.lat>=a.lat&&f.lat<=c.lat,O=_.lng>=a.lng&&f.lng<=c.lng;return T&&O},overlaps:function(i){i=te(i);var a=this._southWest,c=this._northEast,f=i.getSouthWest(),_=i.getNorthEast(),T=_.lat>a.lat&&f.lat<c.lat,O=_.lng>a.lng&&f.lng<c.lng;return T&&O},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=te(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function te(i,a){return i instanceof re?i:new re(i,a)}function ae(i,a,c){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,c!==void 0&&(this.alt=+c)}ae.prototype={equals:function(i,a){if(!i)return!1;i=ie(i);var c=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return c<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+m(this.lat,i)+", "+m(this.lng,i)+")"},distanceTo:function(i){return Et.distance(this,ie(i))},wrap:function(){return Et.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,c=a/Math.cos(Math.PI/180*this.lat);return te([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function ie(i,a,c){return i instanceof ae?i:x(i)&&typeof i[0]!="object"?i.length===3?new ae(i[0],i[1],i[2]):i.length===2?new ae(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ae(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new ae(i,a,c)}var ge={latLngToPoint:function(i,a){var c=this.projection.project(i),f=this.scale(a);return this.transformation._transform(c,f)},pointToLatLng:function(i,a){var c=this.scale(a),f=this.transformation.untransform(i,c);return this.projection.unproject(f)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(i),f=this.transformation.transform(a.min,c),_=this.transformation.transform(a.max,c);return new Y(f,_)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?p(i.lng,this.wrapLng,!0):i.lng,c=this.wrapLat?p(i.lat,this.wrapLat,!0):i.lat,f=i.alt;return new ae(c,a,f)},wrapLatLngBounds:function(i){var a=i.getCenter(),c=this.wrapLatLng(a),f=a.lat-c.lat,_=a.lng-c.lng;if(f===0&&_===0)return i;var T=i.getSouthWest(),O=i.getNorthEast(),j=new ae(T.lat-f,T.lng-_),M=new ae(O.lat-f,O.lng-_);return new re(j,M)}},Et=s({},ge,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var c=Math.PI/180,f=i.lat*c,_=a.lat*c,T=Math.sin((a.lat-i.lat)*c/2),O=Math.sin((a.lng-i.lng)*c/2),j=T*T+Math.cos(f)*Math.cos(_)*O*O,M=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j));return this.R*M}}),fn=6378137,pn={R:fn,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,i.lat),-c),_=Math.sin(f*a);return new I(this.R*i.lng*a,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(i){var a=180/Math.PI;return new ae((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:function(){var i=fn*Math.PI;return new Y([-i,-i],[i,i])}()};function Xt(i,a,c,f){if(x(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=c,this._d=f}Xt.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new I((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function en(i,a,c,f){return new Xt(i,a,c,f)}var tn=s({},Et,{code:"EPSG:3857",projection:pn,transformation:function(){var i=.5/(Math.PI*pn.R);return en(i,.5,-i,.5)}()}),ns=s({},tn,{code:"EPSG:900913"});function rs(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function yi(i,a){var c="",f,_,T,O,j,M;for(f=0,T=i.length;f<T;f++){for(j=i[f],_=0,O=j.length;_<O;_++)M=j[_],c+=(_?"L":"M")+M.x+" "+M.y;c+=a?ne.svg?"z":"x":""}return c||"M0 0"}var _i=document.documentElement.style,In="ActiveXObject"in window,Nr=In&&!document.addEventListener,Co="msLaunchUri"in navigator&&!("documentMode"in document),or=Un("webkit"),Oo=Un("android"),Mn=Un("android 2")||Un("android 3"),Wc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Hc=Oo&&Un("Google")&&Wc<537&&!("AudioNode"in window),vt=!!window.opera,ar=!Co&&Un("chrome"),ll=Un("gecko")&&!or&&!vt&&!In,Vc=!ar&&Un("safari"),wi=Un("phantom"),ul="OTransition"in _i,cl=navigator.platform.indexOf("Win")===0,is=In&&"transition"in _i,Dn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Mn,Ro="MozPerspective"in _i,Lr=!window.L_DISABLE_3D&&(is||Dn||Ro)&&!ul&&!wi,xi=typeof orientation<"u"||Un("mobile"),qc=xi&&or,dl=xi&&Dn,No=!window.PointerEvent&&window.MSPointerEvent,hl=!!(window.PointerEvent||No),ss="ontouchstart"in window||!!window.TouchEvent,zn=!window.L_NO_TOUCH&&(ss||hl),Zc=xi&&vt,de=xi&&ll,ke=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Te=function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",y,a),window.removeEventListener("testPassiveEventSupport",y,a)}catch{}return i}(),Bt=function(){return!!document.createElement("canvas").getContext}(),kt=!!(document.createElementNS&&rs("svg").createSVGRect),$n=!!kt&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),lr=!kt&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Ut=navigator.platform.indexOf("Mac")===0,Bn=navigator.platform.indexOf("Linux")===0;function Un(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var ne={ie:In,ielt9:Nr,edge:Co,webkit:or,android:Oo,android23:Mn,androidStock:Hc,opera:vt,chrome:ar,gecko:ll,safari:Vc,phantom:wi,opera12:ul,win:cl,ie3d:is,webkit3d:Dn,gecko3d:Ro,any3d:Lr,mobile:xi,mobileWebkit:qc,mobileWebkit3d:dl,msPointer:No,pointer:hl,touch:zn,touchNative:ss,mobileOpera:Zc,mobileGecko:de,retina:ke,passiveEvents:Te,canvas:Bt,svg:kt,vml:lr,inlineSvg:$n,mac:Ut,linux:Bn},um=ne.msPointer?"MSPointerDown":"pointerdown",cm=ne.msPointer?"MSPointerMove":"pointermove",dm=ne.msPointer?"MSPointerUp":"pointerup",hm=ne.msPointer?"MSPointerCancel":"pointercancel",Kc={touchstart:um,touchmove:cm,touchend:dm,touchcancel:hm},fm={touchstart:Yb,touchmove:fl,touchend:fl,touchcancel:fl},os={},pm=!1;function Vb(i,a,c){return a==="touchstart"&&Gb(),fm[a]?(c=fm[a].bind(this,c),i.addEventListener(Kc[a],c,!1),c):(console.warn("wrong event specified:",a),y)}function qb(i,a,c){if(!Kc[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(Kc[a],c,!1)}function Zb(i){os[i.pointerId]=i}function Kb(i){os[i.pointerId]&&(os[i.pointerId]=i)}function mm(i){delete os[i.pointerId]}function Gb(){pm||(document.addEventListener(um,Zb,!0),document.addEventListener(cm,Kb,!0),document.addEventListener(dm,mm,!0),document.addEventListener(hm,mm,!0),pm=!0)}function fl(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in os)a.touches.push(os[c]);a.changedTouches=[a],i(a)}}function Yb(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&ut(a),fl(i,a)}function Jb(i){var a={},c,f;for(f in i)c=i[f],a[f]=c&&c.bind?c.bind(i):c;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Qb=200;function Xb(i,a){i.addEventListener("dblclick",a);var c=0,f;function _(T){if(T.detail!==1){f=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var O=wm(T);if(!(O.some(function(M){return M instanceof HTMLLabelElement&&M.attributes.for})&&!O.some(function(M){return M instanceof HTMLInputElement||M instanceof HTMLSelectElement}))){var j=Date.now();j-c<=Qb?(f++,f===2&&a(Jb(T))):f=1,c=j}}}return i.addEventListener("click",_),{dblclick:a,simDblclick:_}}function e1(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var Gc=gl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Lo=gl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),gm=Lo==="webkitTransition"||Lo==="OTransition"?Lo+"End":"transitionend";function vm(i){return typeof i=="string"?document.getElementById(i):i}function Ao(i,a){var c=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(i,null);c=f?f[a]:null}return c==="auto"?null:c}function Se(i,a,c){var f=document.createElement(i);return f.className=a||"",c&&c.appendChild(f),f}function Be(i){var a=i.parentNode;a&&a.removeChild(i)}function pl(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function as(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function ls(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function Yc(i,a){if(i.classList!==void 0)return i.classList.contains(a);var c=ml(i);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function ve(i,a){if(i.classList!==void 0)for(var c=k(a),f=0,_=c.length;f<_;f++)i.classList.add(c[f]);else if(!Yc(i,a)){var T=ml(i);Jc(i,(T?T+" ":"")+a)}}function Ke(i,a){i.classList!==void 0?i.classList.remove(a):Jc(i,v((" "+ml(i)+" ").replace(" "+a+" "," ")))}function Jc(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function ml(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function nn(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&t1(i,a)}function t1(i,a){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=i.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):i.style.filter+=" progid:"+f+"(opacity="+a+")"}function gl(i){for(var a=document.documentElement.style,c=0;c<i.length;c++)if(i[c]in a)return i[c];return!1}function bi(i,a,c){var f=a||new I(0,0);i.style[Gc]=(ne.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function Ye(i,a){i._leaflet_pos=a,ne.any3d?bi(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function Si(i){return i._leaflet_pos||new I(0,0)}var jo,Io,Qc;if("onselectstart"in document)jo=function(){fe(window,"selectstart",ut)},Io=function(){Ce(window,"selectstart",ut)};else{var Mo=gl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);jo=function(){if(Mo){var i=document.documentElement.style;Qc=i[Mo],i[Mo]="none"}},Io=function(){Mo&&(document.documentElement.style[Mo]=Qc,Qc=void 0)}}function Xc(){fe(window,"dragstart",ut)}function ed(){Ce(window,"dragstart",ut)}var vl,td;function nd(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(yl(),vl=i,td=i.style.outlineStyle,i.style.outlineStyle="none",fe(window,"keydown",yl))}function yl(){vl&&(vl.style.outlineStyle=td,vl=void 0,td=void 0,Ce(window,"keydown",yl))}function ym(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function rd(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var n1={__proto__:null,TRANSFORM:Gc,TRANSITION:Lo,TRANSITION_END:gm,get:vm,getStyle:Ao,create:Se,remove:Be,empty:pl,toFront:as,toBack:ls,hasClass:Yc,addClass:ve,removeClass:Ke,setClass:Jc,getClass:ml,setOpacity:nn,testProp:gl,setTransform:bi,setPosition:Ye,getPosition:Si,get disableTextSelection(){return jo},get enableTextSelection(){return Io},disableImageDrag:Xc,enableImageDrag:ed,preventOutline:nd,restoreOutline:yl,getSizedParentNode:ym,getScale:rd};function fe(i,a,c,f){if(a&&typeof a=="object")for(var _ in a)sd(i,_,a[_],c);else{a=k(a);for(var T=0,O=a.length;T<O;T++)sd(i,a[T],c,f)}return this}var Fn="_leaflet_events";function Ce(i,a,c,f){if(arguments.length===1)_m(i),delete i[Fn];else if(a&&typeof a=="object")for(var _ in a)od(i,_,a[_],c);else if(a=k(a),arguments.length===2)_m(i,function(j){return C(a,j)!==-1});else for(var T=0,O=a.length;T<O;T++)od(i,a[T],c,f);return this}function _m(i,a){for(var c in i[Fn]){var f=c.split(/\d/)[0];(!a||a(f))&&od(i,f,null,null,c)}}var id={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function sd(i,a,c,f){var _=a+d(c)+(f?"_"+d(f):"");if(i[Fn]&&i[Fn][_])return this;var T=function(j){return c.call(f||i,j||window.event)},O=T;!ne.touchNative&&ne.pointer&&a.indexOf("touch")===0?T=Vb(i,a,T):ne.touch&&a==="dblclick"?T=Xb(i,T):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(id[a]||a,T,ne.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(T=function(j){j=j||window.event,ld(i,j)&&O(j)},i.addEventListener(id[a],T,!1)):i.addEventListener(a,O,!1):i.attachEvent("on"+a,T),i[Fn]=i[Fn]||{},i[Fn][_]=T}function od(i,a,c,f,_){_=_||a+d(c)+(f?"_"+d(f):"");var T=i[Fn]&&i[Fn][_];if(!T)return this;!ne.touchNative&&ne.pointer&&a.indexOf("touch")===0?qb(i,a,T):ne.touch&&a==="dblclick"?e1(i,T):"removeEventListener"in i?i.removeEventListener(id[a]||a,T,!1):i.detachEvent("on"+a,T),i[Fn][_]=null}function Ei(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function ad(i){return sd(i,"wheel",Ei),this}function Do(i){return fe(i,"mousedown touchstart dblclick contextmenu",Ei),i._leaflet_disable_click=!0,this}function ut(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function ki(i){return ut(i),Ei(i),this}function wm(i){if(i.composedPath)return i.composedPath();for(var a=[],c=i.target;c;)a.push(c),c=c.parentNode;return a}function xm(i,a){if(!a)return new I(i.clientX,i.clientY);var c=rd(a),f=c.boundingClientRect;return new I((i.clientX-f.left)/c.x-a.clientLeft,(i.clientY-f.top)/c.y-a.clientTop)}var r1=ne.linux&&ne.chrome?window.devicePixelRatio:ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function bm(i){return ne.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/r1:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function ld(i,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==i;)c=c.parentNode}catch{return!1}return c!==i}var i1={__proto__:null,on:fe,off:Ce,stopPropagation:Ei,disableScrollPropagation:ad,disableClickPropagation:Do,preventDefault:ut,stop:ki,getPropagationPath:wm,getMousePosition:xm,getWheelDelta:bm,isExternalTarget:ld,addListener:fe,removeListener:Ce},Sm=ue.extend({run:function(i,a,c,f){this.stop(),this._el=i,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Si(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var c=this._startPos.add(this._offset.multiplyBy(i));a&&c._round(),Ye(this._el,c),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),xe=ue.extend({options:{crs:tn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=w(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ie(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Lo&&ne.any3d&&!ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),fe(this._proxy,gm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter(ie(i),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=s({animate:c.animate},c.zoom),c.pan=s({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,c.zoom):this._tryAnimatedPan(i,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,c){var f=this.getZoomScale(a),_=this.getSize().divideBy(2),T=i instanceof I?i:this.latLngToContainerPoint(i),O=T.subtract(_).multiplyBy(1-1/f),j=this.containerPointToLatLng(_.add(O));return this.setView(j,a,{zoom:c})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():te(i);var c=B(a.paddingTopLeft||a.padding||[0,0]),f=B(a.paddingBottomRight||a.padding||[0,0]),_=this.getBoundsZoom(i,!1,c.add(f));if(_=typeof a.maxZoom=="number"?Math.min(a.maxZoom,_):_,_===1/0)return{center:i.getCenter(),zoom:_};var T=f.subtract(c).divideBy(2),O=this.project(i.getSouthWest(),_),j=this.project(i.getNorthEast(),_),M=this.unproject(O.add(j).divideBy(2).add(T),_);return{center:M,zoom:_}},fitBounds:function(i,a){if(i=te(i),!i.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(i,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=B(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Sm,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){ve(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,c){if(c=c||{},c.animate===!1||!ne.any3d)return this.setView(i,a,c);this._stop();var f=this.project(this.getCenter()),_=this.project(i),T=this.getSize(),O=this._zoom;i=ie(i),a=a===void 0?O:a;var j=Math.max(T.x,T.y),M=j*this.getZoomScale(O,a),F=_.distanceTo(f)||1,K=1.42,le=K*K;function _e(Je){var Rl=Je?-1:1,q1=Je?M:j,Z1=M*M-j*j+Rl*le*le*F*F,K1=2*q1*le*F,_d=Z1/K1,rg=Math.sqrt(_d*_d+1)-_d,G1=rg<1e-9?-18:Math.log(rg);return G1}function Pt(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function ot(Je){return(Math.exp(Je)+Math.exp(-Je))/2}function sn(Je){return Pt(Je)/ot(Je)}var At=_e(0);function ps(Je){return j*(ot(At)/ot(At+K*Je))}function F1(Je){return j*(ot(At)*sn(At+K*Je)-Pt(At))/le}function W1(Je){return 1-Math.pow(1-Je,1.5)}var H1=Date.now(),tg=(_e(1)-At)/K,V1=c.duration?1e3*c.duration:1e3*tg*.8;function ng(){var Je=(Date.now()-H1)/V1,Rl=W1(Je)*tg;Je<=1?(this._flyToFrame=Q(ng,this),this._move(this.unproject(f.add(_.subtract(f).multiplyBy(F1(Rl)/F)),O),this.getScaleZoom(j/ps(Rl),O),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),ng.call(this),this},flyToBounds:function(i,a){var c=this._getBoundsCenterZoom(i,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(i){return i=te(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,te(i));return c.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var c=B(a.paddingTopLeft||a.padding||[0,0]),f=B(a.paddingBottomRight||a.padding||[0,0]),_=this.project(this.getCenter()),T=this.project(i),O=this.getPixelBounds(),j=G([O.min.add(c),O.max.subtract(f)]),M=j.getSize();if(!j.contains(T)){this._enforcingBounds=!0;var F=T.subtract(j.getCenter()),K=j.extend(T).getSize().subtract(M);_.x+=F.x<0?-K.x:K.x,_.y+=F.y<0?-K.y:K.y,this.panTo(this.unproject(_),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=a.divideBy(2).round(),_=c.divideBy(2).round(),T=f.subtract(_);return!T.x&&!T.y?this:(i.animate&&i.pan?this.panBy(T):(i.pan&&this._rawPanBy(T),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,i):navigator.geolocation.getCurrentPosition(a,c,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,c=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,c=i.coords.longitude,f=new ae(a,c),_=f.toBounds(i.coords.accuracy*2),T=this._locateOptions;if(T.setView){var O=this.getBoundsZoom(_);this.setView(f,T.maxZoom?Math.min(O,T.maxZoom):O)}var j={latlng:f,bounds:_,timestamp:i.timestamp};for(var M in i.coords)typeof i.coords[M]=="number"&&(j[M]=i.coords[M]);this.fire("locationfound",j)}},addHandler:function(i,a){if(!a)return this;var c=this[i]=new a(this);return this._handlers.push(c),this.options[i]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Be(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var c="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),f=Se("div",c,a||this._mapPane);return i&&(this._panes[i]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),c=this.unproject(i.getTopRight());return new re(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,c){i=te(i),c=B(c||[0,0]);var f=this.getZoom()||0,_=this.getMinZoom(),T=this.getMaxZoom(),O=i.getNorthWest(),j=i.getSouthEast(),M=this.getSize().subtract(c),F=G(this.project(j,f),this.project(O,f)).getSize(),K=ne.any3d?this.options.zoomSnap:1,le=M.x/F.x,_e=M.y/F.y,Pt=a?Math.max(le,_e):Math.min(le,_e);return f=this.getScaleZoom(Pt,f),K&&(f=Math.round(f/(K/100))*(K/100),f=a?Math.ceil(f/K)*K:Math.floor(f/K)*K),Math.max(_,Math.min(T,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var c=this._getTopLeftPoint(i,a);return new Y(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(i)/c.scale(a)},getScaleZoom:function(i,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var f=c.zoom(i*c.scale(a));return isNaN(f)?1/0:f},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ie(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(B(i),a)},layerPointToLatLng:function(i){var a=B(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project(ie(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(ie(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(te(i))},distance:function(i,a){return this.options.crs.distance(ie(i),ie(a))},containerPointToLayerPoint:function(i){return B(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return B(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint(B(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ie(i)))},mouseEventToContainerPoint:function(i){return xm(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=vm(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");fe(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&ne.any3d,ve(i,"leaflet-container"+(ne.touch?" leaflet-touch":"")+(ne.retina?" leaflet-retina":"")+(ne.ielt9?" leaflet-oldie":"")+(ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Ao(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ye(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ve(i.markerPane,"leaflet-zoom-hide"),ve(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,c){Ye(this._mapPane,new I(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var _=this._zoom!==a;this._moveStart(_,c)._move(i,a)._moveEnd(_),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,c,f){a===void 0&&(a=this._zoom);var _=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),f?c&&c.pinch&&this.fire("zoom",c):((_||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Ye(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var a=i?Ce:fe;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),ne.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var c=[],f,_=a==="mouseout"||a==="mouseover",T=i.target||i.srcElement,O=!1;T;){if(f=this._targets[d(T)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){O=!0;break}if(f&&f.listens(a,!0)&&(_&&!ld(T,i)||(c.push(f),_))||T===this._container)break;T=T.parentNode}return!c.length&&!O&&!_&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var c=i.type;c==="mousedown"&&nd(a),this._fireDOMEvent(i,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,c){if(i.type==="click"){var f=s({},i);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var _=this._findEventTargets(i,a);if(c){for(var T=[],O=0;O<c.length;O++)c[O].listens(a,!0)&&T.push(c[O]);_=T.concat(_)}if(_.length){a==="contextmenu"&&ut(i);var j=_[0],M={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var F=j.getLatLng&&(!j._radius||j._radius<=10);M.containerPoint=F?this.latLngToContainerPoint(j.getLatLng()):this.mouseEventToContainerPoint(i),M.layerPoint=this.containerPointToLayerPoint(M.containerPoint),M.latlng=F?j.getLatLng():this.layerPointToLatLng(M.layerPoint)}for(O=0;O<_.length;O++)if(_[O].fire(a,M,!0),M.originalEvent._stopped||_[O].options.bubblingMouseEvents===!1&&C(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return Si(this._mapPane)||new I(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var c=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var c=this.getSize()._divideBy(2);return this.project(i,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,c){var f=this._getNewPixelOrigin(c,a);return this.project(i,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(i,a,c){var f=this._getNewPixelOrigin(c,a);return G([this.project(i.getSouthWest(),a)._subtract(f),this.project(i.getNorthWest(),a)._subtract(f),this.project(i.getSouthEast(),a)._subtract(f),this.project(i.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,c){if(!c)return i;var f=this.project(i,a),_=this.getSize().divideBy(2),T=new Y(f.subtract(_),f.add(_)),O=this._getBoundsOffset(T,c,a);return Math.abs(O.x)<=1&&Math.abs(O.y)<=1?i:this.unproject(f.add(O),a)},_limitOffset:function(i,a){if(!a)return i;var c=this.getPixelBounds(),f=new Y(c.min.add(i),c.max.add(i));return i.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(i,a,c){var f=G(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),_=f.min.subtract(i.min),T=f.max.subtract(i.max),O=this._rebound(_.x,-T.x),j=this._rebound(_.y,-T.y);return new I(O,j)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),c=this.getMaxZoom(),f=ne.any3d?this.options.zoomSnap:1;return f&&(i=Math.round(i/f)*f),Math.max(a,Math.min(c,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var c=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var i=this._proxy=Se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var c=Gc,f=this._proxy.style[c];bi(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();bi(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),_=this._getCenterOffset(i)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(_)?!1:(Q(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function s1(i,a){return new xe(i,a)}var mn=q.extend({options:{position:"topright"},initialize:function(i){w(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),c=this.getPosition(),f=i._controlCorners[c];return ve(a,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),zo=function(i){return new mn(i)};xe.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",c=this._controlContainer=Se("div",a+"control-container",this._container);function f(_,T){var O=a+_+" "+a+T;i[_+T]=Se("div",O,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Be(this._controlCorners[i]);Be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Em=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,c,f){return c<f?-1:f<c?1:0}},initialize:function(i,a,c){w(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in i)this._addLayer(i[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return mn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=Se("div",i),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Do(a),ad(a);var f=this._section=Se("section",i+"-list");c&&(this._map.on("click",this.collapse,this),fe(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Se("a",i+"-toggle",a);_.href="#",_.title="Layers",_.setAttribute("role","button"),fe(_,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){ut(T),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Se("div",i+"-base",f),this._separator=Se("div",i+"-separator",f),this._overlaysList=Se("div",i+"-overlays",f),a.appendChild(f)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,c){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(f,_){return this.options.sortFunction(f.layer,_.layer,f.name,_.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pl(this._baseLayersList),pl(this._overlaysList),this._layerControlInputs=[];var i,a,c,f,_=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),a=a||f.overlay,i=i||!f.overlay,_+=f.overlay?0:1;return this.options.hideSingleBase&&(i=i&&_>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(d(i.target)),c=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(i,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(i){var a=document.createElement("label"),c=this._map.hasLayer(i.layer),f;i.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(f),f.layerId=d(i.layer),fe(f,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+i.name;var T=document.createElement("span");a.appendChild(T),T.appendChild(f),T.appendChild(_);var O=i.overlay?this._overlaysList:this._baseLayersList;return O.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,c,f=[],_=[];this._handlingClick=!0;for(var T=i.length-1;T>=0;T--)a=i[T],c=this._getLayer(a.layerId).layer,a.checked?f.push(c):a.checked||_.push(c);for(T=0;T<_.length;T++)this._map.hasLayer(_[T])&&this._map.removeLayer(_[T]);for(T=0;T<f.length;T++)this._map.hasLayer(f[T])||this._map.addLayer(f[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,c,f=this._map.getZoom(),_=i.length-1;_>=0;_--)a=i[_],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,fe(i,"click",ut),this.expand();var a=this;setTimeout(function(){Ce(i,"click",ut),a._preventClick=!1})}}),o1=function(i,a,c){return new Em(i,a,c)},ud=mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",c=Se("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,c,f,_){var T=Se("a",c,f);return T.innerHTML=i,T.href="#",T.title=a,T.setAttribute("role","button"),T.setAttribute("aria-label",a),Do(T),fe(T,"click",ki),fe(T,"click",_,this),fe(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";Ke(this._zoomInButton,a),Ke(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(ve(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(ve(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});xe.mergeOptions({zoomControl:!0}),xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ud,this.addControl(this.zoomControl))});var a1=function(i){return new ud(i)},km=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",c=Se("div",a),f=this.options;return this._addScales(f,a+"-line",c),i.on(f.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),c},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,c){i.metric&&(this._mScale=Se("div",a,c)),i.imperial&&(this._iScale=Se("div",a,c))},_update:function(){var i=this._map,a=i.getSize().y/2,c=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/i)},_updateImperial:function(i){var a=i*3.2808399,c,f,_;a>5280?(c=a/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(_=this._getRoundNum(a),this._updateScale(this._iScale,_+" ft",_/a))},_updateScale:function(i,a,c){i.style.width=Math.round(this.options.maxWidth*c)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),c=i/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),l1=function(i){return new km(i)},u1='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',cd=mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ne.inlineSvg?u1+" ":"")+"Leaflet</a>"},initialize:function(i){w(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Se("div","leaflet-control-attribution"),Do(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),i.length&&c.push(i.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});xe.mergeOptions({attributionControl:!0}),xe.addInitHook(function(){this.options.attributionControl&&new cd().addTo(this)});var c1=function(i){return new cd(i)};mn.Layers=Em,mn.Zoom=ud,mn.Scale=km,mn.Attribution=cd,zo.layers=o1,zo.zoom=a1,zo.scale=l1,zo.attribution=c1;var Wn=q.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wn.addTo=function(i,a){return i.addHandler(a,this),this};var d1={Events:X},Pm=ne.touch?"touchstart mousedown":"mousedown",Ar=ue.extend({options:{clickTolerance:3},initialize:function(i,a,c,f){w(this,f),this._element=i,this._dragStartTarget=a||i,this._preventOutline=c},enable:function(){this._enabled||(fe(this._dragStartTarget,Pm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ar._dragging===this&&this.finishDrag(!0),Ce(this._dragStartTarget,Pm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Yc(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Ar._dragging===this&&this.finishDrag();return}if(!(Ar._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Ar._dragging=this,this._preventOutline&&nd(this._element),Xc(),jo(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,c=ym(this._element);this._startPoint=new I(a.clientX,a.clientY),this._startPos=Si(this._element),this._parentScale=rd(c);var f=i.type==="mousedown";fe(document,f?"mousemove":"touchmove",this._onMove,this),fe(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,c=new I(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ut(i),this._moved||(this.fire("dragstart"),this._moved=!0,ve(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Ye(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Ke(document.body,"leaflet-dragging"),this._lastTarget&&(Ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ce(document,"mousemove touchmove",this._onMove,this),Ce(document,"mouseup touchend touchcancel",this._onUp,this),ed(),Io();var a=this._moved&&this._moving;this._moving=!1,Ar._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Tm(i,a,c){var f,_=[1,4,2,8],T,O,j,M,F,K,le,_e;for(T=0,K=i.length;T<K;T++)i[T]._code=Pi(i[T],a);for(j=0;j<4;j++){for(le=_[j],f=[],T=0,K=i.length,O=K-1;T<K;O=T++)M=i[T],F=i[O],M._code&le?F._code&le||(_e=_l(F,M,le,a,c),_e._code=Pi(_e,a),f.push(_e)):(F._code&le&&(_e=_l(F,M,le,a,c),_e._code=Pi(_e,a),f.push(_e)),f.push(M));i=f}return i}function Cm(i,a){var c,f,_,T,O,j,M,F,K;if(!i||i.length===0)throw new Error("latlngs not passed");rn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var le=ie([0,0]),_e=te(i),Pt=_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest());Pt<1700&&(le=dd(i));var ot=i.length,sn=[];for(c=0;c<ot;c++){var At=ie(i[c]);sn.push(a.project(ie([At.lat-le.lat,At.lng-le.lng])))}for(j=M=F=0,c=0,f=ot-1;c<ot;f=c++)_=sn[c],T=sn[f],O=_.y*T.x-T.y*_.x,M+=(_.x+T.x)*O,F+=(_.y+T.y)*O,j+=O*3;j===0?K=sn[0]:K=[M/j,F/j];var ps=a.unproject(B(K));return ie([ps.lat+le.lat,ps.lng+le.lng])}function dd(i){for(var a=0,c=0,f=0,_=0;_<i.length;_++){var T=ie(i[_]);a+=T.lat,c+=T.lng,f++}return ie([a/f,c/f])}var h1={__proto__:null,clipPolygon:Tm,polygonCenter:Cm,centroid:dd};function Om(i,a){if(!a||!i.length)return i.slice();var c=a*a;return i=m1(i,c),i=p1(i,c),i}function Rm(i,a,c){return Math.sqrt($o(i,a,c,!0))}function f1(i,a,c){return $o(i,a,c)}function p1(i,a){var c=i.length,f=typeof Uint8Array<"u"?Uint8Array:Array,_=new f(c);_[0]=_[c-1]=1,hd(i,_,a,0,c-1);var T,O=[];for(T=0;T<c;T++)_[T]&&O.push(i[T]);return O}function hd(i,a,c,f,_){var T=0,O,j,M;for(j=f+1;j<=_-1;j++)M=$o(i[j],i[f],i[_],!0),M>T&&(O=j,T=M);T>c&&(a[O]=1,hd(i,a,c,f,O),hd(i,a,c,O,_))}function m1(i,a){for(var c=[i[0]],f=1,_=0,T=i.length;f<T;f++)g1(i[f],i[_])>a&&(c.push(i[f]),_=f);return _<T-1&&c.push(i[T-1]),c}var Nm;function Lm(i,a,c,f,_){var T=f?Nm:Pi(i,c),O=Pi(a,c),j,M,F;for(Nm=O;;){if(!(T|O))return[i,a];if(T&O)return!1;j=T||O,M=_l(i,a,j,c,_),F=Pi(M,c),j===T?(i=M,T=F):(a=M,O=F)}}function _l(i,a,c,f,_){var T=a.x-i.x,O=a.y-i.y,j=f.min,M=f.max,F,K;return c&8?(F=i.x+T*(M.y-i.y)/O,K=M.y):c&4?(F=i.x+T*(j.y-i.y)/O,K=j.y):c&2?(F=M.x,K=i.y+O*(M.x-i.x)/T):c&1&&(F=j.x,K=i.y+O*(j.x-i.x)/T),new I(F,K,_)}function Pi(i,a){var c=0;return i.x<a.min.x?c|=1:i.x>a.max.x&&(c|=2),i.y<a.min.y?c|=4:i.y>a.max.y&&(c|=8),c}function g1(i,a){var c=a.x-i.x,f=a.y-i.y;return c*c+f*f}function $o(i,a,c,f){var _=a.x,T=a.y,O=c.x-_,j=c.y-T,M=O*O+j*j,F;return M>0&&(F=((i.x-_)*O+(i.y-T)*j)/M,F>1?(_=c.x,T=c.y):F>0&&(_+=O*F,T+=j*F)),O=i.x-_,j=i.y-T,f?O*O+j*j:new I(_,T)}function rn(i){return!x(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Am(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rn(i)}function jm(i,a){var c,f,_,T,O,j,M,F;if(!i||i.length===0)throw new Error("latlngs not passed");rn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var K=ie([0,0]),le=te(i),_e=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());_e<1700&&(K=dd(i));var Pt=i.length,ot=[];for(c=0;c<Pt;c++){var sn=ie(i[c]);ot.push(a.project(ie([sn.lat-K.lat,sn.lng-K.lng])))}for(c=0,f=0;c<Pt-1;c++)f+=ot[c].distanceTo(ot[c+1])/2;if(f===0)F=ot[0];else for(c=0,T=0;c<Pt-1;c++)if(O=ot[c],j=ot[c+1],_=O.distanceTo(j),T+=_,T>f){M=(T-f)/_,F=[j.x-M*(j.x-O.x),j.y-M*(j.y-O.y)];break}var At=a.unproject(B(F));return ie([At.lat+K.lat,At.lng+K.lng])}var v1={__proto__:null,simplify:Om,pointToSegmentDistance:Rm,closestPointOnSegment:f1,clipSegment:Lm,_getEdgeIntersection:_l,_getBitCode:Pi,_sqClosestPointOnSegment:$o,isFlat:rn,_flat:Am,polylineCenter:jm},fd={project:function(i){return new I(i.lng,i.lat)},unproject:function(i){return new ae(i.y,i.x)},bounds:new Y([-180,-90],[180,90])},pd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,c=this.R,f=i.lat*a,_=this.R_MINOR/c,T=Math.sqrt(1-_*_),O=T*Math.sin(f),j=Math.tan(Math.PI/4-f/2)/Math.pow((1-O)/(1+O),T/2);return f=-c*Math.log(Math.max(j,1e-10)),new I(i.lng*a*c,f)},unproject:function(i){for(var a=180/Math.PI,c=this.R,f=this.R_MINOR/c,_=Math.sqrt(1-f*f),T=Math.exp(-i.y/c),O=Math.PI/2-2*Math.atan(T),j=0,M=.1,F;j<15&&Math.abs(M)>1e-7;j++)F=_*Math.sin(O),F=Math.pow((1-F)/(1+F),_/2),M=Math.PI/2-2*Math.atan(T*F)-O,O+=M;return new ae(O*a,i.x*a/c)}},y1={__proto__:null,LonLat:fd,Mercator:pd,SphericalMercator:pn},_1=s({},Et,{code:"EPSG:3395",projection:pd,transformation:function(){var i=.5/(Math.PI*pd.R);return en(i,.5,-i,.5)}()}),Im=s({},Et,{code:"EPSG:4326",projection:fd,transformation:en(1/180,1,-1/180,.5)}),w1=s({},ge,{projection:fd,transformation:en(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var c=a.lng-i.lng,f=a.lat-i.lat;return Math.sqrt(c*c+f*f)},infinite:!0});ge.Earth=Et,ge.EPSG3395=_1,ge.EPSG3857=tn,ge.EPSG900913=ns,ge.EPSG4326=Im,ge.Simple=w1;var gn=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});xe.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=d(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,a){for(var c in this._layers)i.call(a,this._layers[c]);return this},_addLayers:function(i){i=i?x(i)?i:[i]:[];for(var a=0,c=i.length;a<c;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=d(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var _=this._zoomBoundLayers[f].options;i=_.minZoom===void 0?i:Math.min(i,_.minZoom),a=_.maxZoom===void 0?a:Math.max(a,_.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var us=gn.extend({initialize:function(i,a){w(this,a),this._layers={};var c,f;if(i)for(c=0,f=i.length;c<f;c++)this.addLayer(i[c])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[i]&&f[i].apply(f,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var c in this._layers)i.call(a,this._layers[c]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),x1=function(i,a){return new us(i,a)},ur=us.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),us.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),us.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new re;for(var a in this._layers){var c=this._layers[a];i.extend(c.getBounds?c.getBounds():c.getLatLng())}return i}}),b1=function(i,a){return new ur(i,a)},cs=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){w(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var c=this._getIconUrl(i);if(!c){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(i,a){var c=this.options,f=c[a+"Size"];typeof f=="number"&&(f=[f,f]);var _=B(f),T=B(a==="shadow"&&c.shadowAnchor||c.iconAnchor||_&&_.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(c.className||""),T&&(i.style.marginLeft=-T.x+"px",i.style.marginTop=-T.y+"px"),_&&(i.style.width=_.x+"px",i.style.height=_.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return ne.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function S1(i){return new cs(i)}var Bo=cs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Bo.imagePath!="string"&&(Bo.imagePath=this._detectIconPath()),(this.options.imagePath||Bo.imagePath)+cs.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(c,f,_){var T=f.exec(c);return T&&T[_]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Se("div","leaflet-default-icon-path",document.body),a=Ao(i,"background-image")||Ao(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Mm=Wn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Ar(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ve(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,c=a._map,f=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,T=Si(a._icon),O=c.getPixelBounds(),j=c.getPixelOrigin(),M=G(O.min._subtract(j).add(_),O.max._subtract(j).subtract(_));if(!M.contains(T)){var F=B((Math.max(M.max.x,T.x)-M.max.x)/(O.max.x-M.max.x)-(Math.min(M.min.x,T.x)-M.min.x)/(O.min.x-M.min.x),(Math.max(M.max.y,T.y)-M.max.y)/(O.max.y-M.max.y)-(Math.min(M.min.y,T.y)-M.min.y)/(O.min.y-M.min.y)).multiplyBy(f);c.panBy(F,{animate:!1}),this._draggable._newPos._add(F),this._draggable._startPos._add(F),Ye(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Q(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,c=a._shadow,f=Si(a._icon),_=a._map.layerPointToLatLng(f);c&&Ye(c,f),a._latlng=_,i.latlng=_,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),wl=gn.extend({options:{icon:new Bo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){w(this,a),this._latlng=ie(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=ie(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=i.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,i.title&&(c.title=i.title),c.tagName==="IMG"&&(c.alt=i.alt||"")),ve(c,a),i.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(c,"focus",this._panOnFocus,this);var _=i.icon.createShadow(this._shadow),T=!1;_!==this._shadow&&(this._removeShadow(),T=!0),_&&(ve(_,a),_.alt=""),this._shadow=_,i.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&T&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ce(this._icon,"focus",this._panOnFocus,this),Be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Be(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Ye(this._icon,i),this._shadow&&Ye(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mm)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mm(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&nn(this._icon,i),this._shadow&&nn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,c=a.iconSize?B(a.iconSize):B(0,0),f=a.iconAnchor?B(a.iconAnchor):B(0,0);i.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function E1(i,a){return new wl(i,a)}var jr=gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return w(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xl=jr.extend({options:{fill:!0,radius:10},initialize:function(i,a){w(this,a),this._latlng=ie(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=ie(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return jr.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,c=this._clickTolerance(),f=[i+c,a+c];this._pxBounds=new Y(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function k1(i,a){return new xl(i,a)}var md=xl.extend({initialize:function(i,a,c){if(typeof a=="number"&&(a=s({},c,{radius:a})),w(this,a),this._latlng=ie(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new re(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:jr.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===Et.distance){var _=Math.PI/180,T=this._mRadius/Et.R/_,O=c.project([a+T,i]),j=c.project([a-T,i]),M=O.add(j).divideBy(2),F=c.unproject(M).lat,K=Math.acos((Math.cos(T*_)-Math.sin(a*_)*Math.sin(F*_))/(Math.cos(a*_)*Math.cos(F*_)))/_;(isNaN(K)||K===0)&&(K=T/Math.cos(Math.PI/180*a)),this._point=M.subtract(c.getPixelOrigin()),this._radius=isNaN(K)?0:M.x-c.project([F,i-K]).x,this._radiusY=M.y-O.y}else{var le=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(le).x}this._updateBounds()}});function P1(i,a,c){return new md(i,a,c)}var cr=jr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){w(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,c=null,f=$o,_,T,O=0,j=this._parts.length;O<j;O++)for(var M=this._parts[O],F=1,K=M.length;F<K;F++){_=M[F-1],T=M[F];var le=f(i,_,T,!0);le<a&&(a=le,c=f(i,_,T))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jm(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=ie(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new re,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],c=rn(i),f=0,_=i.length;f<_;f++)c?(a[f]=ie(i[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(i[f]);return a},_project:function(){var i=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new I(i,i);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,c){var f=i[0]instanceof ae,_=i.length,T,O;if(f){for(O=[],T=0;T<_;T++)O[T]=this._map.latLngToLayerPoint(i[T]),c.extend(O[T]);a.push(O)}else for(T=0;T<_;T++)this._projectLatlngs(i[T],a,c)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,f,_,T,O,j,M;for(c=0,_=0,T=this._rings.length;c<T;c++)for(M=this._rings[c],f=0,O=M.length;f<O-1;f++)j=Lm(M[f],M[f+1],i,f,!0),j&&(a[_]=a[_]||[],a[_].push(j[0]),(j[1]!==M[f+1]||f===O-2)&&(a[_].push(j[1]),_++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,c=0,f=i.length;c<f;c++)i[c]=Om(i[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var c,f,_,T,O,j,M=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(c=0,T=this._parts.length;c<T;c++)for(j=this._parts[c],f=0,O=j.length,_=O-1;f<O;_=f++)if(!(!a&&f===0)&&Rm(i,j[_],j[f])<=M)return!0;return!1}});function T1(i,a){return new cr(i,a)}cr._flat=Am;var ds=cr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cm(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=cr.prototype._convertLatLngs.call(this,i),c=a.length;return c>=2&&a[0]instanceof ae&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(i){cr.prototype._setLatLngs.call(this,i),rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,c=new I(a,a);if(i=new Y(i.min.subtract(c),i.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,_=this._rings.length,T;f<_;f++)T=Tm(this._rings[f],i,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,c,f,_,T,O,j,M,F;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(T=0,M=this._parts.length;T<M;T++)for(c=this._parts[T],O=0,F=c.length,j=F-1;O<F;j=O++)f=c[O],_=c[j],f.y>i.y!=_.y>i.y&&i.x<(_.x-f.x)*(i.y-f.y)/(_.y-f.y)+f.x&&(a=!a);return a||cr.prototype._containsPoint.call(this,i,!0)}});function C1(i,a){return new ds(i,a)}var dr=ur.extend({initialize:function(i,a){w(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=x(i)?i:i.features,c,f,_;if(a){for(c=0,f=a.length;c<f;c++)_=a[c],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var T=this.options;if(T.filter&&!T.filter(i))return this;var O=bl(i,T);return O?(O.feature=kl(i),O.defaultOptions=O.options,this.resetStyle(O),T.onEachFeature&&T.onEachFeature(i,O),this.addLayer(O)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function bl(i,a){var c=i.type==="Feature"?i.geometry:i,f=c?c.coordinates:null,_=[],T=a&&a.pointToLayer,O=a&&a.coordsToLatLng||gd,j,M,F,K;if(!f&&!c)return null;switch(c.type){case"Point":return j=O(f),Dm(T,i,j,a);case"MultiPoint":for(F=0,K=f.length;F<K;F++)j=O(f[F]),_.push(Dm(T,i,j,a));return new ur(_);case"LineString":case"MultiLineString":return M=Sl(f,c.type==="LineString"?0:1,O),new cr(M,a);case"Polygon":case"MultiPolygon":return M=Sl(f,c.type==="Polygon"?1:2,O),new ds(M,a);case"GeometryCollection":for(F=0,K=c.geometries.length;F<K;F++){var le=bl({geometry:c.geometries[F],type:"Feature",properties:i.properties},a);le&&_.push(le)}return new ur(_);case"FeatureCollection":for(F=0,K=c.features.length;F<K;F++){var _e=bl(c.features[F],a);_e&&_.push(_e)}return new ur(_);default:throw new Error("Invalid GeoJSON object.")}}function Dm(i,a,c,f){return i?i(a,c):new wl(c,f&&f.markersInheritOptions&&f)}function gd(i){return new ae(i[1],i[0],i[2])}function Sl(i,a,c){for(var f=[],_=0,T=i.length,O;_<T;_++)O=a?Sl(i[_],a-1,c):(c||gd)(i[_]),f.push(O);return f}function vd(i,a){return i=ie(i),i.alt!==void 0?[m(i.lng,a),m(i.lat,a),m(i.alt,a)]:[m(i.lng,a),m(i.lat,a)]}function El(i,a,c,f){for(var _=[],T=0,O=i.length;T<O;T++)_.push(a?El(i[T],rn(i[T])?0:a-1,c,f):vd(i[T],f));return!a&&c&&_.length>0&&_.push(_[0].slice()),_}function hs(i,a){return i.feature?s({},i.feature,{geometry:a}):kl(a)}function kl(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var yd={toGeoJSON:function(i){return hs(this,{type:"Point",coordinates:vd(this.getLatLng(),i)})}};wl.include(yd),md.include(yd),xl.include(yd),cr.include({toGeoJSON:function(i){var a=!rn(this._latlngs),c=El(this._latlngs,a?1:0,!1,i);return hs(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),ds.include({toGeoJSON:function(i){var a=!rn(this._latlngs),c=a&&!rn(this._latlngs[0]),f=El(this._latlngs,c?2:a?1:0,!0,i);return a||(f=[f]),hs(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),us.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(i).geometry.coordinates)}),hs(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var c=a==="GeometryCollection",f=[];return this.eachLayer(function(_){if(_.toGeoJSON){var T=_.toGeoJSON(i);if(c)f.push(T.geometry);else{var O=kl(T);O.type==="FeatureCollection"?f.push.apply(f,O.features):f.push(O)}}}),c?hs(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function zm(i,a){return new dr(i,a)}var O1=zm,Pl=gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,c){this._url=i,this._bounds=te(a),w(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&as(this._image),this},bringToBack:function(){return this._map&&ls(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=te(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:Se("img");if(ve(a,"leaflet-image-layer"),this._zoomAnimated&&ve(a,"leaflet-zoom-animated"),this.options.className&&ve(a,this.options.className),a.onselectstart=y,a.onmousemove=y,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;bi(this._image,c,a)},_reset:function(){var i=this._image,a=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();Ye(i,a.min),i.style.width=c.x+"px",i.style.height=c.y+"px"},_updateOpacity:function(){nn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),R1=function(i,a,c){return new Pl(i,a,c)},$m=Pl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:Se("video");if(ve(a,"leaflet-image-layer"),this._zoomAnimated&&ve(a,"leaflet-zoom-animated"),this.options.className&&ve(a,this.options.className),a.onselectstart=y,a.onmousemove=y,a.onloadeddata=l(this.fire,this,"load"),i){for(var c=a.getElementsByTagName("source"),f=[],_=0;_<c.length;_++)f.push(c[_].src);this._url=c.length>0?f:[a.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var O=Se("source");O.src=this._url[T],a.appendChild(O)}}});function N1(i,a,c){return new $m(i,a,c)}var Bm=Pl.extend({_initImage:function(){var i=this._image=this._url;ve(i,"leaflet-image-layer"),this._zoomAnimated&&ve(i,"leaflet-zoom-animated"),this.options.className&&ve(i,this.options.className),i.onselectstart=y,i.onmousemove=y}});function L1(i,a,c){return new Bm(i,a,c)}var Hn=gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof ae||x(i))?(this._latlng=ie(i),w(this,a)):(w(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&nn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&nn(this._container,1),this.bringToFront(),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(nn(this._container,0),this._removeTimeout=setTimeout(l(Be,void 0,this._container),200)):Be(this._container),this.options.interactive&&(Ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=ie(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&as(this._container),this},bringToBack:function(){return this._map&&ls(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof ur){a=null;var c=this._source._layers;for(var f in c)if(c[f]._map){a=c[f];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=B(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ye(this._container,i.add(c)):a=a.add(i).add(c);var f=this._containerBottom=-a.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});xe.include({_initOverlay:function(i,a,c,f){var _=a;return _ instanceof i||(_=new i(f).setContent(a)),c&&_.setLatLng(c),_}}),gn.include({_initOverlay:function(i,a,c,f){var _=c;return _ instanceof i?(w(_,f),_._source=this):(_=a&&!f?a:new i(f,this),_.setContent(c)),_}});var Tl=Hn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Hn.prototype.openOn.call(this,i)},onAdd:function(i){Hn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof jr||this._source.on("preclick",Ei))},onRemove:function(i){Hn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof jr||this._source.off("preclick",Ei))},getEvents:function(){var i=Hn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=Se("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Se("div",i+"-content-wrapper",a);if(this._contentNode=Se("div",i+"-content",c),Do(a),ad(this._contentNode),fe(a,"contextmenu",Ei),this._tipContainer=Se("div",i+"-tip-container",a),this._tip=Se("div",i+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Se("a",i+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',fe(f,"click",function(_){ut(_),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var c=i.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var f=i.offsetHeight,_=this.options.maxHeight,T="leaflet-popup-scrolled";_&&f>_?(a.height=_+"px",ve(i,T)):Ke(i,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),c=this._getAnchor();Ye(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(Ao(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,f=this._containerWidth,_=new I(this._containerLeft,-c-this._containerBottom);_._add(Si(this._container));var T=i.layerPointToContainerPoint(_),O=B(this.options.autoPanPadding),j=B(this.options.autoPanPaddingTopLeft||O),M=B(this.options.autoPanPaddingBottomRight||O),F=i.getSize(),K=0,le=0;T.x+f+M.x>F.x&&(K=T.x+f-F.x+M.x),T.x-K-j.x<0&&(K=T.x-j.x),T.y+c+M.y>F.y&&(le=T.y+c-F.y+M.y),T.y-le-j.y<0&&(le=T.y-j.y),(K||le)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([K,le]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),A1=function(i,a){return new Tl(i,a)};xe.mergeOptions({closePopupOnClick:!0}),xe.include({openPopup:function(i,a,c){return this._initOverlay(Tl,i,a,c).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),gn.include({bindPopup:function(i,a){return this._popup=this._initOverlay(Tl,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof ur||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){ki(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof jr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Cl=Hn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Hn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Hn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Hn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Se("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,c,f=this._map,_=this._container,T=f.latLngToContainerPoint(f.getCenter()),O=f.layerPointToContainerPoint(i),j=this.options.direction,M=_.offsetWidth,F=_.offsetHeight,K=B(this.options.offset),le=this._getAnchor();j==="top"?(a=M/2,c=F):j==="bottom"?(a=M/2,c=0):j==="center"?(a=M/2,c=F/2):j==="right"?(a=0,c=F/2):j==="left"?(a=M,c=F/2):O.x<T.x?(j="right",a=0,c=F/2):(j="left",a=M+(K.x+le.x)*2,c=F/2),i=i.subtract(B(a,c,!0)).add(K).add(le),Ke(_,"leaflet-tooltip-right"),Ke(_,"leaflet-tooltip-left"),Ke(_,"leaflet-tooltip-top"),Ke(_,"leaflet-tooltip-bottom"),ve(_,"leaflet-tooltip-"+j),Ye(_,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&nn(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),j1=function(i,a){return new Cl(i,a)};xe.include({openTooltip:function(i,a,c){return this._initOverlay(Cl,i,a,c).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),gn.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Cl,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof ur||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(fe(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),fe(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,c,f;this._tooltip.options.sticky&&i.originalEvent&&(c=this._map.mouseEventToContainerPoint(i.originalEvent),f=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var Um=cs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),c=this.options;if(c.html instanceof Element?(pl(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=B(c.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function I1(i){return new Um(i)}cs.Default=Bo;var Uo=gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){w(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Be(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(as(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ls(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof I?i:new I(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,c=-i(-1/0,1/0),f=0,_=a.length,T;f<_;f++)T=a[f].style.zIndex,a[f]!==this._container&&T&&(c=i(c,+T));isFinite(c)&&(this.options.zIndex=c+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ne.ielt9){nn(this._container,this.options.opacity);var i=+new Date,a=!1,c=!1;for(var f in this._tiles){var _=this._tiles[f];if(!(!_.current||!_.loaded)){var T=Math.min(1,(i-_.loaded)/200);nn(_.el,T),T<1?a=!0:(_.active?c=!0:this._onOpaqueTile(_),_.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(Z(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:y,_initContainer:function(){this._container||(this._container=Se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===i?(this._levels[c].el.style.zIndex=a-Math.abs(i-c),this._onUpdateLevel(c)):(Be(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[i],_=this._map;return f||(f=this._levels[i]={},f.el=Se("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=_.project(_.unproject(_.getPixelOrigin()),i).round(),f.zoom=i,this._setZoomTransform(f,_.getCenter(),_.getZoom()),y(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:y,_onRemoveLevel:y,_onCreateLevel:y,_pruneTiles:function(){if(this._map){var i,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Be(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,c,f){var _=Math.floor(i/2),T=Math.floor(a/2),O=c-1,j=new I(+_,+T);j.z=+O;var M=this._tileCoordsToKey(j),F=this._tiles[M];return F&&F.active?(F.retain=!0,!0):(F&&F.loaded&&(F.retain=!0),O>f?this._retainParent(_,T,O,f):!1)},_retainChildren:function(i,a,c,f){for(var _=2*i;_<2*i+2;_++)for(var T=2*a;T<2*a+2;T++){var O=new I(_,T);O.z=c+1;var j=this._tileCoordsToKey(O),M=this._tiles[j];if(M&&M.active){M.retain=!0;continue}else M&&M.loaded&&(M.retain=!0);c+1<f&&this._retainChildren(_,T,c+1,f)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,c,f){var _=Math.round(a);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var T=this.options.updateWhenZooming&&_!==this._tileZoom;(!f||T)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(i),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],i,a)},_setZoomTransform:function(i,a,c){var f=this._map.getZoomScale(c,i.zoom),_=i.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,c)).round();ne.any3d?bi(i.el,_,f):Ye(i.el,_)},_resetGrid:function(){var i=this._map,a=i.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],f).x/c.x),Math.ceil(i.project([0,a.wrapLng[1]],f).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],f).y/c.x),Math.ceil(i.project([a.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(c,this._tileZoom),_=a.project(i,this._tileZoom).floor(),T=a.getSize().divideBy(f*2);return new Y(_.subtract(T),_.add(T))},_update:function(i){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(i),_=this._pxBoundsToTileRange(f),T=_.getCenter(),O=[],j=this.options.keepBuffer,M=new Y(_.getBottomLeft().subtract([j,-j]),_.getTopRight().add([j,-j]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var F in this._tiles){var K=this._tiles[F].coords;(K.z!==this._tileZoom||!M.contains(new I(K.x,K.y)))&&(this._tiles[F].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(i,c);return}for(var le=_.min.y;le<=_.max.y;le++)for(var _e=_.min.x;_e<=_.max.x;_e++){var Pt=new I(_e,le);if(Pt.z=this._tileZoom,!!this._isValidTile(Pt)){var ot=this._tiles[this._tileCoordsToKey(Pt)];ot?ot.current=!0:O.push(Pt)}}if(O.sort(function(At,ps){return At.distanceTo(T)-ps.distanceTo(T)}),O.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var sn=document.createDocumentFragment();for(_e=0;_e<O.length;_e++)this._addTile(O[_e],sn);this._level.el.appendChild(sn)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(i.x<c.min.x||i.x>c.max.x)||!a.wrapLat&&(i.y<c.min.y||i.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(i);return te(this.options.bounds).overlaps(f)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,c=this.getTileSize(),f=i.scaleBy(c),_=f.add(c),T=a.unproject(f,i.z),O=a.unproject(_,i.z);return[T,O]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),c=new re(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),c=new I(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(i){var a=this._tiles[i];a&&(Be(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){ve(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=y,i.onmousemove=y,ne.ielt9&&this.options.opacity<1&&nn(i,this.options.opacity)},_addTile:function(i,a){var c=this._getTilePos(i),f=this._tileCoordsToKey(i),_=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(_),this.createTile.length<2&&Q(l(this._tileReady,this,i,null,_)),Ye(_,c),this._tiles[f]={el:_,coords:i,current:!0},a.appendChild(_),this.fire("tileloadstart",{tile:_,coords:i})},_tileReady:function(i,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:i});var f=this._tileCoordsToKey(i);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?(nn(c.el,0),Z(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(ve(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ne.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new I(this._wrapX?p(i.x,this._wrapX):i.x,this._wrapY?p(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new Y(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function M1(i){return new Uo(i)}var fs=Uo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=w(this,a),a.detectRetina&&ne.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var c=document.createElement("img");return fe(c,"load",l(this._tileOnLoad,this,a,c)),fe(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(i),c},getTileUrl:function(i){var a={r:ne.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=c),a["-y"]=c}return S(this._url,s(a,this.options))},_tileOnLoad:function(i,a){ne.ielt9?setTimeout(l(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,c){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),i(c,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(i=a-i),i+f},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=y,a.onerror=y,!a.complete)){a.src=R;var c=this._tiles[i].coords;Be(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",R),Uo.prototype._removeTile.call(this,i)},_tileReady:function(i,a,c){if(!(!this._map||c&&c.getAttribute("src")===R))return Uo.prototype._tileReady.call(this,i,a,c)}});function Fm(i,a){return new fs(i,a)}var Wm=fs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var c=s({},this.defaultWmsParams);for(var f in a)f in this.options||(c[f]=a[f]);a=w(this,a);var _=a.detectRetina&&ne.retina?2:1,T=this.getTileSize();c.width=T.x*_,c.height=T.y*_,this.wmsParams=c},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,fs.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),c=this._crs,f=G(c.project(a[0]),c.project(a[1])),_=f.min,T=f.max,O=(this._wmsVersion>=1.3&&this._crs===Im?[_.y,_.x,T.y,T.x]:[_.x,_.y,T.x,T.y]).join(","),j=fs.prototype.getTileUrl.call(this,i);return j+P(this.wmsParams,j,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+O},setParams:function(i,a){return s(this.wmsParams,i),a||this.redraw(),this}});function D1(i,a){return new Wm(i,a)}fs.WMS=Wm,Fm.wms=D1;var hr=gn.extend({options:{padding:.1},initialize:function(i){w(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var c=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,a),T=f.multiplyBy(-c).add(_).subtract(this._map._getNewPixelOrigin(i,a));ne.any3d?bi(this._container,T,c):Ye(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new Y(c,c.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hm=hr.extend({options:{tolerance:0},getEvents:function(){var i=hr.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){hr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");fe(i,"mousemove",this._onMouseMove,this),fe(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),fe(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,Be(this._container),Ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){hr.prototype._update.call(this);var i=this._bounds,a=this._container,c=i.getSize(),f=ne.retina?2:1;Ye(a,i.min),a.width=f*c.x,a.height=f*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){hr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,c=a.next,f=a.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),c=[],f,_;for(_=0;_<a.length;_++){if(f=Number(a[_]),isNaN(f))return;c.push(f)}i.options._dashArray=c}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)i=f.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var c,f,_,T,O=i._parts,j=O.length,M=this._ctx;if(j){for(M.beginPath(),c=0;c<j;c++){for(f=0,_=O[c].length;f<_;f++)T=O[c][f],M[f?"lineTo":"moveTo"](T.x,T.y);a&&M.closePath()}this._fillStroke(M,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,c=this._ctx,f=Math.max(Math.round(i._radius),1),_=(Math.max(Math.round(i._radiusY),1)||f)/f;_!==1&&(c.save(),c.scale(1,_)),c.beginPath(),c.arc(a.x,a.y/_,f,0,Math.PI*2,!1),_!==1&&c.restore(),this._fillStroke(c,i)}},_fillStroke:function(i,a){var c=a.options;c.fill&&(i.globalAlpha=c.fillOpacity,i.fillStyle=c.fillColor||c.color,i.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=c.opacity,i.lineWidth=c.weight,i.strokeStyle=c.color,i.lineCap=c.lineCap,i.lineJoin=c.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),c,f,_=this._drawFirst;_;_=_.next)c=_.layer,c.options.interactive&&c._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(Ke(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var c,f,_=this._drawFirst;_;_=_.next)c=_.layer,c.options.interactive&&c._containsPoint(a)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(i),f&&(ve(this._container,"leaflet-interactive"),this._fireEvent([f],i,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,c){this._map._fireDOMEvent(a,c||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var c=a.next,f=a.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var c=a.next,f=a.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function Vm(i){return ne.canvas?new Hm(i):null}var Fo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),z1={_initContainer:function(){this._container=Se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(hr.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=Fo("shape");ve(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=Fo("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;Be(a),i.removeInteractiveTarget(a),delete this._layers[d(i)]},_updateStyle:function(i){var a=i._stroke,c=i._fill,f=i.options,_=i._container;_.stroked=!!f.stroke,_.filled=!!f.fill,f.stroke?(a||(a=i._stroke=Fo("stroke")),_.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=x(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(_.removeChild(a),i._stroke=null),f.fill?(c||(c=i._fill=Fo("fill")),_.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(_.removeChild(c),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),c=Math.round(i._radius),f=Math.round(i._radiusY||c);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){as(i._container)},_bringToBack:function(i){ls(i._container)}},Ol=ne.vml?Fo:rs,Wo=hr.extend({_initContainer:function(){this._container=Ol("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ol("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Be(this._container),Ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){hr.prototype._update.call(this);var i=this._bounds,a=i.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),Ye(c,i.min),c.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=Ol("path");i.options.className&&ve(a,i.options.className),i.options.interactive&&ve(a,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Be(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,c=i.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,yi(i._parts,a))},_updateCircle:function(i){var a=i._point,c=Math.max(Math.round(i._radius),1),f=Math.max(Math.round(i._radiusY),1)||c,_="a"+c+","+f+" 0 1,0 ",T=i._empty()?"M0 0":"M"+(a.x-c)+","+a.y+_+c*2+",0 "+_+-c*2+",0 ";this._setPath(i,T)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){as(i._path)},_bringToBack:function(i){ls(i._path)}});ne.vml&&Wo.include(z1);function qm(i){return ne.svg||ne.vml?new Wo(i):null}xe.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&Vm(i)||qm(i)}});var Zm=ds.extend({initialize:function(i,a){ds.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=te(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function $1(i,a){return new Zm(i,a)}Wo.create=Ol,Wo.pointsToPath=yi,dr.geometryToLayer=bl,dr.coordsToLatLng=gd,dr.coordsToLatLngs=Sl,dr.latLngToCoords=vd,dr.latLngsToCoords=El,dr.getFeature=hs,dr.asFeature=kl,xe.mergeOptions({boxZoom:!0});var Km=Wn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),jo(),Xc(),this._startPoint=this._map.mouseEventToContainerPoint(i),fe(document,{contextmenu:ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Se("div","leaflet-zoom-box",this._container),ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new Y(this._point,this._startPoint),c=a.getSize();Ye(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Be(this._box),Ke(this._container,"leaflet-crosshair")),Io(),ed(),Ce(document,{contextmenu:ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new re(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xe.addInitHook("addHandler","boxZoom",Km),xe.mergeOptions({doubleClickZoom:!0});var Gm=Wn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,c=a.getZoom(),f=a.options.zoomDelta,_=i.originalEvent.shiftKey?c-f:c+f;a.options.doubleClickZoom==="center"?a.setZoom(_):a.setZoomAround(i.containerPoint,_)}});xe.addInitHook("addHandler","doubleClickZoom",Gm),xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ym=Wn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Ar(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ke(this._map._container,"leaflet-grab"),Ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=te(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,_=(f-a+c)%i+a-c,T=(f+a+c)%i-a-c,O=Math.abs(_+c)<Math.abs(T+c)?_:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=O},_onDragEnd:function(i){var a=this._map,c=a.options,f=!c.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),f)a.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,O=c.easeLinearity,j=_.multiplyBy(O/T),M=j.distanceTo([0,0]),F=Math.min(c.inertiaMaxSpeed,M),K=j.multiplyBy(F/M),le=F/(c.inertiaDeceleration*O),_e=K.multiplyBy(-le/2).round();!_e.x&&!_e.y?a.fire("moveend"):(_e=a._limitOffset(_e,a.options.maxBounds),Q(function(){a.panBy(_e,{duration:le,easeLinearity:O,noMoveStart:!0,animate:!0})}))}}});xe.addInitHook("addHandler","dragging",Ym),xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Jm=Wn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),fe(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,c=i.scrollTop||a.scrollTop,f=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},c=this.keyCodes,f,_;for(f=0,_=c.left.length;f<_;f++)a[c.left[f]]=[-1*i,0];for(f=0,_=c.right.length;f<_;f++)a[c.right[f]]=[i,0];for(f=0,_=c.down.length;f<_;f++)a[c.down[f]]=[0,i];for(f=0,_=c.up.length;f<_;f++)a[c.up[f]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},c=this.keyCodes,f,_;for(f=0,_=c.zoomIn.length;f<_;f++)a[c.zoomIn[f]]=i;for(f=0,_=c.zoomOut.length;f<_;f++)a[c.zoomOut[f]]=-i},_addHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,c=this._map,f;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[a],i.shiftKey&&(f=B(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(B(f),c.options.maxBounds)),c.options.worldCopyJump){var _=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(_)}else c.panBy(f)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;ki(i)}}});xe.addInitHook("addHandler","keyboard",Jm),xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Qm=Wn.extend({addHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=bm(i),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),ki(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),c=this._map.options.zoomSnap||0;i._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,T=c?Math.ceil(_/c)*c:_,O=i._limitZoom(a+(this._delta>0?T:-T))-a;this._delta=0,this._startTime=null,O&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+O):i.setZoomAround(this._lastMousePos,a+O))}});xe.addInitHook("addHandler","scrollWheelZoom",Qm);var B1=600;xe.mergeOptions({tapHold:ne.touchNative&&ne.safari&&ne.mobile,tapTolerance:15});var Xm=Wn.extend({addHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new I(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(fe(document,"touchend",ut),fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),B1),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Ce(document,"touchend",ut),Ce(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Ce(document,"touchend touchcancel contextmenu",this._cancel,this),Ce(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new I(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var c=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});xe.addInitHook("addHandler","tapHold",Xm),xe.mergeOptions({touchZoom:ne.touch,bounceAtZoomLimits:!0});var eg=Wn.extend({addHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ke(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(i.touches[0]),f=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),ut(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(i.touches[0]),f=a.mouseEventToContainerPoint(i.touches[1]),_=c.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(_,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&_<1||this._zoom>a.getMaxZoom()&&_>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var T=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(_===1&&T.x===0&&T.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var O=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(O,this,!0),ut(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xe.addInitHook("addHandler","touchZoom",eg),xe.BoxZoom=Km,xe.DoubleClickZoom=Gm,xe.Drag=Ym,xe.Keyboard=Jm,xe.ScrollWheelZoom=Qm,xe.TapHold=Xm,xe.TouchZoom=eg,n.Bounds=Y,n.Browser=ne,n.CRS=ge,n.Canvas=Hm,n.Circle=md,n.CircleMarker=xl,n.Class=q,n.Control=mn,n.DivIcon=Um,n.DivOverlay=Hn,n.DomEvent=i1,n.DomUtil=n1,n.Draggable=Ar,n.Evented=ue,n.FeatureGroup=ur,n.GeoJSON=dr,n.GridLayer=Uo,n.Handler=Wn,n.Icon=cs,n.ImageOverlay=Pl,n.LatLng=ae,n.LatLngBounds=re,n.Layer=gn,n.LayerGroup=us,n.LineUtil=v1,n.Map=xe,n.Marker=wl,n.Mixin=d1,n.Path=jr,n.Point=I,n.PolyUtil=h1,n.Polygon=ds,n.Polyline=cr,n.Popup=Tl,n.PosAnimation=Sm,n.Projection=y1,n.Rectangle=Zm,n.Renderer=hr,n.SVG=Wo,n.SVGOverlay=Bm,n.TileLayer=fs,n.Tooltip=Cl,n.Transformation=Xt,n.Util=me,n.VideoOverlay=$m,n.bind=l,n.bounds=G,n.canvas=Vm,n.circle=P1,n.circleMarker=k1,n.control=zo,n.divIcon=I1,n.extend=s,n.featureGroup=b1,n.geoJSON=zm,n.geoJson=O1,n.gridLayer=M1,n.icon=S1,n.imageOverlay=R1,n.latLng=ie,n.latLngBounds=te,n.layerGroup=x1,n.map=s1,n.marker=E1,n.point=B,n.polygon=C1,n.polyline=T1,n.popup=A1,n.rectangle=$1,n.setOptions=w,n.stamp=d,n.svg=qm,n.svgOverlay=L1,n.tileLayer=Fm,n.tooltip=j1,n.transformation=en,n.version=r,n.videoOverlay=N1;var U1=window.L;n.noConflict=function(){return window.L=U1,this},window.L=n})})(Df,Df.exports);var Lj=Df.exports;const ya=zf(Lj),Aj=ya.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34]});ya.Marker.prototype.options.icon=Aj;const jj=()=>{const[e,t]=E.useState([]),n=E.useRef(null),r=E.useRef(null);return E.useEffect(()=>{if(!r.current||n.current)return;const s=ya.map(r.current).setView([33.6844,73.0479],12);return n.current=s,ya.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(s),navigator.geolocation&&navigator.geolocation.getCurrentPosition(o=>{s.setView([o.coords.latitude,o.coords.longitude],12)}),()=>{s.remove(),n.current=null}},[]),E.useEffect(()=>{(async()=>{const{data:o}=await ce.from("provider_details").select("user_id, description, location_lat, location_lng, is_available").eq("is_available",!0).not("location_lat","is",null);if(!o||o.length===0)return;const l=o.map(m=>m.user_id),{data:u}=await ce.from("profiles").select("user_id, full_name, phone").in("user_id",l),{data:d}=await ce.from("provider_categories").select("user_id, category_id, categories(name)").in("user_id",l),h=new Map((u==null?void 0:u.map(m=>[m.user_id,m]))||[]),p=new Map;d==null||d.forEach(m=>{var k;const v=p.get(m.user_id)||[];v.push(((k=m.categories)==null?void 0:k.name)||""),p.set(m.user_id,v)});const y=o.filter(m=>m.location_lat&&m.location_lng).map(m=>{var v,k;return{user_id:m.user_id,full_name:((v=h.get(m.user_id))==null?void 0:v.full_name)||"Unknown",phone:((k=h.get(m.user_id))==null?void 0:k.phone)||"",description:m.description,location_lat:m.location_lat,location_lng:m.location_lng,is_available:m.is_available??!0,categories:p.get(m.user_id)||[]}});t(y)})()},[]),E.useEffect(()=>{const s=n.current;if(!s||e.length===0)return;const o=[];return e.forEach(l=>{const u=ya.marker([l.location_lat,l.location_lng]).addTo(s);u.bindPopup(`
        <div style="min-width:180px">
          <h3 style="font-weight:600;font-size:14px;margin:0">${l.full_name}</h3>
          <p style="font-size:12px;color:#666;margin:2px 0">${l.categories.join(", ")}</p>
          ${l.description?`<p style="font-size:12px;margin:4px 0">${l.description}</p>`:""}
          <div style="display:flex;gap:4px;margin-top:8px">
            ${l.phone?`<a href="tel:${l.phone}" style="font-size:12px;background:#f97316;color:white;padding:4px 8px;border-radius:4px;text-decoration:none"> Call</a>`:""}
            <a href="/provider/${l.user_id}" style="font-size:12px;background:#e5e7eb;padding:4px 8px;border-radius:4px;text-decoration:none">View</a>
          </div>
        </div>
      `),o.push(u)}),()=>{o.forEach(l=>l.remove())}},[e]),g.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[g.jsx(nr,{}),g.jsx("main",{className:"flex-1 relative",children:g.jsx("div",{ref:r,style:{height:"calc(100vh - 64px)",width:"100%"}})})]})},Ij=()=>{const e=ko();return E.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),g.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Mj=new uR,Dj=()=>g.jsx(dR,{client:Mj,children:g.jsx($O,{children:g.jsxs(VA,{children:[g.jsx(xT,{}),g.jsx(XT,{}),g.jsx(lN,{children:g.jsxs(eN,{children:[g.jsx(Ft,{path:"/",element:g.jsx(t2,{})}),g.jsx(Ft,{path:"/auth",element:g.jsx(a2,{})}),g.jsx(Ft,{path:"/reset-password",element:g.jsx(l2,{})}),g.jsx(Ft,{path:"/complete-profile",element:g.jsx(u2,{})}),g.jsx(Ft,{path:"/search",element:g.jsx(d2,{})}),g.jsx(Ft,{path:"/provider/:id",element:g.jsx(h2,{})}),g.jsx(Ft,{path:"/provider-setup",element:g.jsx(f2,{})}),g.jsx(Ft,{path:"/dashboard",element:g.jsx(w2,{})}),g.jsx(Ft,{path:"/admin",element:g.jsx(Rj,{})}),g.jsx(Ft,{path:"/chat/:conversationId",element:g.jsx(Nj,{})}),g.jsx(Ft,{path:"/map",element:g.jsx(jj,{})}),g.jsx(Ft,{path:"*",element:g.jsx(Ij,{})})]})})]})})});e0(document.getElementById("root")).render(g.jsx(Dj,{}));
